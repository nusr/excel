/* 
MIT License

Copyright (c) 2020 Steve Xu

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

*/
import{a as Oo}from"./chunk-S76M7AWC.js";import{b as Fs,c as Tu,d as Mt}from"./chunk-RBTA6K5V.js";var nm=Fs(Y=>{"use strict";var ge=typeof Symbol=="function"&&Symbol.for,au=ge?Symbol.for("react.element"):60103,cu=ge?Symbol.for("react.portal"):60106,Ts=ge?Symbol.for("react.fragment"):60107,Is=ge?Symbol.for("react.strict_mode"):60108,vs=ge?Symbol.for("react.profiler"):60114,ws=ge?Symbol.for("react.provider"):60109,xs=ge?Symbol.for("react.context"):60110,uu=ge?Symbol.for("react.async_mode"):60111,Rs=ge?Symbol.for("react.concurrent_mode"):60111,Cs=ge?Symbol.for("react.forward_ref"):60112,ks=ge?Symbol.for("react.suspense"):60113,BT=ge?Symbol.for("react.suspense_list"):60120,As=ge?Symbol.for("react.memo"):60115,Os=ge?Symbol.for("react.lazy"):60116,UT=ge?Symbol.for("react.block"):60121,HT=ge?Symbol.for("react.fundamental"):60117,$T=ge?Symbol.for("react.responder"):60118,GT=ge?Symbol.for("react.scope"):60119;function Be(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case au:switch(e=e.type,e){case uu:case Rs:case Ts:case vs:case Is:case ks:return e;default:switch(e=e&&e.$$typeof,e){case xs:case Cs:case Os:case As:case ws:return e;default:return t}}case cu:return t}}}function tm(e){return Be(e)===Rs}Y.AsyncMode=uu;Y.ConcurrentMode=Rs;Y.ContextConsumer=xs;Y.ContextProvider=ws;Y.Element=au;Y.ForwardRef=Cs;Y.Fragment=Ts;Y.Lazy=Os;Y.Memo=As;Y.Portal=cu;Y.Profiler=vs;Y.StrictMode=Is;Y.Suspense=ks;Y.isAsyncMode=function(e){return tm(e)||Be(e)===uu};Y.isConcurrentMode=tm;Y.isContextConsumer=function(e){return Be(e)===xs};Y.isContextProvider=function(e){return Be(e)===ws};Y.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===au};Y.isForwardRef=function(e){return Be(e)===Cs};Y.isFragment=function(e){return Be(e)===Ts};Y.isLazy=function(e){return Be(e)===Os};Y.isMemo=function(e){return Be(e)===As};Y.isPortal=function(e){return Be(e)===cu};Y.isProfiler=function(e){return Be(e)===vs};Y.isStrictMode=function(e){return Be(e)===Is};Y.isSuspense=function(e){return Be(e)===ks};Y.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ts||e===Rs||e===vs||e===Is||e===ks||e===BT||typeof e=="object"&&e!==null&&(e.$$typeof===Os||e.$$typeof===As||e.$$typeof===ws||e.$$typeof===xs||e.$$typeof===Cs||e.$$typeof===HT||e.$$typeof===$T||e.$$typeof===GT||e.$$typeof===UT)};Y.typeOf=Be});var om=Fs((SM,rm)=>{"use strict";rm.exports=nm()});var vo=Fs((EM,lm)=>{"use strict";var lu=om(),WT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},du={};du[lu.ForwardRef]=zT;du[lu.Memo]=cm;function im(e){return lu.isMemo(e)?cm:du[e.$$typeof]||WT}var qT=Object.defineProperty,YT=Object.getOwnPropertyNames,sm=Object.getOwnPropertySymbols,VT=Object.getOwnPropertyDescriptor,KT=Object.getPrototypeOf,am=Object.prototype;function um(e,t,n){if(typeof t!="string"){if(am){var r=KT(t);r&&r!==am&&um(e,r,n)}var o=YT(t);sm&&(o=o.concat(sm(t)));for(var i=im(e),s=im(t),a=0;a<o.length;++a){var c=o[a];if(!jT[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=VT(t,c);try{qT(e,c,u)}catch{}}}}return e}lm.exports=um});var Iu=Object.prototype.toString;function Zt(e){switch(Iu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ne(e,Error)}}function kn(e,t){return Iu.call(e)===`[object ${t}]`}function An(e){return kn(e,"ErrorEvent")}function No(e){return kn(e,"DOMError")}function Bs(e){return kn(e,"DOMException")}function ye(e){return kn(e,"String")}function On(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Qt(e){return e===null||On(e)||typeof e!="object"&&typeof e!="function"}function Qe(e){return kn(e,"Object")}function en(e){return typeof Event<"u"&&Ne(e,Event)}function Us(e){return typeof Element<"u"&&Ne(e,Element)}function Hs(e){return kn(e,"RegExp")}function Ue(e){return!!(e&&e.then&&typeof e.then=="function")}function $s(e){return Qe(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function mr(e){return typeof e=="number"&&e!==e}function Ne(e,t){try{return e instanceof t}catch{return!1}}function hr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function dt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Mo(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{hr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function vu(e,t,n=!1){return ye(e)?Hs(t)?t.test(e):ye(t)?n?e===t:e.includes(t):!1:!1}function ft(e,t=[],n=!1){return t.some(r=>vu(e,r,n))}function gr(e,t,n=250,r,o,i,s){if(!i.exception||!i.exception.values||!s||!Ne(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Om(Gs(e,t,o,s.originalException,r,i.exception.values,a,0),n))}function Gs(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(Ne(r[o],Error)){wu(s,a);let u=e(t,r[o]),l=c.length;xu(u,o,l,a),c=Gs(e,t,n,r[o],o,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(Ne(u,Error)){wu(s,a);let d=e(t,u),f=c.length;xu(d,`errors[${l}]`,f,a),c=Gs(e,t,n,u,o,[d,...c],d,f)}}),c}function wu(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function xu(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Om(e,t){return e.map(n=>(n.value&&(n.value=dt(n.value,t)),n))}function Do(e){return e&&e.Math==Math?e:void 0}var x=typeof globalThis=="object"&&Do(globalThis)||typeof window=="object"&&Do(window)||typeof self=="object"&&Do(self)||typeof global=="object"&&Do(global)||function(){return this}()||{};function tn(){return x}function _r(e,t,n){let r=n||x,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}var Nn=tn(),Nm=80;function Me(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Nm;for(;n&&i++<r&&(u=Mm(n,l),!(u==="html"||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Mm(e,t){let n=e,r=[],o,i,s,a,c;if(!n||!n.tagName)return"";if(Nn.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());let u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&ye(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=n.getAttribute(s),a&&r.push(`[${s}="${a}"]`);return r.join("")}function yr(){try{return Nn.document.location.href}catch{return""}}function Sr(e){return Nn.document&&Nn.document.querySelector?Nn.document.querySelector(e):null}function Er(e){if(!Nn.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}var He=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Dm="Sentry Logger ",br=["debug","info","warn","error","log","assert","trace"],Mn={};function $e(e){if(!("console"in x))return e();let t=x.console,n={},r=Object.keys(Mn);r.forEach(o=>{let i=Mn[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Lm(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return He?br.forEach(n=>{t[n]=(...r)=>{e&&$e(()=>{x.console[n](`${Dm}[${n}]:`,...r)})}}):br.forEach(n=>{t[n]=()=>{}}),t}var p=Lm();var Pm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Fm(e){return e==="http"||e==="https"}function De(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Lo(e){let t=Pm.exec(e);if(!t){$e(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i,s="",a]=t.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let d=u.match(/^\d+/);d&&(u=d[0])}return Ru({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function Ru(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Bm(e){if(!He)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(p.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?Fm(r)?t&&isNaN(parseInt(t,10))?(p.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(p.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(p.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Tr(e){let t=typeof e=="string"?Lo(e):Ru(e);if(!(!t||!Bm(t)))return t}var Se=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function Q(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&Po(o,r),e[t]=o}function xe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{He&&p.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Po(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,xe(e,"__sentry_original__",t)}catch{}}function nn(e){return e.__sentry_original__}function js(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Fo(e){if(Zt(e))return{message:e.message,name:e.name,stack:e.stack,...ku(e)};if(en(e)){let t={type:e.type,target:Cu(e.target),currentTarget:Cu(e.currentTarget),...ku(e)};return typeof CustomEvent<"u"&&Ne(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Cu(e){try{return Us(e)?Me(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ku(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function zs(e,t=40){let n=Object.keys(Fo(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return dt(n[0],t);for(let r=n.length;r>0;r--){let o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:dt(o,t)}return""}function j(e){return Ws(e,new Map)}function Ws(e,t){if(Um(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=Ws(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(Ws(o,t))}),r}return e}function Um(e){if(!Qe(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var Nu=50,Au=/\(error: (.*)\)/,Ou=/captureMessage|captureException/;function Bo(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{let o=[],i=n.split(`
`);for(let s=r;s<i.length;s++){let a=i[s];if(a.length>1024)continue;let c=Au.test(a)?a.replace(Au,"$1"):a;if(!c.match(/\S*Error: /)){for(let u of t){let l=u(c);if(l){o.push(l);break}}if(o.length>=Nu)break}}return Mu(o)}}function Ys(e){return Array.isArray(e)?Bo(...e):e}function Mu(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Ou.test(t[t.length-1].function||"")&&(t.pop(),Ou.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Nu).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}var qs="<anonymous>";function Re(e){try{return!e||typeof e!="function"?qs:e.name||qs}catch{return qs}}var Uo={},Du={};function Ce(e,t){Uo[e]=Uo[e]||[],Uo[e].push(t)}function ke(e,t){Du[e]||(t(),Du[e]=!0)}function me(e,t){let n=e&&Uo[e];if(n)for(let r of n)try{r(t)}catch(o){He&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Re(r)}
Error:`,o)}}function Vs(e){let t="console";Ce(t,e),ke(t,Hm)}function Hm(){"console"in x&&br.forEach(function(e){e in x.console&&Q(x.console,e,function(t){return Mn[e]=t,function(...n){me("console",{args:n,level:e});let o=Mn[e];o&&o.apply(x.console,n)}})})}function D(){let e=x,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Lu(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function et(e){let{message:t,event_id:n}=e;if(t)return t;let r=Lu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Dn(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function It(e,t){let n=Lu(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o&&o.data,...t.data};n.mechanism.data=i}}function Ho(e){if(e&&e.__sentry_captured__)return!0;try{xe(e,"__sentry_captured__",!0)}catch{}return!1}function Ir(e){return Array.isArray(e)?e:[e]}var Ln=x,$m=1e3,Pu,Ks,Js;function vr(e){let t="dom";Ce(t,e),ke(t,Gm)}function Gm(){if(!Ln.document)return;let e=me.bind(null,"dom"),t=Fu(e,!0);Ln.document.addEventListener("click",t,!1),Ln.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=Ln[n]&&Ln[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Q(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){let d=Fu(e);l.handler=d,o.call(this,i,d,a)}l.refCount++}catch{}return o.call(this,i,s,a)}}),Q(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(o.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function Wm(e){if(e.type!==Ks)return!1;try{if(!e.target||e.target._sentryId!==Js)return!1}catch{}return!0}function jm(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Fu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=zm(n);if(jm(n.type,r))return;xe(n,"_sentryCaptured",!0),r&&!r._sentryId&&xe(r,"_sentryId",D());let o=n.type==="keypress"?"input":n.type;Wm(n)||(e({event:n,name:o,global:t}),Ks=n.type,Js=r?r._sentryId:void 0),clearTimeout(Pu),Pu=Ln.setTimeout(()=>{Js=void 0,Ks=void 0},$m)}}function zm(e){try{return e.target}catch{return null}}var Xs=tn();function $o(){if(!("fetch"in Xs))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Zs(){if(typeof EdgeRuntime=="string")return!0;if(!$o())return!1;if(wr(Xs.fetch))return!0;let e=!1,t=Xs.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=wr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){He&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function rn(e){let t="fetch";Ce(t,e),ke(t,qm)}function qm(){Zs()&&Q(x,"fetch",function(e){return function(...t){let{method:n,url:r}=Ym(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return me("fetch",{...o}),e.apply(x,t).then(i=>{let s={...o,endTimestamp:Date.now(),response:i};return me("fetch",s),i},i=>{let s={...o,endTimestamp:Date.now(),error:i};throw me("fetch",s),i})}})}function Qs(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Bu(e){return typeof e=="string"?e:e?Qs(e,"url")?e.url:e.toString?e.toString():"":""}function Ym(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Bu(n),method:Qs(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Bu(t),method:Qs(t,"method")?String(t.method).toUpperCase():"GET"}}var Go=null;function xr(e){let t="error";Ce(t,e),ke(t,Vm)}function Vm(){Go=x.onerror,x.onerror=function(e,t,n,r,o){return me("error",{column:r,error:o,line:n,msg:e,url:t}),Go&&!Go.__SENTRY_LOADER__?Go.apply(this,arguments):!1},x.onerror.__SENTRY_INSTRUMENTED__=!0}var Wo=null;function Rr(e){let t="unhandledrejection";Ce(t,e),ke(t,Km)}function Km(){Wo=x.onunhandledrejection,x.onunhandledrejection=function(e){return me("unhandledrejection",e),Wo&&!Wo.__SENTRY_LOADER__?Wo.apply(this,arguments):!0},x.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var jo=tn();function Uu(){let e=jo.chrome,t=e&&e.app&&e.app.runtime,n="history"in jo&&!!jo.history.pushState&&!!jo.history.replaceState;return!t&&n}var Cr=x,zo;function tt(e){let t="history";Ce(t,e),ke(t,Jm)}function Jm(){if(!Uu())return;let e=Cr.onpopstate;Cr.onpopstate=function(...n){let r=Cr.location.href,o=zo;if(zo=r,me("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let i=zo,s=String(o);zo=s,me("history",{from:i,to:s})}return n.apply(this,r)}}Q(Cr.history,"pushState",t),Q(Cr.history,"replaceState",t)}var Xm=x,Ge="__sentry_xhr_v3__";function on(e){let t="xhr";Ce(t,e),ke(t,Zm)}function Zm(){if(!Xm.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Q(e,"open",function(t){return function(...n){let r=Date.now(),o=ye(n[0])?n[0].toUpperCase():void 0,i=Qm(n[1]);if(!o||!i)return t.apply(this,n);this[Ge]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[Ge];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}let c={args:[o,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};me("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Q(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),Q(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,d=this[Ge];return d&&ye(u)&&ye(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),Q(e,"send",function(t){return function(...n){let r=this[Ge];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);let o={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return me("xhr",o),t.apply(this,n)}})}function Qm(e){if(ye(e))return e;try{return e.toString()}catch{}}function ea(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ta(){return"npm"}function Hu(){return!ea()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Pn(){return typeof window<"u"&&(!Hu()||eh())}function eh(){return x.process!==void 0&&x.process.type==="renderer"}function $u(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let i=0;i<t.length;i++)if(t[i]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1);break}}return[n,r]}function Ae(e,t=100,n=1/0){try{return qo("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Yo(e,t=3,n=100*1024){let r=Ae(e,t);return oh(r)>n?Yo(e,t-1,n):r}function qo(e,t,n=1/0,r=1/0,o=$u()){let[i,s]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!mr(t))return t;let a=th(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return qo("",m,c-1,r,o)}catch{}let l=Array.isArray(t)?[]:{},d=0,f=Fo(t);for(let m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=r){l[m]="[MaxProperties ~]";break}let h=f[m];l[m]=qo(m,h,c-1,r,o),d++}return s(t),l}function th(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(hr(t))return"[VueViewModel]";if($s(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Re(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=nh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function nh(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function rh(e){return~-encodeURI(e).split(/%..|./).length}function oh(e){return rh(JSON.stringify(e))}var vt;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(vt||(vt={}));function nt(e){return new Le(t=>{t(e)})}function sn(e){return new Le((t,n)=>{n(e)})}var Le=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=vt.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(vt.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(vt.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===vt.PENDING){if(Ue(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===vt.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===vt.RESOLVED&&n[1](this._value),this._state===vt.REJECTED&&n[2](this._value),n[0]=!0)})}}};function na(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]}function o(s){if(!n())return sn(new Se("Not adding Promise because buffer limit was reached."));let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Le((a,c)=>{let u=t.length;if(!u)return a(!0);let l=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{nt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:o,drain:i}}function an(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Vo(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}var Gu=["fatal","error","warning","log","info","debug"];function ra(e){return e==="warn"?"warning":Gu.includes(e)?e:"log"}var Wu=1e3;function pt(){return Date.now()/Wu}function ih(){let{performance:e}=x;if(!e||!e.now)return pt;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Wu}var fe=ih();var kr,ne=(()=>{let{performance:e}=x;if(!e||!e.now){kr="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?(kr="timeOrigin",e.timeOrigin):(kr="navigationStart",s):(kr="dateNow",r)})();var Fn="baggage",oa="sentry-",zu=/^sentry-/,qu=8192;function Ko(e){if(!ye(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,o)=>{let i=ju(o);for(let s of Object.keys(i))r[s]=i[s];return r},{});else{if(!e)return;t=ju(e)}let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(zu)){let s=o.slice(oa.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Ar(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${oa}${r}`]=o),n),{});return sh(t)}function ju(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function sh(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>qu?(He&&p.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Yu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Or(e){if(!e)return;let t=e.match(Yu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ia(e,t){let n=Or(e),r=Ko(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||D(),parentSpanId:i||D().substring(16),spanId:D().substring(16),sampled:s,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||D(),spanId:D().substring(16)}}}function Nr(e,t){let n=Or(e),r=Ko(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceId:o||D(),parentSpanId:i||D().substring(16),spanId:D().substring(16),sampled:s,dsc:r||{}}:{traceId:o||D(),spanId:D().substring(16)}}function cn(e=D(),t=D().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ee(e,t=[]){return[e,t]}function aa(e,t){let[n,r]=e;return[n,[...r,t]]}function rt(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function ca(e,t){return rt(e,(n,r)=>t.includes(r))}function sa(e,t){return(t||new TextEncoder).encode(e)}function Mr(e,t){let[n,r]=e,o=JSON.stringify(n);function i(s){typeof o=="string"?o=typeof s=="string"?o+s:[sa(o,t),s]:o.push(typeof s=="string"?sa(s,t):s)}for(let s of r){let[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Ae(c))}i(u)}}return typeof o=="string"?o:ah(o)}function ah(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function ua(e,t,n){let r=typeof e=="string"?t.encode(e):e;function o(c){let u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(o(c)))}let s=i(),a=[];for(;r.length;){let c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?o(u):i()])}return[s,a]}function la(e,t){let n=typeof e.data=="string"?sa(e.data,t):e.data;return[j({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var ch={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function Jo(e){return ch[e]}function Bn(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Dr(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:De(r)},...o&&{trace:j({...o})}}}function da(e,t,n){let r=[{type:"client_report"},{timestamp:n||pt(),discarded_events:e}];return Ee(t?{dsn:t}:{},[r])}function Xo(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Vu(e,t){return e[t]||e.all||0}function Lr(e,t,n=Date.now()){return Vu(e,t)>n}function Pr(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u]=a.split(":",2),l=parseInt(c,10),d=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+d;else for(let f of u.split(";"))o[f]=r+d}else s?o.all=r+Xo(s,r):t===429&&(o.all=r+60*1e3);return o}function Ku(e,t){return e(t.stack||"",1)}function fa(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=Ku(e,t);return r.length&&(n.stacktrace={frames:r}),n}function pa(e,t){return e??t()}function un(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var E=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var ot="production";function Fr(){return _r("globalEventProcessors",()=>[])}function Zo(e){Fr().push(e)}function ln(e,t,n,r=0){return new Le((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);E&&s.id&&a===null&&p.log(`Event processor "${s.id}" dropped event`),Ue(a)?a.then(c=>ln(e,c,n,r+1).then(o)).then(null,i):ln(e,a,n,r+1).then(o).then(null,i)}})}function Qo(e){let t=fe(),n={sid:D(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>uh(n)};return e&&it(n,e),n}function it(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||fe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:D()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ei(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),it(e,n)}function uh(e){return j({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var Xu=0,ma=1;function dn(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,tags:a,origin:c}=A(e);return j({data:r,op:o,parent_span_id:i,span_id:t,status:s,tags:a,trace_id:n,origin:c})}function wt(e){let{traceId:t,spanId:n}=e.spanContext(),r=Un(e);return cn(t,n,r)}function Dt(e){return typeof e=="number"?Ju(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ju(e.getTime()):fe()}function Ju(e){return e>9999999999?e/1e3:e}function A(e){return lh(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function lh(e){return typeof e.getSpanJSON=="function"}function Un(e){let{traceFlags:t}=e.spanContext();return!!(t&ma)}function fn(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||D(),timestamp:t.timestamp||pt()},u=n.integrations||e.integrations.map(y=>y.name);dh(c,e),mh(c,u),t.type===void 0&&fh(c,e.stackParser);let l=gh(r,n.captureContext);n.mechanism&&It(c,n.mechanism);let d=o&&o.getEventProcessors?o.getEventProcessors():[],f=Br().getScopeData();if(i){let y=i.getScopeData();ha(f,y)}if(l){let y=l.getScopeData();ha(f,y)}let m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),ti(c,f);let h=[...d,...Fr(),...f.eventProcessors];return ln(h,c,n).then(y=>(y&&ph(y),typeof s=="number"&&s>0?hh(y,s,a):y))}function dh(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:ot),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=dt(e.message,i));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=dt(s.value,i));let a=e.request;a&&a.url&&(a.url=dt(a.url,i))}var Zu=new WeakMap;function fh(e,t){let n=x._sentryDebugIds;if(!n)return;let r,o=Zu.get(t);o?r=o:(r=new Map,Zu.set(t,r));let i=Object.keys(n).reduce((s,a)=>{let c,u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){let d=c[l];if(d.filename){s[d.filename]=n[a];break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function ph(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function mh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function hh(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Ae(o.data,t,n)}}))},...e.user&&{user:Ae(e.user,t,n)},...e.contexts&&{contexts:Ae(e.contexts,t,n)},...e.extra&&{extra:Ae(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ae(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>{let i=A(o).data;return i&&(o.data=Ae(i,t,n)),o})),r}function gh(e,t){if(!t)return e;let n=e?e.clone():new st;return n.update(t),n}function Qu(e){if(e)return _h(e)?{captureContext:e}:Sh(e)?{captureContext:e}:e}function _h(e){return e instanceof st||typeof e=="function"}var yh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Sh(e){return Object.keys(e).some(t=>yh.includes(t))}function xt(e,t){return U().captureException(e,Qu(t))}function el(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return U().captureMessage(e,n,r)}function Ur(e,t){return U().captureEvent(e,t)}function tl(e){U().configureScope(e)}function We(e,t){U().addBreadcrumb(e,t)}function ni(e,t){U().setContext(e,t)}function nl(e){U().setExtras(e)}function rl(e,t){U().setExtra(e,t)}function ol(e){U().setTags(e)}function il(e,t){U().setTag(e,t)}function sl(e){U().setUser(e)}function je(...e){let t=U();if(e.length===2){let[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function al(e){return pn(()=>e(he()))}function Hr(e,t){return je(n=>(n.setSpan(e),t(n)))}function cl(e,t){return U().startTransaction({...e},t)}async function ul(e){let t=w();return t?t.flush(e):(E&&p.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function ll(e){let t=w();return t?t.close(e):(E&&p.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function dl(){return U().lastEventId()}function w(){return U().getClient()}function fl(){return!!w()}function W(){return U().getScope()}function $r(e){let t=w(),n=he(),r=W(),{release:o,environment:i=ot}=t&&t.getOptions()||{},{userAgent:s}=x.navigator||{},a=Qo({release:o,environment:i,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),c=n.getSession();return c&&c.status==="ok"&&it(c,{status:"exited"}),ri(),n.setSession(a),r.setSession(a),a}function ri(){let e=he(),t=W(),n=t.getSession()||e.getSession();n&&ei(n),pl(),e.setSession(),t.setSession()}function pl(){let e=he(),t=W(),n=w(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Gr(e=!1){if(e){ri();return}pl()}function ze(e){return e.transaction}function Lt(e,t,n){let r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=j({environment:r.environment||ot,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function qe(e){let t=w();if(!t)return{};let n=Lt(A(e).trace_id||"",t,W()),r=ze(e);if(!r)return n;let o=r&&r._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:i,source:s}=r.metadata;i!=null&&(n.sample_rate=`${i}`);let a=A(r);return s&&s!=="url"&&(n.transaction=a.description),n.sampled=String(Un(r)),t.emit&&t.emit("createDsc",n),n}function ti(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Eh(e,t),r&&Ih(e,r),vh(e,n),bh(e,o),Th(e,i)}function ha(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:m,span:h}=t;Wr(e,"extra",n),Wr(e,"tags",r),Wr(e,"user",o),Wr(e,"contexts",i),Wr(e,"sdkProcessingMetadata",a),s&&(e.level=s),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function Wr(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Eh(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,c=j(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let u=j(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});let l=j(o);l&&Object.keys(l).length&&(e.user={...l,...e.user});let d=j(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),a&&(e.transaction=a)}function bh(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Th(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Ih(e,t){e.contexts={trace:dn(t),...e.contexts};let n=ze(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:qe(t),...e.sdkProcessingMetadata};let r=A(n).description;r&&(e.tags={transaction:r,...e.tags})}}function vh(e,t){e.fingerprint=e.fingerprint?Ir(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var wh=100,ga,st=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=ml()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&it(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t;if(n instanceof e){let r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Qe(n)){let r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=ml(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:wh;if(r<=0)return this;let o={timestamp:pt(),...t},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:o,_extra:i,_user:s,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:m}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:o,extra:i,user:s,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:m}}applyToEvent(t,n={},r=[]){ti(t,this.getScopeData());let o=[...r,...Fr(),...this._eventProcessors];return ln(o,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:D();if(!this._client)return p.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:D();if(!this._client)return p.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:D();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(p.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Br(){return ga||(ga=new st),ga}function ml(){return{traceId:D(),spanId:D().substring(16)}}var mn="7.106.1";var hl=parseFloat(mn),xh=100,Hn=class{constructor(t,n,r,o=hl){this._version=o;let i;n?i=n:(i=new st,i.setClient(t));let s;r?s=r:(s=new st,s.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=s}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let n=this.pushScope(),r;try{r=t(n)}catch(o){throw this.popScope(),o}return Ue(r)?r.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:D(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:o,...n,event_id:r}),r}captureMessage(t,n,r){let o=this._lastEventId=r&&r.event_id?r.event_id:D(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o}),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:D();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:r,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=xh}=o.getOptions&&o.getOptions()||{};if(s<=0)return;let c={timestamp:pt(),...t},u=i?$e(()=>i(c,n)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,s))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){let{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){let n=oi(this);try{t(this)}finally{oi(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return E&&p.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){let r=this._callExtensionMethod("startTransaction",t,n);return E&&!r&&(this.getClient()?p.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):p.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let n=this.getStackTop().scope,r=n.getSession();r&&ei(r),this._sendSessionUpdate(),n.setSession()}startSession(t){let{scope:n,client:r}=this.getStackTop(),{release:o,environment:i=ot}=r&&r.getOptions()||{},{userAgent:s}=x.navigator||{},a=Qo({release:o,environment:i,user:n.getUser(),...s&&{userAgent:s},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&it(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){let o=Pt().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,n);E&&p.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function Pt(){return x.__SENTRY__=x.__SENTRY__||{extensions:{},hub:void 0},x}function oi(e){let t=Pt(),n=jr(t);return _a(t,e),n}function U(){let e=Pt();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Rh(e)}function he(){return U().getIsolationScope()}function Rh(e=Pt()){return(!Ch(e)||jr(e).isOlderThan(hl))&&_a(e,new Hn),jr(e)}function pn(e,t={}){let n=Pt();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Ch(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function jr(e){return _r("hub",()=>new Hn,e)}function _a(e,t){if(!e)return!1;let n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function be(e){return(e||U()).getScope().getTransaction()}var gl=Or;var _l=!1;function yl(){_l||(_l=!0,xr(ya),Rr(ya))}function ya(){let e=be();if(e){let t="internal_error";E&&p.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}ya.tag="sentry_tracingErrorCallback";var Sa;(function(e){let t="ok";e.Ok=t;let n="deadline_exceeded";e.DeadlineExceeded=n;let r="unauthenticated";e.Unauthenticated=r;let o="permission_denied";e.PermissionDenied=o;let i="not_found";e.NotFound=i;let s="resource_exhausted";e.ResourceExhausted=s;let a="invalid_argument";e.InvalidArgument=a;let c="unimplemented";e.Unimplemented=c;let u="unavailable";e.Unavailable=u;let l="internal_error";e.InternalError=l;let d="unknown_error";e.UnknownError=d;let f="cancelled";e.Cancelled=f;let m="already_exists";e.AlreadyExists=m;let h="failed_precondition";e.FailedPrecondition=h;let g="aborted";e.Aborted=g;let y="out_of_range";e.OutOfRange=y;let _="data_loss";e.DataLoss=_})(Sa||(Sa={}));function ii(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var Sl=ii;function Ft(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let n=ii(t);n!=="unknown_error"&&e.setStatus(n)}function si(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return kh(r,t,n)}function kh(e,t,n){return Ue(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Ye(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=w(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function El(e,t,n=()=>{},r=()=>{}){let o=U(),i=W(),s=i.getSpan(),a=ci(e),c=ai(o,{parentSpan:s,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),si(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(s),r()})}function bl(e,t){let n=ci(e);return pn(()=>je(e.scope,r=>{let o=U(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:ai(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return si(()=>t(a),()=>{if(a){let{status:c}=A(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function Tl(e,t){let n=ci(e);return pn(()=>je(e.scope,r=>{let o=U(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:ai(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return si(()=>t(a,c),()=>{if(a&&a.isRecording()){let{status:u}=A(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function Ve(e){if(!Ye())return;let t=ci(e),n=U(),r=e.scope?e.scope.getSpan():Ke();if(e.onlyIfParent&&!r)return;let s=(e.scope||W()).clone();return ai(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}function Ke(){return W().getSpan()}var Il=({sentryTrace:e,baggage:t},n)=>{let r=W(),{traceparentData:o,dynamicSamplingContext:i,propagationContext:s}=ia(e,t);r.setPropagationContext(s),E&&o&&p.log(`[Tracing] Continuing trace ${o.traceId}.`);let a={...o,metadata:j({dynamicSamplingContext:i})};return n?pn(()=>n(a)):a};function ai(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!Ye())return;let i=he(),s;if(t&&!r)s=t.startChild(n);else if(t){let a=qe(t),{traceId:c,spanId:u}=t.spanContext(),l=Un(t);s=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{let{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...o.getPropagationContext()};s=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return o.setSpan(s),Ah(s,o,i),s}function ci(e){if(e.startTime){let t={...e};return t.startTimestamp=Dt(e.startTime),delete t.startTime,t}return e}var vl="_sentryScope",wl="_sentryIsolationScope";function Ah(e,t,n){e&&(xe(e,wl,n),xe(e,vl,t))}function xl(e){return{scope:e[vl],isolationScope:e[wl]}}var zr;function Rl(e){return zr?zr.get(e):void 0}function ui(e){let t=Rl(e);if(!t)return;let n={};for(let[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push(j(o));return n}function Cl(e,t,n,r,o,i){let s=Ke();if(s){let a=Rl(s)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){let[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:o}]);zr||(zr=new WeakMap),zr.set(s,a)}}var z="sentry.source",mt="sentry.sample_rate",_e="sentry.op",ae="sentry.origin",Ea="profile_id";var $n=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},hn=class e{constructor(t={}){this._traceId=t.traceId||D(),this._spanId=t.spanId||D().substring(16),this._startTime=t.startTimestamp||fe(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[ae]:t.origin||"manual",[_e]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[_e]}set op(t){this.setAttribute(_e,t)}get origin(){return this._attributes[ae]}set origin(t){this.setAttribute(ae,t)}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ma:Xu}}startChild(t){let n=new e({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);let r=ze(this);if(n.transaction=r,E&&r){let o=t&&t.op||"< unknown op >",i=A(n).description||"< unknown name >",s=r.spanContext().spanId,a=`[Tracing] Starting '${o}' span on transaction '${i}' (${s}).`;p.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Ft(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;let n=ze(this);if(E&&n&&n.spanContext().spanId!==this._spanId){let r=this._logMessage;r&&p.log(r.replace("Starting","Finishing"))}this._endTime=Dt(t)}toTraceparent(){return wt(this)}toContext(){return j({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return dn(this)}getSpanJSON(){return j({data:this._getData(),description:this._name,op:this._attributes[_e],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ae],_metrics_summary:ui(this),profile_id:this._attributes[Ea],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:t,_attributes:n}=this,r=Object.keys(t).length>0,o=Object.keys(n).length>0;if(!(!r&&!o))return r&&o?{...t,...n}:r?t:n}};var Gn=class extends hn{constructor(t,n){super(t),this._contexts={},this._hub=n||U(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;let r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[z]&&{source:this._attributes[z]},...this._attributes[mt]&&{sampleRate:this._attributes[mt]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(z,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new $n(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){let n=Dt(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){let t=super.toContext();return j({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return qe(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(E&&p.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);let n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){E&&p.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&A(l).timestamp):[];if(this._trimEnd&&r.length>0){let l=r.map(d=>A(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}let{scope:o,isolationScope:i}=xl(this),{metadata:s}=this,{source:a}=s,c={contexts:{...this._contexts,trace:dn(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...s,capturedSpanScope:o,capturedSpanIsolationScope:i,...j({dynamicSamplingContext:qe(this)})},_metrics_summary:ui(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(E&&p.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),E&&p.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}};var Bt={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Oh="finishReason",Wn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],ba=class extends $n{constructor(t,n,r,o){super(o),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){let n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),A(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}},qr=class extends Gn{constructor(t,n,r=Bt.idleTimeout,o=Bt.finalTimeout,i=Bt.heartbeatInterval,s=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Wn[4],this._autoFinishAllowed=!a,s&&(E&&p.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Wn[3],this.end())},this._finalTimeout)}end(t){let n=Dt(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Oh,this._finishReason),this.spanRecorder){E&&p.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;A(r).timestamp||(r.setStatus("cancelled"),r.end(n),E&&p.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let{start_timestamp:o,timestamp:i}=A(r),s=o&&o<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&o&&i-o<a;if(E){let u=JSON.stringify(r,void 0,2);s?c||p.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):p.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return s&&c}),E&&p.log("[Tracing] flushing IdleTransaction")}else E&&p.log("[Tracing] No active IdleTransaction");if(this._onScope){let r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let n=o=>{this._finished||this._pushActivity(o)},r=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new ba(n,r,this.spanContext().spanId,t),E&&p.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Wn[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(E&&p.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Wn[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),E&&p.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,E&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(E&&p.log(`[Tracing] popActivity ${t}`),delete this.activities[t],E&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let n=fe();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Wn[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(E&&p.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Wn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){E&&p.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function Ta(e,t,n){if(!Ye(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(mt,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(mt,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(mt,Number(r))):(r=1,e.setAttribute(mt,r)),li(r)?r?(e.sampled=Math.random()<r,e.sampled?(E&&p.log(`[Tracing] starting ${e.op} transaction - ${A(e).description}`),e):(E&&p.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(E&&p.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(E&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function li(e){return mr(e)||!(typeof e=="number"||typeof e=="boolean")?(E&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(E&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Nh(){let t=this.getScope().getSpan();return t?{"sentry-trace":wt(t)}:{}}function Mh(e,t){let n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(E&&p.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let s=new Gn(e,this);return s=Ta(s,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),s.isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function gn(e,t,n,r,o,i,s,a=!1){let c=e.getClient(),u=c&&c.getOptions()||{},l=new qr(t,e,n,r,s,o,a);return l=Ta(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function jn(){let e=Pt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Mh),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Nh),yl())}function di(e,t,n){let r=be();r&&r.setMeasurement(e,t,n)}function Dh(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Ia(e,t,n,r){let o=Bn(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:De(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ee(i,[s])}function Yr(e,t,n,r){let o=Bn(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Dh(e,n&&n.sdk);let s=Dr(e,o,r,t);return delete e.sdkProcessingMetadata,Ee(s,[[{type:i},e]])}var Lh="7";function kl(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ph(e){return`${kl(e)}${e.projectId}/envelope/`}function Fh(e,t){return js({sentry_key:e.publicKey,sentry_version:Lh,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Vr(e,t={}){let n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Ph(e)}?${Fh(e,r)}`}function va(e,t){let n=Tr(e);if(!n)return"";let r=`${kl(n)}embed/error-page/`,o=`dsn=${De(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Al=[];function Bh(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function wa(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Ir(n(t)):r=t;let o=Bh(r),i=Uh(o,s=>s.name==="Debug");if(i!==-1){let[s]=o.splice(i,1);o.push(s)}return o}function Ol(e,t){let n={};return t.forEach(r=>{r&&Ra(e,r,n)}),n}function xa(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ra(e,t,n){if(n[t.name]){E&&p.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Al.indexOf(t.name)===-1&&(t.setupOnce(Zo,U),Al.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}E&&p.log(`Integration installed: ${t.name}`)}function Nl(e){let t=w();if(!t||!t.addIntegration){E&&p.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Uh(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function J(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}var fi="c",pi="g",zn="s",mi="d",hi=/[^a-zA-Z0-9_/.-]+/g,Ml=/[^\w\d\s_:/@.{}[\]$-]+/g;function Dl(e,t,n,r){let o=Object.entries(j(r)).sort((i,s)=>i[0].localeCompare(s[0]));return`${e}${t}${n}${o}`}function Ll(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Pl(e){let t="";for(let n of e){let r=Object.entries(n.tags),o=r.length>0?`|#${r.map(([i,s])=>`${i}:${s}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}
`}return t}function Fl(e){let t={};for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=n.replace(hi,"_");t[r]=String(e[n]).replace(Ml,"")}return t}function Bl(e,t,n,r){let o={sent_at:new Date().toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=De(t));let i=Hh(e);return Ee(o,[i])}function Hh(e){let t=Pl(e);return[{type:"statsd",length:t.length},t]}var Ul="Not capturing exception because it's already been captured.",Kr=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Tr(t.dsn):E&&p.warn("No DSN provided, client will not send events."),this._dsn){let n=Vr(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Ho(t)){E&&p.log(Ul);return}let o=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{o=i})),o}captureMessage(t,n,r,o){let i=r&&r.event_id,s=On(t)?t:String(t),a=Qt(t)?this.eventFromMessage(s,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,o)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&Ho(n.originalException)){E&&p.log(Ul);return}let o=n&&n.event_id,s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,s||r).then(a=>{o=a})),o}captureSession(t){typeof t.release!="string"?E&&p.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),it(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):nt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return E&&p.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){let n=this._integrations[t.name];Ra(this,t,this._integrations),n||xa(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Yr(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=aa(r,la(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let n=Ia(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let o=`${t}:${n}`;E&&p.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}captureAggregateMetrics(t){E&&p.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let n=Bl(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Ol(this,t),xa(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,o=!1,i=n.exception&&n.exception.values;if(i){o=!0;for(let c of i){let u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(it(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Le(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o=he()){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),fn(i,t,n,r,this,o).then(a=>{if(a===null)return a;let c={...o.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:l,spanId:d,parentSpanId:f,dsc:m}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};let h=m||Lt(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(E){let i=o;i.logLevel==="log"?p.log(i.message):p.warn(i)}})}_processEvent(t,n,r){let o=this.getOptions(),{sampleRate:i}=o,s=$l(t),a=Hl(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),sn(new Se(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",l,t),new Se("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;let g=Gh(o,m,n);return $h(g,u)}).then(m=>{if(m===null)throw this.recordDroppedEvent("before_send",l,t),new Se(`${u} returned \`null\`, will not send event.`,"log");let h=r&&r.getSession();!s&&h&&this._updateSessionFromEvent(h,m);let g=m.transaction_info;if(s&&g&&m.transaction!==t.transaction){let y="custom";m.transaction_info={...g,source:y}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Se?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Se(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{E&&p.error("Error while sending event:",n)});E&&p.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[r,o]=n.split(":");return{reason:r,category:o,quantity:t[n]}})}};function $h(e,t){let n=`${t} must return \`null\` or a valid event.`;if(Ue(e))return e.then(r=>{if(!Qe(r)&&r!==null)throw new Se(n);return r},r=>{throw new Se(`${t} rejected with ${r}`)});if(!Qe(e)&&e!==null)throw new Se(n);return e}function Gh(e,t,n){let{beforeSend:r,beforeSendTransaction:o}=e;return Hl(t)&&r?r(t,n):$l(t)&&o?o(t,n):t}function Hl(e){return e.type===void 0}function $l(e){return e.type==="transaction"}function gi(e){let t=w();!t||!t.addEventProcessor||t.addEventProcessor(e)}var Ca=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},ka=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},Aa=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},Oa=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Ll(t):t).join(":")}},Gl={[fi]:Ca,[pi]:ka,[mi]:Aa,[zn]:Oa};function Na(e,t){t.debug===!0&&(E?p.enable():$e(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),W().update(t.initialScope);let r=new e(t);Ma(r),Wh(r)}function Ma(e){let n=U().getStackTop();n.client=e,n.scope.setClient(e)}function Wh(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}var jh=30;function qn(e,t,n=na(e.bufferSize||jh)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(rt(s,(d,f)=>{let m=Jo(f);if(Lr(r,m)){let h=Wl(d,f);e.recordDroppedEvent("ratelimit_backoff",m,h)}else a.push(d)}),a.length===0)return nt();let c=Ee(s[0],a),u=d=>{rt(c,(f,m)=>{let h=Wl(f,m);e.recordDroppedEvent(d,Jo(m),h)})},l=()=>t({body:Mr(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&E&&p.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Pr(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Se)return E&&p.error("Skipped sending event because buffer is full."),u("queue_overflow"),nt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:o}}function Wl(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var zh=100,jl=5e3,qh=36e5;function Da(e,t){E&&p.info(`[Offline]: ${e}`,t)}function La(e){return t=>{let n=e(t),r=t.createStore?t.createStore(t):void 0,o=jl,i;function s(l,d,f){return ca(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;let d=await r.pop();d&&(Da("Attempting to send previously queued event"),u(d).catch(f=>{Da("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(o),o=Math.min(o*2,qh))}async function u(l){try{let d=await n.send(l),f=zh;if(d){if(d.headers&&d.headers["retry-after"])f=Xo(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),o=jl,d}catch(d){if(r&&await s(l,d,o))return await r.insert(l),c(),Da("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function zl(e,t){let n;return rt(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Yh(e,t){return n=>{let r=e(n);return{send:async o=>{let i=zl(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)},flush:o=>r.flush(o)}}}function ql(e,t){return n=>{let r=e(n),o={};function i(c,u){let l=u?`${c}:${u}`:c;if(!o[l]){let d=Lo(c);if(!d)return;let f=Vr(d);o[l]=u?Yh(e,u)({...n,url:f}):e({...n,url:f})}return o[l]}async function s(c){function u(f){let m=f&&f.length?f:["event"];return zl(c,m)}let l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(r),(await Promise.all(l.map(f=>f.send(c))))[0]}async function a(c){let u=[...Object.keys(o).map(d=>o[d]),r];return(await Promise.all(u.map(d=>d.flush(c)))).every(d=>d)}return{send:s,flush:a}}}function Pa(e){let t={sent_at:new Date().toISOString()},n=e.map(Vh);return Ee(t,n)}function Vh(e){return[{type:"span"},e]}function Fa(e,t){let n=t&&Xh(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return Jh(e,r)||Kh(e,o)}function Kh(e,t){return t?Yl(e)===Yl(t):!1}function Jh(e,t){return t?e.includes(t.host):!1}function Yl(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Xh(e){return e.getClient!==void 0}function Vl(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Jr(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:mn})),version:mn}),e._metadata=o}var Jl=new Map,Kl=new Set;function Zh(e){if(x._sentryModuleMetadata)for(let t of Object.keys(x._sentryModuleMetadata)){let n=x._sentryModuleMetadata[t];if(Kl.has(t))continue;Kl.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){Jl.set(o.filename,n);break}}}function Qh(e,t){return Zh(e),Jl.get(t)}function Xl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename)continue;let o=Qh(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Zl(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var Ql="ModuleMetadata",eg=()=>({name:Ql,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{rt(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Zl(o),n[1]=o)}})})},processEvent(e,t,n){let r=n.getOptions().stackParser;return Xl(r,e),e}}),Ba=eg,ed=J(Ql,Ba);var tg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ng=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],td="InboundFilters",rg=(e={})=>({name:td,setupOnce(){},processEvent(t,n,r){let o=r.getOptions(),i=og(e,o);return ig(t,i)?null:t}}),Xr=rg,yi=J(td,Xr);function og(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:tg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:ng],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function ig(e,t){return t.ignoreInternal&&dg(e)?(E&&p.warn(`Event dropped due to being internal Sentry Error.
Event: ${et(e)}`),!0):sg(e,t.ignoreErrors)?(E&&p.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${et(e)}`),!0):ag(e,t.ignoreTransactions)?(E&&p.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${et(e)}`),!0):cg(e,t.denyUrls)?(E&&p.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${et(e)}.
Url: ${_i(e)}`),!0):ug(e,t.allowUrls)?!1:(E&&p.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${et(e)}.
Url: ${_i(e)}`),!0)}function sg(e,t){return e.type||!t||!t.length?!1:lg(e).some(n=>ft(n,t))}function ag(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?ft(n,t):!1}function cg(e,t){if(!t||!t.length)return!1;let n=_i(e);return n?ft(n,t):!1}function ug(e,t){if(!t||!t.length)return!0;let n=_i(e);return n?ft(n,t):!0}function lg(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),E&&t.length===0&&p.error(`Could not extract message for event ${et(e)}`),t}function dg(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function fg(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _i(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?fg(t):null}catch{return E&&p.error(`Cannot extract url for event ${et(e)}`),null}}var nd,od="FunctionToString",rd=new WeakMap,pg=()=>({name:od,setupOnce(){nd=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=nn(this),n=rd.has(w())&&t!==void 0?t:this;return nd.apply(n,e)}}catch{}},setup(e){rd.set(e,!0)}}),Zr=pg,Si=J(od,Zr);var mg="cause",hg=5,id="LinkedErrors",gg=(e={})=>{let t=e.limit||hg,n=e.key||mg;return{name:id,setupOnce(){},preprocessEvent(r,o,i){let s=i.getOptions();gr(fa,s.stackParser,s.maxValueLength,n,t,r,o)}}},_g=gg,sd=J(id,_g);var Ua={};Tu(Ua,{FunctionToString:()=>Si,InboundFilters:()=>yi,LinkedErrors:()=>sd});var Ei=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,n,r,o="none",i={},s=fe()){let a=Math.floor(s),c=n.replace(hi,"_"),u=Fl(i),l=Dl(t,c,o,u),d=this._buckets.get(l),f=d&&t===zn?d.metric.weight:0;d?(d.metric.add(r),d.timestamp<a&&(d.timestamp=a)):(d={metric:new Gl[t](r),timestamp:a,metricType:t,name:c,unit:o,tags:u},this._buckets.set(l,d));let m=typeof r=="string"?d.metric.weight-f:r;Cl(t,c,m,o,i,l)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};var ad="MetricsAggregator",Sg=()=>({name:ad,setupOnce(){},setup(e){e.metricsAggregator=new Ei(e)}}),Ha=Sg,cd=J(ad,Ha);function bi(e,t,n,r={}){let o=w(),i=W();if(o){if(!o.metricsAggregator){E&&p.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:s,tags:a,timestamp:c}=r,{release:u,environment:l}=o.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=A(d).description||""),E&&p.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,s,{...f,...a},c)}}function Eg(e,t=1,n){bi(fi,e,t,n)}function bg(e,t,n){bi(mi,e,t,n)}function Tg(e,t,n){bi(zn,e,t,n)}function Ig(e,t,n){bi(pi,e,t,n)}var ud={increment:Eg,distribution:bg,set:Tg,gauge:Ig,MetricsAggregator:cd,metricsAggregatorIntegration:Ha};var ld=Ua;var L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var C=x;function Ti(){C&&C.document?C.document.addEventListener("visibilitychange",()=>{let e=be();if(C.document.hidden&&e){let t="cancelled",{op:n,status:r}=A(e);L&&p.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):L&&p.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Ut=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||r===void 0)&&(r=t.value,t.delta=o,e(t)))}};var dd=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var vg=()=>{let e=C.performance.timing,t=C.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Ii=()=>C.__WEB_VITALS_POLYFILL__?C.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||vg()):C.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var vi=()=>{let e=Ii();return e&&e.activationStart||0};var Ht=(e,t)=>{let n=Ii(),r="navigate";return n&&(C.document.prerendering||vi()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:dd(),navigationType:r}};var Je=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{t(o.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var ht=(e,t)=>{let n=r=>{(r.type==="pagehide"||C.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};var fd=e=>{let t=Ht("CLS",0),n,r=0,o=[],i=a=>{a.forEach(c=>{if(!c.hadRecentInput){let u=o[0],l=o[o.length-1];r&&o.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,o.push(c)):(r=c.value,o=[c]),r>t.value&&(t.value=r,t.entries=o,n&&n())}})},s=Je("layout-shift",i);if(s){n=Ut(e,t);let a=()=>{i(s.takeRecords()),n(!0)};return ht(a),a}};var wi=-1,wg=()=>C.document.visibilityState==="hidden"&&!C.document.prerendering?0:1/0,xg=()=>{ht(({timeStamp:e})=>{wi=e},!0)},Yn=()=>(wi<0&&(wi=wg(),xg()),{get firstHiddenTime(){return wi}});var pd=e=>{let t=Yn(),n=Ht("FID"),r,o=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(o)},s=Je("first-input",i);r=Ut(e,n),s&&ht(()=>{i(s.takeRecords()),s.disconnect()},!0)};var md=0,$a=1/0,xi=0,Rg=e=>{e.forEach(t=>{t.interactionId&&($a=Math.min($a,t.interactionId),xi=Math.max(xi,t.interactionId),md=xi?(xi-$a)/7+1:0)})},Ga,hd=()=>Ga?md:performance.interactionCount||0,gd=()=>{"interactionCount"in performance||Ga||(Ga=Je("event",Rg,{type:"event",buffered:!0,durationThreshold:0}))};var Sd=()=>hd(),_d=10,Rt=[],Wa={},yd=e=>{let t=Rt[Rt.length-1],n=Wa[e.interactionId];if(n||Rt.length<_d||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};Wa[r.id]=r,Rt.push(r)}Rt.sort((r,o)=>o.latency-r.latency),Rt.splice(_d).forEach(r=>{delete Wa[r.id]})}},Cg=()=>{let e=Math.min(Rt.length-1,Math.floor(Sd()/50));return Rt[e]},Ed=(e,t)=>{t=t||{},gd();let n=Ht("INP"),r,o=s=>{s.forEach(c=>{c.interactionId&&yd(c),c.entryType==="first-input"&&!Rt.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&yd(c)});let a=Cg();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=Je("event",o,{durationThreshold:t.durationThreshold||40});r=Ut(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),ht(()=>{o(i.takeRecords()),n.value<0&&Sd()>0&&(n.value=0,n.entries=[]),r(!0)}))};var bd={},Td=e=>{let t=Yn(),n=Ht("LCP"),r,o=s=>{let a=s[s.length-1];if(a){let c=Math.max(a.startTime-vi(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=Je("largest-contentful-paint",o);if(i){r=Ut(e,n);let s=()=>{bd[n.id]||(o(i.takeRecords()),i.disconnect(),bd[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),ht(s,!0),s}};var Qr={},Ri={},Id,vd,wd,xd;function ja(e,t=!1){return Ci("cls",e,kg,Id,t)}function eo(e,t=!1){return Ci("lcp",e,Og,wd,t)}function za(e){return Ci("fid",e,Ag,vd)}function Rd(e){return Ci("inp",e,Ng,xd)}function gt(e,t){return Cd(e,t),Ri[e]||(Mg(e),Ri[e]=!0),kd(e,t)}function to(e,t){let n=Qr[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(o){L&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Re(r)}
Error:`,o)}}function kg(){return fd(e=>{to("cls",{metric:e}),Id=e})}function Ag(){return pd(e=>{to("fid",{metric:e}),vd=e})}function Og(){return Td(e=>{to("lcp",{metric:e}),wd=e})}function Ng(){return Ed(e=>{to("inp",{metric:e}),xd=e})}function Ci(e,t,n,r,o=!1){Cd(e,t);let i;return Ri[e]||(i=n(),Ri[e]=!0),r&&t({metric:r}),kd(e,t,o?i:void 0)}function Mg(e){let t={};e==="event"&&(t.durationThreshold=0),Je(e,n=>{to(e,{entries:n})},t)}function Cd(e,t){Qr[e]=Qr[e]||[],Qr[e].push(t)}function kd(e,t,n){return()=>{n&&n();let r=Qr[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function ki(e){return typeof e=="number"&&isFinite(e)}function _n(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}var Dg=2147483647;function ue(e){return e/1e3}function Ya(){return C&&C.addEventListener&&C.performance}var Ad=0,ce={},_t,no;function Oi(){let e=Ya();if(e&&ne){e.mark&&C.performance.mark("sentry-tracing-init");let t=Fg(),n=Lg(),r=Pg();return()=>{t(),n(),r()}}return()=>{}}function Ni(){gt("longtask",({entries:e})=>{for(let t of e){let n=be();if(!n)return;let r=ue(ne+t.startTime),o=ue(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+o})}})}function Mi(){gt("event",({entries:e})=>{for(let t of e){let n=be();if(!n)return;if(t.name==="click"){let r=ue(ne+t.startTime),o=ue(t.duration),i={description:Me(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+o},s=Er(t.target);s&&(i.attributes={"ui.component_name":s}),n.startChild(i)}}})}function Od(e){if(Ya()&&ne){let n=Bg(e);return()=>{n()}}return()=>{}}function Lg(){return ja(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(L&&p.log("[Measurements] Adding CLS"),ce.cls={value:e.value,unit:""},no=t)},!0)}function Pg(){return eo(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(L&&p.log("[Measurements] Adding LCP"),ce.lcp={value:e.value,unit:"millisecond"},_t=t)},!0)}function Fg(){return za(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=ue(ne),r=ue(t.startTime);L&&p.log("[Measurements] Adding FID"),ce.fid={value:e.value,unit:"millisecond"},ce["mark.fid"]={value:n+r,unit:"second"}})}function Bg(e){return Rd(({metric:t})=>{let n=t.entries.find(y=>y.name==="click"),r=w();if(!n||!r)return;let o=r.getOptions(),i=ue(ne+n.startTime),s=ue(t.value),{routeName:a,parentContext:c,activeTransaction:u,user:l,replayId:d}=n.interactionId!==void 0?e[n.interactionId]:{routeName:void 0,parentContext:void 0,activeTransaction:void 0,user:void 0,replayId:void 0},f=l!==void 0?l.email||l.id||l.ip_address:void 0,m=u!==void 0?u.getProfileId():void 0,h=new hn({startTimestamp:i,endTimestamp:i+s,op:"ui.interaction.click",name:Me(n.target),attributes:{release:o.release,environment:o.environment,transaction:a,...f!==void 0&&f!==""?{user:f}:{},...m!==void 0?{profile_id:m}:{},...d!==void 0?{replay_id:d}:{}},exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),g=qg(c,o);if(g&&Math.random()<g){let y=h?Pa([h]):void 0,_=r&&r.getTransport();_&&y&&_.send(y).then(null,S=>{L&&p.error("Error while sending interaction:",S)});return}})}function Di(e){let t=Ya();if(!t||!C.performance.getEntries||!ne)return;L&&p.log("[Tracing] Adding & adjusting spans using Performance API");let n=ue(ne),r=t.getEntries(),o,i,{op:s,start_timestamp:a}=A(e);if(r.slice(Ad).forEach(c=>{let u=ue(c.startTime),l=ue(c.duration);if(!(e.op==="navigation"&&a&&n+u<a))switch(c.entryType){case"navigation":{Hg(e,c,n),o=n+ue(c.responseStart),i=n+ue(c.requestStart);break}case"mark":case"paint":case"measure":{Ug(e,c,u,l,n);let d=Yn(),f=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&f&&(L&&p.log("[Measurements] Adding FP"),ce.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(L&&p.log("[Measurements] Adding FCP"),ce.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Gg(e,c,c.name,u,l,n);break}}}),Ad=Math.max(r.length-1,0),Wg(e),s==="pageload"){zg(ce,o,i,a),["fcp","fp","lcp"].forEach(u=>{if(!ce[u]||!a||n>=a)return;let l=ce[u].value,d=n+ue(l),f=Math.abs((d-a)*1e3),m=f-l;L&&p.log(`[Measurements] Normalized ${u} from ${l} to ${f} (${m})`),ce[u].value=f});let c=ce["mark.fid"];c&&ce.fid&&(_n(e,{description:"first input delay",endTimestamp:c.value+ue(ce.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:c.value}),delete ce["mark.fid"]),"fcp"in ce||delete ce.cls,Object.keys(ce).forEach(u=>{di(u,ce[u].value,ce[u].unit)}),jg(e)}_t=void 0,no=void 0,ce={}}function Ug(e,t,n,r,o){let i=o+n,s=i+r;return _n(e,{description:t.name,endTimestamp:s,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Hg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ai(e,t,r,n)}),Ai(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Ai(e,t,"fetch",n,"cache","domainLookupStart"),Ai(e,t,"domainLookup",n,"DNS"),$g(e,t,n)}function Ai(e,t,n,r,o,i){let s=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!s||_n(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+ue(a),endTimestamp:r+ue(s)})}function $g(e,t,n){t.responseEnd&&(_n(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ue(t.requestStart),endTimestamp:n+ue(t.responseEnd)}),_n(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ue(t.responseStart),endTimestamp:n+ue(t.responseEnd)}))}function Gg(e,t,n,r,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=an(n),a={};qa(a,t,"transferSize","http.response_transfer_size"),qa(a,t,"encodedBodySize","http.response_content_length"),qa(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(C.location.origin);let c=i+r,u=c+o;_n(e,{description:n.replace(C.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function Wg(e){let t=C.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ki(n.rtt)&&(ce["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ki(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),ki(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function jg(e){_t&&(L&&p.log("[Measurements] Adding LCP Data"),_t.element&&e.setTag("lcp.element",Me(_t.element)),_t.id&&e.setTag("lcp.id",_t.id),_t.url&&e.setTag("lcp.url",_t.url.trim().slice(0,200)),e.setTag("lcp.size",_t.size)),no&&no.sources&&(L&&p.log("[Measurements] Adding CLS Data"),no.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Me(t.node))))}function qa(e,t,n,r){let o=t[n];o!=null&&o<Dg&&(e[r]=o)}function zg(e,t,n,r){typeof t=="number"&&r&&(L&&p.log("[Measurements] Adding TTFB"),e.ttfb={value:Math.max(t-r,0)*1e3,unit:"millisecond"},typeof n=="number"&&n<=t&&(e["ttfb.requestTime"]={value:(t-n)*1e3,unit:"millisecond"}))}function qg(e,t){if(!Ye(t))return!1;let n;return e!==void 0&&typeof t.tracesSampler=="function"?n=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:C.location}):e!==void 0&&e.sampled!==void 0?n=e.sampled:typeof t.tracesSampleRate<"u"?n=t.tracesSampleRate:n=1,li(n)?n:(L&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}function Nd(e,t,n,r,o="auto.http.browser"){if(!Ye()||!e.fetchData)return;let i=t(e.fetchData.url);if(e.endTimestamp&&i){let d=e.fetchData.__span;if(!d)return;let f=r[d];if(f){if(e.response){Ft(f,e.response.status);let m=e.response&&e.response.headers&&e.response.headers.get("content-length");if(m){let h=parseInt(m);h>0&&f.setAttribute("http.response_content_length",h)}}else e.error&&f.setStatus("internal_error");f.end(),delete r[d]}return}let s=W(),a=w(),{method:c,url:u}=e.fetchData,l=i?Ve({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,[ae]:o},op:"http.client"}):void 0;if(l&&(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l),n(e.fetchData.url)&&a){let d=e.args[0];e.args[1]=e.args[1]||{};let f=e.args[1];f.headers=Yg(d,a,s,f,l)}return l}function Yg(e,t,n,r,o){let i=o||n.getSpan(),s=he(),{traceId:a,spanId:c,sampled:u,dsc:l}={...s.getPropagationContext(),...n.getPropagationContext()},d=i?wt(i):cn(a,c,u),f=Ar(l||(i?qe(i):Lt(a,t,n))),m=r.headers||(typeof Request<"u"&&Ne(e,Request)?e.headers:void 0);if(m)if(typeof Headers<"u"&&Ne(m,Headers)){let h=new Headers(m);return h.append("sentry-trace",d),f&&h.append(Fn,f),h}else if(Array.isArray(m)){let h=[...m,["sentry-trace",d]];return f&&h.push([Fn,f]),h}else{let h="baggage"in m?m.baggage:void 0,g=[];return Array.isArray(h)?g.push(...h):h&&g.push(h),f&&g.push(f),{...m,"sentry-trace":d,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}var Va=["localhost",/^\/(?!\/)/],$t={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Va,tracePropagationTargets:Va};function Vn(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s}={traceFetch:$t.traceFetch,traceXHR:$t.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>Xg(l,r||o),u={};t&&rn(l=>{let d=Nd(l,a,c,u);s&&d&&Md(d)}),n&&on(l=>{let d=Zg(l,a,c,u);s&&d&&Md(d)})}function Vg(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Md(e){let{url:t}=A(e).data||{};if(!t||typeof t!="string")return;let n=gt("resource",({entries:r})=>{r.forEach(o=>{Vg(o)&&o.name.endsWith(t)&&(Jg(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function Kg(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function yt(e=0){return((ne||performance.timeOrigin)+e)/1e3}function Jg(e){let{name:t,version:n}=Kg(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ne?[...r,["http.request.redirect_start",yt(e.redirectStart)],["http.request.fetch_start",yt(e.fetchStart)],["http.request.domain_lookup_start",yt(e.domainLookupStart)],["http.request.domain_lookup_end",yt(e.domainLookupEnd)],["http.request.connect_start",yt(e.connectStart)],["http.request.secure_connection_start",yt(e.secureConnectionStart)],["http.request.connection_end",yt(e.connectEnd)],["http.request.request_start",yt(e.requestStart)],["http.request.response_start",yt(e.responseStart)],["http.request.response_end",yt(e.responseEnd)]]:r}function Xg(e,t){return ft(e,t||Va)}function Zg(e,t,n,r){let o=e.xhr,i=o&&o[Ge];if(!Ye()||!o||o.__sentry_own_request__||!i)return;let s=t(i.url);if(e.endTimestamp&&s){let d=o.__sentry_xhr_span_id__;if(!d)return;let f=r[d];f&&i.status_code!==void 0&&(Ft(f,i.status_code),f.end(),delete r[d]);return}let a=W(),c=he(),u=s?Ve({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,url:i.url,[ae]:"auto.http.browser"},op:"http.client"}):void 0;u&&(o.__sentry_xhr_span_id__=u.spanContext().spanId,r[o.__sentry_xhr_span_id__]=u);let l=w();if(o.setRequestHeader&&n(i.url)&&l){let{traceId:d,spanId:f,sampled:m,dsc:h}={...c.getPropagationContext(),...a.getPropagationContext()},g=u?wt(u):cn(d,f,m),y=Ar(h||(u?qe(u):Lt(d,l,a)));Qg(o,g,y)}return u}function Qg(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Fn,n)}catch{}}function Dd(e,t=!0,n=!0){if(!C||!C.location){L&&p.warn("Could not initialize routing instrumentation due to invalid location");return}let r=C.location.href,o;t&&(o=e({name:C.location.pathname,startTimestamp:ne?ne/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&tt(({to:i,from:s})=>{if(s===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}s!==i&&(r=void 0,o&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=e({name:C.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var Pd="BrowserTracing",e_={...Bt,markBackgroundTransactions:!0,routingInstrumentation:Dd,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...$t},Li=class{constructor(t){this.name=Pd,this._hasSetTracePropagationTargets=!1,jn(),L&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...e_,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Oi(),this.options.enableLongTask&&Ni(),this.options._experiments.enableInteractions&&Mi()}setupOnce(t,n){this._getCurrentHub=n;let o=n().getClient(),i=o&&o.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:m,_experiments:h}=this.options,g=i&&i.tracePropagationTargets,y=g||this.options.tracePropagationTargets;L&&this._hasSetTracePropagationTargets&&g&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(_=>{let S=this._createRouteTransaction(_);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,_,n),S},c,a),u&&Ti(),h.enableInteractions&&this._registerInteractionListener(),Vn({traceFetch:l,traceXHR:d,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:m})}_createRouteTransaction(t){if(!this._getCurrentHub){L&&p.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:o,finalTimeout:i,heartbeatInterval:s}=this.options,a=t.op==="pageload",c;if(a){let m=a?Ld("sentry-trace"):"",h=a?Ld("baggage"):void 0,{traceId:g,dsc:y,parentSpanId:_,sampled:S}=Nr(m,h);c={traceId:g,parentSpanId:_,parentSampled:S,...t,metadata:{...t.metadata,dynamicSamplingContext:y},trimEnd:!0}}else c={trimEnd:!0,...t};let u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRouteName=l.name,this._latestRouteSource=t_(l),l.sampled===!1&&L&&p.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),L&&p.log(`[Tracing] Starting ${l.op} transaction on scope`);let{location:d}=C,f=gn(n,l,o,i,!0,{location:d},s,a);return a&&(C.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(C.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(C.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(m=>{this._collectWebVitals(),Di(m)}),f}_registerInteractionListener(){let t,n=()=>{let{idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,s="ui.action.click",a=be();if(a&&a.op&&["navigation","pageload"].includes(a.op)){L&&p.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){L&&p.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){L&&p.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=C,l={name:this._latestRouteName,op:s,trimEnd:!0,data:{[z]:this._latestRouteSource||"url"}};t=gn(c,l,r,o,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}};function Ld(e){let t=Sr(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function t_(e){let t=e.attributes&&e.attributes[z],n=e.data&&e.data[z],r=e.metadata&&e.metadata.source;return t||n||r}var n_="BrowserTracing",r_={...Bt,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...$t},Ct=(e={})=>{let t=L?!!(e.tracePropagationTargets||e.tracingOrigins):!1;jn(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let n={...r_,...e},r=Oi(),o={};n.enableInp&&Od(o),n.enableLongTask&&Ni(),n._experiments.enableInteractions&&Mi();let i={name:void 0,context:void 0};function s(a){let c=U(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,m=a.op==="pageload",h;if(m){let S=m?Fd("sentry-trace"):"",I=m?Fd("baggage"):void 0,{traceId:k,dsc:B,parentSpanId:R,sampled:v}=Nr(S,I);h={traceId:k,parentSpanId:R,parentSampled:v,...a,metadata:{...a.metadata,dynamicSamplingContext:B},trimEnd:!0}}else h={trimEnd:!0,...a};let g=u?u(h):h;g.metadata=g.name!==h.name?{...g.metadata,source:"custom"}:g.metadata,i.name=g.name,i.context=g,g.sampled===!1&&L&&p.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),L&&p.log(`[Tracing] Starting ${g.op} transaction on scope`);let{location:y}=C,_=gn(c,g,l,d,!0,{location:y},f,m);return m&&C.document&&(C.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(C.document.readyState)&&_.sendAutoFinishSignal()}),["interactive","complete"].includes(C.document.readyState)&&_.sendAutoFinishSignal()),_.registerBeforeFinishCallback(S=>{r(),Di(S)}),_}return{name:n_,setupOnce:()=>{},afterAllSetup(a){let c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:m,_experiments:h}=n,g=c&&c.tracePropagationTargets,y=g||n.tracePropagationTargets;L&&t&&g&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let _,S=C.location&&C.location.href;if(a.on&&(a.on("startNavigationSpan",I=>{_&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${A(_).op}`),_.end()),_=s({op:"navigation",...I})}),a.on("startPageLoadSpan",I=>{_&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${A(_).op}`),_.end()),_=s({op:"pageload",...I})})),n.instrumentPageLoad&&a.emit&&C.location){let I={name:C.location.pathname,startTimestamp:ne?ne/1e3:void 0,origin:"auto.pageload.browser",attributes:{[z]:"url"}};St(a,I)}n.instrumentNavigation&&a.emit&&C.location&&tt(({to:I,from:k})=>{if(k===void 0&&S&&S.indexOf(I)!==-1){S=void 0;return}if(k!==I){S=void 0;let B={name:C.location.pathname,origin:"auto.navigation.browser",attributes:{[z]:"url"}};Et(a,B)}}),u&&Ti(),h.enableInteractions&&o_(n,i),n.enableInp&&a_(o,i),Vn({traceFetch:l,traceXHR:d,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:m})},options:n}};function St(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let n=Ke();return(n&&A(n).op)==="pageload"?n:void 0}function Et(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let n=Ke();return(n&&A(n).op)==="navigation"?n:void 0}function Fd(e){let t=Sr(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function o_(e,t){let n,r=()=>{let{idleTimeout:o,finalTimeout:i,heartbeatInterval:s}=e,a="ui.action.click",c=be();if(c&&c.op&&["navigation","pageload"].includes(c.op)){L&&p.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){L&&p.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let{location:u}=C,l={name:t.name,op:a,trimEnd:!0,data:{[z]:t.context?c_(t.context):"url"}};n=gn(U(),l,o,i,!0,{location:u},s)};["click"].forEach(o=>{addEventListener(o,r,{once:!1,capture:!0})})}function i_(e){return"duration"in e}var s_=10;function a_(e,t){gt("event",({entries:n})=>{let r=w(),o=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=o!==void 0?o.getReplayId():void 0,s=be(),a=W(),c=a!==void 0?a.getUser():void 0;for(let u of n)if(i_(u)){let l=u.duration,d=Object.keys(e),f=d.length>0?d.reduce((m,h)=>e[m].duration<e[h].duration?m:h):void 0;if(f===void 0||l>e[f].duration){let m=u.interactionId,h=t.name,g=t.context;m&&h&&g&&(f&&Object.keys(e).length>=s_&&delete e[f],e[m]={routeName:h,duration:l,parentContext:g,user:c,activeTransaction:s,replayId:i})}}})}function c_(e){let t=e.attributes&&e.attributes[z],n=e.data&&e.data[z],r=e.metadata&&e.metadata.source;return t||n||r}var b=x,Ka=0;function Ja(){return Ka>0}function u_(){Ka++,setTimeout(()=>{Ka--})}function kt(e,t={},n){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return o;if(nn(e))return e}catch{return e}let r=function(){let o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let i=o.map(s=>kt(s,t));return e.apply(this,i)}catch(i){throw u_(),je(s=>{s.addEventProcessor(a=>(t.mechanism&&(Dn(a,void 0,void 0),It(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),xt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}Po(r,e),xe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Pi(e,t){let n=Qa(e,t),r={type:t&&t.name,value:p_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function l_(e,t,n,r){let o=w(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:en(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:m_(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Yo(t,i)}};if(n){let a=Qa(e,n);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function Xa(e,t){return{exception:{values:[Pi(e,t)]}}}function Qa(e,t){let n=t.stacktrace||t.stack||"",r=f_(t);try{return e(n,r)}catch{}return[]}var d_=/Minified React error #\d+;/i;function f_(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(d_.test(e.message))return 1}return 0}function p_(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function ec(e,t,n,r){let o=n&&n.syntheticException||void 0,i=Fi(e,t,o,r);return It(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),nt(i)}function tc(e,t,n="info",r,o){let i=r&&r.syntheticException||void 0,s=Za(e,t,i,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),nt(s)}function Fi(e,t,n,r,o){let i;if(An(t)&&t.error)return Xa(e,t.error);if(No(t)||Bs(t)){let s=t;if("stack"in t)i=Xa(e,t);else{let a=s.name||(No(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Za(e,c,n,r),Dn(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Zt(t)?Xa(e,t):Qe(t)||en(t)?(i=l_(e,t,n,o),It(i,{synthetic:!0}),i):(i=Za(e,t,n,r),Dn(i,`${t}`,void 0),It(i,{synthetic:!0}),i)}function Za(e,t,n,r){let o={};if(r&&n){let i=Qa(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(On(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function m_(e,{isUnhandledRejection:t}){let n=zs(e),r=t?"promise rejection":"exception";return An(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:en(e)?`Event \`${h_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function h_(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function nc(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:De(r)}},i=g_(e);return Ee(o,[i])}function g_(e){return[{type:"user_report"},e]}var ro=class extends Kr{constructor(t){let n=b.SENTRY_SDK_SOURCE||ta();Jr(t,"browser",["browser"],n),super(t),t.sendClientReports&&b.document&&b.document.addEventListener("visibilitychange",()=>{b.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return ec(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return tc(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){N&&p.warn("SDK not enabled, will not capture user feedback.");return}let n=nc(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){N&&p.log("No outcomes to send");return}if(!this._dsn){N&&p.log("No dsn provided, will not send outcomes");return}N&&p.log("Sending outcomes:",t);let n=da(t,this._options.tunnel&&De(this._dsn));this._sendEnvelope(n)}};var oo;function Bd(){if(oo)return oo;if(wr(b.fetch))return oo=b.fetch.bind(b);let e=b.document,t=b.fetch;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){N&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return oo=t.bind(b)}function Ud(){oo=void 0}function rc(e,t=Bd()){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ud(),n-=s,r--,sn(c)}}return qn(e,o)}var __=4;function oc(e){function t(n){return new Le((r,o)=>{let i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=()=>{i.readyState===__&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(let s in e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&i.setRequestHeader(s,e.headers[s]);i.send(n.body)})}return qn(e,t)}var Kn="?",y_=10,S_=20,E_=30,b_=40,T_=50;function io(e,t,n,r){let o={filename:e,function:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var I_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,v_=/\((\S*)(?::(\d+))(?::(\d+))\)/,w_=e=>{let t=I_.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let i=v_.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}let[r,o]=jd(t[1]||Kn,t[2]);return io(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Hd=[E_,w_],x_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,R_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,C_=e=>{let t=x_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=R_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||Kn;return[o,r]=jd(o,r),io(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},$d=[T_,C_],k_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,A_=e=>{let t=k_.exec(e);return t?io(t[2],t[1]||Kn,+t[3],t[4]?+t[4]:void 0):void 0},Gd=[b_,A_],O_=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,N_=e=>{let t=O_.exec(e);return t?io(t[2],t[3]||Kn,+t[1]):void 0},M_=[y_,N_],D_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,L_=e=>{let t=D_.exec(e);return t?io(t[5],t[3]||t[4]||Kn,+t[1],+t[2]):void 0},P_=[S_,L_],Wd=[Hd,$d,Gd],ic=Bo(...Wd),jd=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Kn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var Bi=1024,zd="Breadcrumbs",F_=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:zd,setupOnce(){},setup(n){t.console&&Vs(H_(n)),t.dom&&vr(U_(n,t.dom)),t.xhr&&on($_(n)),t.fetch&&rn(G_(n)),t.history&&tt(W_(n)),t.sentry&&n.on&&n.on("beforeSendEvent",B_(n))}}},Ui=F_,sc=J(zd,Ui);function B_(e){return function(n){w()===e&&We({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:et(n)},{event:n})}}function U_(e,t){return function(r){if(w()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Bi&&(N&&p.warn(`\`dom.maxStringLength\` cannot exceed ${Bi}, but a value of ${a} was configured. Sentry will use ${Bi} instead.`),a=Bi),typeof s=="string"&&(s=[s]);try{let u=r.event,l=j_(u)?u.target:u;o=Me(l,{keyAttrs:s,maxStringLength:a}),i=Er(l)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),We(c,{event:r.event,name:r.name,global:r.global})}}function H_(e){return function(n){if(w()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:ra(n.level),message:Mo(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Mo(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;We(r,{input:n.args,level:n.level})}}function $_(e){return function(n){if(w()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Ge];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,l={method:s,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o};We({category:"xhr",data:l,type:"http"},d)}}function G_(e){return function(n){if(w()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};We({category:"fetch",data:i,level:"error",type:"http"},s)}else{let i=n.response,s={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:o};We({category:"fetch",data:s,type:"http"},a)}}}function W_(e){return function(n){if(w()!==e)return;let r=n.from,o=n.to,i=an(b.location.href),s=r?an(r):void 0,a=an(o);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),We({category:"navigation",data:{from:r,to:o}})}}function j_(e){return!!e&&!!e.target}var Vd="Dedupe",z_=()=>{let e;return{name:Vd,setupOnce(){},processEvent(t){if(t.type)return t;try{if(q_(t,e))return N&&p.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Hi=z_,ac=J(Vd,Hi);function q_(e,t){return t?!!(Y_(e,t)||V_(e,t)):!1}function Y_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Jd(e,t)||!Kd(e,t))}function V_(e,t){let n=qd(t),r=qd(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Jd(e,t)||!Kd(e,t))}function Kd(e,t){let n=Yd(e),r=Yd(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Jd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function qd(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Yd(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var Zd="GlobalHandlers",K_=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Zd,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(J_(n),Xd("onerror")),t.onunhandledrejection&&(X_(n),Xd("onunhandledrejection"))}}},$i=K_,cc=J(Zd,$i);function J_(e){xr(t=>{let{stackParser:n,attachStacktrace:r}=ef();if(w()!==e||Ja())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=c===void 0&&ye(o)?ey(o,i,s,a):Qd(Fi(n,c||o,void 0,r,!1),i,s,a);u.level="error",Ur(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function X_(e){Rr(t=>{let{stackParser:n,attachStacktrace:r}=ef();if(w()!==e||Ja())return;let o=Z_(t),i=Qt(o)?Q_(o):Fi(n,o,void 0,r,!0);i.level="error",Ur(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Z_(e){if(Qt(e))return e;let t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Q_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ey(e,t,n,r){let o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,i=An(e)?e.message:e,s="Error",a=i.match(o);return a&&(s=a[1],i=a[2]),Qd({exception:{values:[{type:s,value:i}]}},t,n,r)}function Qd(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=ye(t)&&t.length>0?t:yr();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Xd(e){N&&p.log(`Global Handler attached: ${e}`)}function ef(){let e=w();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var tf="HttpContext",ty=()=>({name:tf,setupOnce(){},preprocessEvent(e){if(!b.navigator&&!b.location&&!b.document)return;let t=e.request&&e.request.url||b.location&&b.location.href,{referrer:n}=b.document||{},{userAgent:r}=b.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),Gi=ty,uc=J(tf,Gi);var ny="cause",ry=5,nf="LinkedErrors",oy=(e={})=>{let t=e.limit||ry,n=e.key||ny;return{name:nf,setupOnce(){},preprocessEvent(r,o,i){let s=i.getOptions();gr(Pi,s.stackParser,s.maxValueLength,n,t,r,o)}}},Wi=oy,lc=J(nf,Wi);var iy=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],of="TryCatch",sy=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:of,setupOnce(){t.setTimeout&&Q(b,"setTimeout",rf),t.setInterval&&Q(b,"setInterval",rf),t.requestAnimationFrame&&Q(b,"requestAnimationFrame",ay),t.XMLHttpRequest&&"XMLHttpRequest"in b&&Q(XMLHttpRequest.prototype,"send",cy);let n=t.eventTarget;n&&(Array.isArray(n)?n:iy).forEach(uy)}}},ji=sy,dc=J(of,ji);function rf(e){return function(...t){let n=t[0];return t[0]=kt(n,{mechanism:{data:{function:Re(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ay(e){return function(t){return e.apply(this,[kt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Re(e)},handled:!1,type:"instrument"}})])}}function cy(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&Q(n,o,function(i){let s={mechanism:{data:{function:o,handler:Re(i)},handled:!1,type:"instrument"}},a=nn(i);return a&&(s.mechanism.data.handler=Re(a)),kt(i,s)})}),e.apply(this,t)}}function uy(e){let t=b,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Q(n,"addEventListener",function(r){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=kt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Re(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,kt(i,{mechanism:{data:{function:"addEventListener",handler:Re(i),target:e},handled:!1,type:"instrument"}}),s])}}),Q(n,"removeEventListener",function(r){return function(o,i,s){let a=i;try{let c=a&&a.__sentry_wrapped__;c&&r.call(this,o,c,s)}catch{}return r.call(this,o,a,s)}}))}var sf=[Xr(),Zr(),ji(),Ui(),$i(),Wi(),Hi(),Gi()];function af(e){return[...sf]}function fc(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=af()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),b.SENTRY_RELEASE&&b.SENTRY_RELEASE.id&&(e.release=b.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Ys(e.stackParser||ic),integrations:wa(e),transport:e.transport||($o()?rc:oc)};Na(ro,t),e.autoSessionTracking&&py()}var zi=(e={},t=U())=>{if(!b.document){N&&p.error("Global document not defined in showReportDialog call");return}let{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o){N&&p.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());let i=b.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=va(o,e),e.onLoad&&(i.onload=e.onLoad);let{onClose:s}=e;if(s){let c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{s()}finally{b.removeEventListener("message",c)}};b.addEventListener("message",c)}let a=b.document.head||b.document.body;a?a.appendChild(i):N&&p.error("Not injecting report dialog. No injection point found in HTML")};function ly(){}function dy(e){e()}function fy(e){return kt(e)()}function py(){if(typeof b.document>"u"){N&&p.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}$r({ignoreDuration:!0}),Gr(),tt(({from:e,to:t})=>{e!==void 0&&e!==t&&($r({ignoreDuration:!0}),Gr())})}function my(e){let t=w();t&&t.captureUserFeedback(e)}var pc={};Tu(pc,{Breadcrumbs:()=>sc,Dedupe:()=>ac,GlobalHandlers:()=>cc,HttpContext:()=>uc,LinkedErrors:()=>lc,TryCatch:()=>dc});var te=x,Uc="sentryReplaySession",hy="replay_event",Hc="Unable to send Replay",gy=3e5,_y=9e5,yy=5e3,Sy=5500,Ey=6e4,by=5e3,Ty=3,cf=15e4,qi=5e3,Iy=3e3,vy=300,$c=2e7,wy=4999,xy=15e3,uf=36e5;function Ry(e,t){return e??t()}function Ki(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var pe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(pe||(pe={}));function Cy(e){return e.nodeType===e.ELEMENT_NODE}function ao(e){let t=Ki([e,"optionalAccess",n=>n.host]);return Ki([t,"optionalAccess",n=>n.shadowRoot])===e}function co(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function ky(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Ay(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ji(e){try{let t=e.rules||e.cssRules;return t?ky(Array.from(t,kf).join("")):null}catch{return null}}function kf(e){let t;if(Ny(e))try{t=Ji(e.styleSheet)||Ay(e)}catch{}else if(My(e)&&e.selectorText.includes(":"))return Oy(e.cssText);return t||e.cssText}function Oy(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Ny(e){return"styleSheet"in e}function My(e){return"selectorText"in e}var Xi=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=Ki([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Ry(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Dy(){return new Xi}function ls({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function lo({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function rr(e){return e.toLowerCase()}function yc(e){return e.toUpperCase()}var lf="__rrweb_original__";function Ly(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=lf in i?i[lf]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Gc(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?rr(t):null}function Zi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}var Py=1,Fy=new RegExp("[^a-z0-9-_:]"),fo=-2;function Wc(){return Py++}function By(e){if(e instanceof HTMLFormElement)return"form";let t=rr(e.tagName);return Fy.test(t)?"div":t}function Uy(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Jn,df,Hy=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,$y=/^(?:[a-z+]+:)?\/\//i,Gy=/^www\..*/i,Wy=/^(data:)([^,]*),(.*)/i;function Qi(e,t){return(e||"").replace(Hy,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if($y.test(c)||Gy.test(c))return`url(${u}${c}${u})`;if(Wy.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Uy(t)+c}${u})`;let l=t.split("/"),d=c.split("/");l.pop();for(let f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}var jy=/^[^ \t\n\r\u000c]+/,zy=/^[, \t\n\r\u000c]+/;function qy(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(zy),!(n>=t.length);){let i=r(jy);if(i.slice(-1)===",")i=Zn(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=Zn(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}function Zn(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function Yy(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function jc(){let e=document.createElement("a");return e.href="",e.href}function Af(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Zn(e,r):n==="srcset"?qy(e,r):n==="style"?Qi(r,jc()):t==="object"&&n==="data"?Zn(e,r):typeof i=="function"?i(n,r,o):r)}function Of(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Vy(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function Ky(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function yn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:yn(e.parentNode,t,n,r+1)}function Qn(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Ky(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function or(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=yn(s,Qn(r,o)),c<0)return!0;a=yn(s,Qn(t,n),c>=0?c:1/0)}else{if(a=yn(s,Qn(t,n)),a<0)return!1;c=yn(s,Qn(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function Jy(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=setTimeout(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Xy(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function Zy(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:y,dataURLOptions:_={},inlineImages:S,recordCanvas:I,keepIframeSrcFn:k,newlyAddedElement:B=!1}=t,R=Qy(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:pe.Document,childNodes:[],compatMode:e.compatMode}:{type:pe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:pe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:R};case e.ELEMENT_NODE:return tS(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:_,inlineImages:S,recordCanvas:I,keepIframeSrcFn:k,newlyAddedElement:B,rootId:R,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return eS(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:y,rootId:R});case e.CDATA_SECTION_NODE:return{type:pe.CDATA,textContent:"",rootId:R};case e.COMMENT_NODE:return{type:pe.Comment,textContent:e.textContent||"",rootId:R};default:return!1}}function Qy(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function eS(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,m=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||Ki([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=Ji(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=Qi(f,jc())}h&&(f="SCRIPT_PLACEHOLDER");let y=or(e,r,i,o,s,n);if(!m&&!h&&!g&&f&&y&&(f=a?a(f):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){let _=ls({type:null,tagName:d,maskInputOptions:c});f=lo({isMasked:or(e,r,i,o,s,_),element:e,value:f,maskInputFn:u})}return{type:pe.Text,textContent:f||"",isStyle:m,rootId:l}}function tS(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskAllText:y,maskTextClass:_,unmaskTextClass:S,maskTextSelector:I,unmaskTextSelector:k}=t,B=Vy(e,r,o,i),R=By(e),v={},H=e.attributes.length;for(let T=0;T<H;T++){let O=e.attributes[T];O.name&&!Of(R,O.name,O.value)&&(v[O.name]=Af(n,R,rr(O.name),O.value,e,c))}if(R==="link"&&s){let T=Array.from(n.styleSheets).find(Z=>Z.href===e.href),O=null;T&&(O=Ji(T)),O&&(delete v.rel,delete v.href,v._cssText=Qi(O,T.href))}if(R==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let T=Ji(e.sheet);T&&(v._cssText=Qi(T,jc()))}if(R==="input"||R==="textarea"||R==="select"||R==="option"){let T=e,O=Gc(T),Z=Zi(T,yc(R),O),le=T.checked;if(O!=="submit"&&O!=="button"&&Z){let ie=or(T,_,I,S,k,ls({type:O,tagName:yc(R),maskInputOptions:a}));v.value=lo({isMasked:ie,element:T,value:Z,maskInputFn:u})}le&&(v.checked=le)}if(R==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),R==="canvas"&&f){if(e.__context==="2d")Ly(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){let T=e.toDataURL(l.type,l.quality),O=document.createElement("canvas");O.width=e.width,O.height=e.height;let Z=O.toDataURL(l.type,l.quality);T!==Z&&(v.rr_dataURL=T)}}if(R==="img"&&d){Jn||(Jn=n.createElement("canvas"),df=Jn.getContext("2d"));let T=e,O=T.crossOrigin;T.crossOrigin="anonymous";let Z=()=>{T.removeEventListener("load",Z);try{Jn.width=T.naturalWidth,Jn.height=T.naturalHeight,df.drawImage(T,0,0),v.rr_dataURL=Jn.toDataURL(l.type,l.quality)}catch(le){console.warn(`Cannot inline img src=${T.currentSrc}! Error: ${le}`)}O?v.crossOrigin=O:T.removeAttribute("crossorigin")};T.complete&&T.naturalWidth!==0?Z():T.addEventListener("load",Z)}if((R==="audio"||R==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),B){let{width:T,height:O}=e.getBoundingClientRect();v={class:v.class,rr_width:`${T}px`,rr_height:`${O}px`}}R==="iframe"&&!m(v.src)&&(e.contentDocument||(v.rr_src=v.src),delete v.src);let V;try{customElements.get(R)&&(V=!0)}catch{}return{type:pe.Element,tagName:R,attributes:v,childNodes:[],isSVG:Yy(e)||void 0,needBlock:B,rootId:g,isCustom:V}}function ee(e){return e==null?"":e.toLowerCase()}function nS(e,t){if(t.comment&&e.type===pe.Comment)return!0;if(e.type===pe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ee(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ee(e.attributes.name)==="application-name"||ee(e.attributes.rel)==="icon"||ee(e.attributes.rel)==="apple-touch-icon"||ee(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ee(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ee(e.attributes.property).match(/^(og|twitter|fb):/)||ee(e.attributes.name).match(/^(og|twitter):/)||ee(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ee(e.attributes.name)==="robots"||ee(e.attributes.name)==="googlebot"||ee(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ee(e.attributes.name)==="author"||ee(e.attributes.name)==="generator"||ee(e.attributes.name)==="framework"||ee(e.attributes.name)==="publisher"||ee(e.attributes.name)==="progid"||ee(e.attributes.property).match(/^article:/)||ee(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ee(e.attributes.name)==="google-site-verification"||ee(e.attributes.name)==="yandex-verification"||ee(e.attributes.name)==="csrf-token"||ee(e.attributes.name)==="p:domain_verify"||ee(e.attributes.name)==="verify-v1"||ee(e.attributes.name)==="verification"||ee(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function er(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:I={},inlineImages:k=!1,recordCanvas:B=!1,onSerialize:R,onIframeLoad:v,iframeLoadTimeout:H=5e3,onStylesheetLoad:V,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:Z=!1}=t,{preserveWhiteSpace:le=!0}=t,ie=Zy(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,dataURLOptions:I,inlineImages:k,recordCanvas:B,keepIframeSrcFn:O,newlyAddedElement:Z});if(!ie)return console.warn(e,"not serialized"),null;let Oe;r.hasNode(e)?Oe=r.getId(e):nS(ie,S)||!le&&ie.type===pe.Text&&!ie.isStyle&&!ie.textContent.replace(/^\s+|\s+$/gm,"").length?Oe=fo:Oe=Wc();let K=Object.assign(ie,{id:Oe});if(r.add(e,K),Oe===fo)return null;R&&R(e);let ut=!f;if(K.type===pe.Element){ut=ut&&!K.needBlock,delete K.needBlock;let oe=e.shadowRoot;oe&&co(oe)&&(K.isShadowHost=!0)}if((K.type===pe.Document||K.type===pe.Element)&&ut){S.headWhitespace&&K.type===pe.Element&&K.tagName==="head"&&(le=!1);let oe={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:I,inlineImages:k,recordCanvas:B,preserveWhiteSpace:le,onSerialize:R,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:O};for(let we of Array.from(e.childNodes)){let lt=er(we,oe);lt&&K.childNodes.push(lt)}if(Cy(e)&&e.shadowRoot)for(let we of Array.from(e.shadowRoot.childNodes)){let lt=er(we,oe);lt&&(co(e.shadowRoot)&&(lt.isShadow=!0),K.childNodes.push(lt))}}return e.parentNode&&ao(e.parentNode)&&co(e.parentNode)&&(K.isShadow=!0),K.type===pe.Element&&K.tagName==="iframe"&&Jy(e,()=>{let oe=e.contentDocument;if(oe&&v){let we=er(oe,{doc:oe,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:I,inlineImages:k,recordCanvas:B,preserveWhiteSpace:le,onSerialize:R,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:O});we&&v(e,we)}},H),K.type===pe.Element&&K.tagName==="link"&&K.attributes.rel==="stylesheet"&&Xy(e,()=>{if(V){let oe=er(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:I,inlineImages:k,recordCanvas:B,preserveWhiteSpace:le,onSerialize:R,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:V,stylesheetLoadTimeout:T,keepIframeSrcFn:O});oe&&V(e,oe)}},T),K}function rS(e,t){let{mirror:n=new Xi,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOM:S=!1,dataURLOptions:I,preserveWhiteSpace:k,onSerialize:B,onIframeLoad:R,iframeLoadTimeout:v,onStylesheetLoad:H,stylesheetLoadTimeout:V,keepIframeSrcFn:T=()=>!1}=t||{};return er(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:I,inlineImages:f,recordCanvas:m,preserveWhiteSpace:k,onSerialize:B,onIframeLoad:R,iframeLoadTimeout:v,onStylesheetLoad:H,stylesheetLoadTimeout:V,keepIframeSrcFn:T,newlyAddedElement:!1})}function Gt(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function ve(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Xn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,ff={map:{},getId(){return console.error(Xn),-1},getNode(){return console.error(Xn),null},removeNodeFromMap(){console.error(Xn)},has(){return console.error(Xn),!1},reset(){console.error(Xn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ff=new Proxy(ff,{get(e,t,n){return t==="map"&&console.error(Xn),Reflect.get(e,t,n)}}));function po(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Nf(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Nf(e,t,i||{},!0)}function zc(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var es=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(es=()=>new Date().getTime());function Mf(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Gt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Gt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Gt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Gt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Gt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Gt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Df(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Lf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ct(e,t,n,r,o){if(!e)return!1;let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;let s=Qn(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=yn(i,s),c=-1;return a<0?!1:(r&&(c=yn(i,Qn(null,r))),a>-1&&c<0?!0:a<c)}function oS(e,t){return t.getId(e)!==-1}function mc(e,t){return t.getId(e)===fo}function Pf(e,t){if(ao(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Pf(e.parentNode,t):!0:!0}function Sc(e){return!!e.changedTouches}function iS(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ff(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Bf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ec(e){return!!Gt([e,"optionalAccess",t=>t.shadowRoot])}var bc=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return pa(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Uf(e){let t=null;return Gt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function sS(e){let t=e,n;for(;n=Uf(t);)t=n;return t}function aS(e){let t=e.ownerDocument;if(!t)return!1;let n=sS(e);return t.contains(n)}function Hf(e){let t=e.ownerDocument;return t?t.contains(e)||aS(e):!1}var hc;function cS(){if(hc)return hc;let e=window.document,t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return hc=t.bind(window)}function uS(...e){return cS()(...e)}var P=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(P||{}),F=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(F||{}),Te=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Te||{}),At=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(At||{});function lS(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function pf(e){return"__ln"in e}var Tc=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=lS([n,"optionalAccess",o=>o.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&pf(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&pf(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},mf=(e,t)=>`${e}@${t}`,Ic=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Tc,o=c=>{let u=c,l=fo;for(;l===fo;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Hf(c))return;let u=ao(c.parentNode)?this.mirror.getId(Uf(c)):this.mirror.getId(c.parentNode),l=o(c);if(u===-1||l===-1)return r.addNode(c);let d=er(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ff(f,this.mirror)&&this.iframeManager.addIframe(f),Bf(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Ec(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{this.iframeManager.attachIframe(f,m),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)hf(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!gf(this.droppedSet,c)&&!hf(this.removes,c,this.mirror)||gf(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),l=o(s.value);u!==-1&&l!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let l=u;if(u=u.previous,l){let d=this.mirror.getId(l.value.parentNode);if(o(l.value)===-1)continue;if(d!==-1){c=l;break}else{let m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(mc(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{let r=t.target.textContent;!ct(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:or(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,o=t.attributeName,i=t.target.getAttribute(o);if(o==="value"){let a=Gc(r),c=r.tagName;i=Zi(r,c,a);let u=ls({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=or(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);i=lo({isMasked:l,element:r,value:i,maskInputFn:this.maskInputFn})}if(ct(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&o==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)o="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),o==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Of(r.tagName,o)&&(s.attributes[o]=Af(this.doc,rr(r.tagName),rr(o),i,r,this.maskAttributeFn),o==="style")){let a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(let c of Array.from(r.style)){let u=r.style.getPropertyValue(c),l=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?s.styleDiff[c]=u:s.styleDiff[c]=[u,l]:s._unchangedStyles[c]=[u,l]}for(let c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(s.styleDiff[c]=!1)}break}case"childList":{if(ct(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let o=this.mirror.getId(r),i=ao(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ct(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||mc(r,this.mirror)||!oS(r,this.mirror)||(this.addedSet.has(r)?(vc(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&o===-1||Pf(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[mf(o,i)]?vc(this.movedSet,r):this.removes.push({parentId:i,id:o,isShadow:ao(t.target)&&co(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(mc(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[mf(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ct(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Ec(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function vc(e,t){e.delete(t),t.childNodes.forEach(n=>vc(e,n))}function hf(e,t,n){return e.length===0?!1:$f(e,t,n)}function $f(e,t,n){let{parentNode:r}=t;if(!r)return!1;let o=n.getId(r);return e.some(i=>i.id===o)?!0:$f(e,r,n)}function gf(e,t){return e.size===0?!1:Gf(e,t)}function Gf(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Gf(e,n):!1}var uo;function dS(e){uo=e}function fS(){uo=void 0}var $=e=>uo?(...n)=>{try{return e(...n)}catch(r){if(uo&&uo(r)===!0)return()=>{};throw r}}:e;function bt(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var tr=[];function yo(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Wf(e,t){let n=new Ic;tr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=bt([window,"optionalAccess",s=>s.Zone,"optionalAccess",s=>s.__symbol__,"optionalCall",s=>s("MutationObserver")]);o&&window[o]&&(r=window[o]);let i=new r($(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function pS({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=po($(d=>{let f=Date.now()-a;e(s.map(m=>(m.timeOffset-=f,m)),d),s=[],a=null}),i),u=$(po($(d=>{let f=yo(d),{clientX:m,clientY:h}=Sc(d)?d.changedTouches[0]:d;a||(a=es()),s.push({x:m,y:h,id:r.getId(f),timeOffset:es()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?F.Drag:d instanceof MouseEvent?F.MouseMove:F.TouchMove)}),o,{trailing:!1})),l=[ve("mousemove",u,n),ve("touchmove",u,n),ve("drag",u,n)];return $(()=>{l.forEach(d=>d())})}function mS({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,l=d=>f=>{let m=yo(f);if(ct(m,r,o,i,!0))return;let h=null,g=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=At.Mouse;break;case"touch":h=At.Touch;break;case"pen":h=At.Pen;break}h===At.Touch?Te[d]===Te.MouseDown?g="TouchStart":Te[d]===Te.MouseUp&&(g="TouchEnd"):At.Pen}else Sc(f)&&(h=At.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===At.Touch||g.startsWith("Mouse")&&h===At.Mouse)&&(h=null)):Te[d]===Te.Click&&(h=u,u=null);let y=Sc(f)?f.changedTouches[0]:f;if(!y)return;let _=n.getId(m),{clientX:S,clientY:I}=y;$(e)({type:Te[g],id:_,x:S,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Te).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=rr(d),m=l(d);if(window.PointerEvent)switch(Te[d]){case Te.MouseDown:case Te.MouseUp:f=f.replace("mouse","pointer");break;case Te.TouchStart:case Te.TouchEnd:return}c.push(ve(f,m,t))}),$(()=>{c.forEach(d=>d())})}function jf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=$(po($(c=>{let u=yo(c);if(!u||ct(u,r,o,i,!0))return;let l=n.getId(u);if(u===t&&t.defaultView){let d=Mf(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return ve("scroll",a,t)}function hS({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=$(po($(()=>{let i=Df(),s=Lf();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return ve("resize",o,t)}var gS=["INPUT","TEXTAREA","SELECT"],_f=new WeakMap;function _S({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function y(v){let H=yo(v),V=v.isTrusted,T=H&&yc(H.tagName);if(T==="OPTION"&&(H=H.parentElement),!H||!T||gS.indexOf(T)<0||ct(H,r,o,i,!0))return;let O=H;if(O.classList.contains(s)||a&&O.matches(a))return;let Z=Gc(H),le=Zi(O,T,Z),ie=!1,Oe=ls({maskInputOptions:c,tagName:T,type:Z}),K=or(H,f,h,m,g,Oe);(Z==="radio"||Z==="checkbox")&&(ie=H.checked),le=lo({isMasked:K,element:H,value:le,maskInputFn:u}),_(H,d?{text:le,isChecked:ie,userTriggered:V}:{text:le,isChecked:ie});let ut=H.name;Z==="radio"&&ut&&ie&&t.querySelectorAll(`input[type="radio"][name="${ut}"]`).forEach(oe=>{if(oe!==H){let we=lo({isMasked:K,element:oe,value:Zi(oe,T,Z),maskInputFn:u});_(oe,d?{text:we,isChecked:!ie,userTriggered:!1}:{text:we,isChecked:!ie})}})}function _(v,H){let V=_f.get(v);if(!V||V.text!==H.text||V.isChecked!==H.isChecked){_f.set(v,H);let T=n.getId(v);$(e)({...H,id:T})}}let I=(l.input==="last"?["change"]:["input","change"]).map(v=>ve(v,$(y),t)),k=t.defaultView;if(!k)return()=>{I.forEach(v=>v())};let B=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),R=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return B&&B.set&&I.push(...R.map(v=>Nf(v[0],v[1],{set(){$(y)({target:this,isTrusted:!1})}},!1,k))),$(()=>{I.forEach(v=>v())})}function ts(e){let t=[];function n(r,o){if(Yi("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Yi("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Yi("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Yi("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function Wt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function yS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:$((l,d,f)=>{let[m,h]=f,{id:g,styleId:y}=Wt(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:m,index:h}]}),l.apply(d,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:$((l,d,f)=>{let[m]=f,{id:h,styleId:g}=Wt(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),l.apply(d,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:$((l,d,f)=>{let[m]=f,{id:h,styleId:g}=Wt(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:$((l,d,f)=>{let[m]=f,{id:h,styleId:g}=Wt(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),l.apply(d,f)})}));let c={};Vi("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Vi("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Vi("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Vi("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:$((f,m,h)=>{let[g,y]=h,{id:_,styleId:S}=Wt(m.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:g,index:[...ts(m),y||0]}]}),f.apply(m,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:$((f,m,h)=>{let[g]=h,{id:y,styleId:_}=Wt(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||_&&_!==-1)&&e({id:y,styleId:_,removes:[{index:[...ts(m),g]}]}),f.apply(m,h)})})}),$(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function zf({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?bt([n,"access",s=>s.defaultView,"optionalAccess",s=>s.Document]):bt([n,"access",s=>s.ownerDocument,"optionalAccess",s=>s.defaultView,"optionalAccess",s=>s.ShadowRoot]),i=bt([o,"optionalAccess",s=>s.prototype])?Object.getOwnPropertyDescriptor(bt([o,"optionalAccess",s=>s.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return bt([i,"access",s=>s.get,"optionalAccess",s=>s.call,"call",s=>s(this)])},set(s){let a=bt([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,s)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function SS({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:$((a,c,u)=>{let[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);let{id:m,styleId:h}=Wt(bt([c,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:d,priority:f},index:ts(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:$((a,c,u)=>{let[l]=u;if(n.has(l))return s.apply(c,[l]);let{id:d,styleId:f}=Wt(bt([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:ts(c.parentRule)}),a.apply(c,u)})}),$(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function ES({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=$(u=>po($(l=>{let d=yo(l);if(!d||ct(d,t,n,r,!0))return;let{currentTime:f,volume:m,muted:h,playbackRate:g}=d;e({type:u,id:o.getId(d),currentTime:f,volume:m,muted:h,playbackRate:g})}),i.media||500)),c=[ve("play",a(0),s),ve("pause",a(1),s),ve("seeked",a(2),s),ve("volumechange",a(3),s),ve("ratechange",a(4),s)];return $(()=>{c.forEach(u=>u())})}function bS({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){let d=new i(c,u,l);return o.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};let s=zc(t.fonts,"add",function(a){return function(c){return setTimeout($(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),$(()=>{r.forEach(a=>a())})}function TS(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=$(()=>{let u=t.getSelection();if(!u||a&&bt([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;let l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){let m=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:y,endOffset:_}=m;ct(h,r,o,i,!0)||ct(y,r,o,i,!0)||l.push({start:n.getId(h),startOffset:g,end:n.getId(y),endOffset:_})}s({ranges:l})});return c(),ve("selectionchange",c)}function IS({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:zc(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function vS(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r=Wf(e,e.doc),o=pS(e),i=mS(e),s=jf(e),a=hS(e,{win:n}),c=_S(e),u=ES(e),l=yS(e,{win:n}),d=zf(e,e.doc),f=SS(e,{win:n}),m=e.collectFonts?bS(e):()=>{},h=TS(e),g=IS(e),y=[];for(let _ of e.plugins)y.push(_.observer(_.callback,n,_.options));return $(()=>{tr.forEach(_=>_.reset()),r.disconnect(),o(),i(),s(),a(),c(),u(),l(),d(),f(),m(),h(),g(),y.forEach(_=>_())})}function Yi(e){return typeof window[e]<"u"}function Vi(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var mo=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function yf(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var wc=class{constructor(){this.crossOriginIframeMirror=new mo(Wc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},xc=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new mo(Wc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new mo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),yf([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case P.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:P.IncrementalSnapshot,data:{source:F.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case P.Meta:case P.Load:case P.DomContentLoaded:return!1;case P.Plugin:return n;case P.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case P.IncrementalSnapshot:switch(n.data.source){case F.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case F.Drag:case F.TouchMove:case F.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case F.ViewportResize:return!1;case F.MediaInteraction:case F.MouseInteraction:case F.Scroll:case F.CanvasMutation:case F.Input:return this.replaceIds(n.data,t,["id"]),n;case F.StyleSheetRule:case F.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case F.Font:return n;case F.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case F.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),yf([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(o=>{this.replaceStyleIds(o,t,["styleId"])})]),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==pe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Rc=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Cc=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!co(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let r=Wf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(jf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(zf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(zc(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&Hf(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},ns=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},kc=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new bc,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:kf(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Ac=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){uS(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function de(e){let t=e;return t.timestamp=es(),t}var rs,at=Dy();function zt(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:S,maskInputFn:I,maskTextFn:k,packFn:B,sampling:R={},dataURLOptions:v={},mousemoveWait:H,recordCanvas:V=!1,recordCrossOriginIframes:T=!1,recordAfter:O=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Z=!1,collectFonts:le=!1,inlineImages:ie=!1,plugins:Oe,keepIframeSrcFn:K=()=>!1,ignoreCSSAttributes:ut=new Set([]),errorHandler:oe,onMutation:we,getCanvasManager:lt}=e;dS(oe);let pr=T?window.parent===window:!0,Yt=!1;if(!pr)try{window.parent.document&&(Yt=!1)}catch{Yt=!0}if(pr&&!t)throw new Error("emit function is required");H!==void 0&&R.mousemove===void 0&&(R.mousemove=H),at.reset();let Vt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},Cn=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};iS();let Co,Ds=0,Su=M=>{for(let Xe of Oe||[])Xe.eventProcessor&&(M=Xe.eventProcessor(M));return B&&!Yt&&(M=B(M)),M},se=(M,Xe)=>{if(un([tr,"access",G=>G[0],"optionalAccess",G=>G.isFrozen,"call",G=>G()])&&M.type!==P.FullSnapshot&&!(M.type===P.IncrementalSnapshot&&M.data.source===F.Mutation)&&tr.forEach(G=>G.unfreeze()),pr)un([t,"optionalCall",G=>G(Su(M),Xe)]);else if(Yt){let G={type:"rrweb",event:Su(M),origin:window.location.origin,isCheckout:Xe};window.parent.postMessage(G,"*")}if(M.type===P.FullSnapshot)Co=M,Ds=0;else if(M.type===P.IncrementalSnapshot){if(M.data.source===F.Mutation&&M.data.isAttachIframe)return;Ds++;let G=r&&Ds>=r,Ze=n&&M.timestamp-Co.timestamp>n;(G||Ze)&&Ps(!0)}},ko=M=>{se(de({type:P.IncrementalSnapshot,data:{source:F.Mutation,...M}}))},Eu=M=>se(de({type:P.IncrementalSnapshot,data:{source:F.Scroll,...M}})),Cm=M=>se(de({type:P.IncrementalSnapshot,data:{source:F.CanvasMutation,...M}})),km=M=>se(de({type:P.IncrementalSnapshot,data:{source:F.AdoptedStyleSheet,...M}})),Kt=new kc({mutationCb:ko,adoptedStyleSheetCb:km}),Jt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new wc:new xc({mirror:at,mutationCb:ko,stylesheetManager:Kt,recordCrossOriginIframes:T,wrappedEmit:se});for(let M of Oe||[])M.getMirror&&M.getMirror({nodeMirror:at,crossOriginIframeMirror:Jt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Jt.crossOriginIframeStyleMirror});let Ls=new Ac,bu=xS(lt,{mirror:at,win:window,mutationCb:M=>se(de({type:P.IncrementalSnapshot,data:{source:F.CanvasMutation,...M}})),recordCanvas:V,blockClass:o,blockSelector:i,unblockSelector:s,sampling:R.canvas,dataURLOptions:v,errorHandler:oe}),Ao=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Rc:new Cc({mutationCb:ko,scrollCb:Eu,bypassOptions:{onMutation:we,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:Vt,dataURLOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:I,recordCanvas:V,inlineImages:ie,sampling:R,slimDOMOptions:Cn,iframeManager:Jt,stylesheetManager:Kt,canvasManager:bu,keepIframeSrcFn:K,processedNodeManager:Ls},mirror:at}),Ps=(M=!1)=>{se(de({type:P.Meta,data:{href:window.location.href,width:Lf(),height:Df()}}),M),Kt.reset(),Ao.init(),tr.forEach(G=>G.lock());let Xe=rS(document,{mirror:at,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:Vt,maskAttributeFn:S,maskInputFn:I,maskTextFn:k,slimDOM:Cn,dataURLOptions:v,recordCanvas:V,inlineImages:ie,onSerialize:G=>{Ff(G,at)&&Jt.addIframe(G),Bf(G,at)&&Kt.trackLinkElement(G),Ec(G)&&Ao.addShadowRoot(G.shadowRoot,document)},onIframeLoad:(G,Ze)=>{Jt.attachIframe(G,Ze),Ao.observeAttachShadow(G)},onStylesheetLoad:(G,Ze)=>{Kt.attachLinkElement(G,Ze)},keepIframeSrcFn:K});if(!Xe)return console.warn("Failed to snapshot the document");se(de({type:P.FullSnapshot,data:{node:Xe,initialOffset:Mf(window)}})),tr.forEach(G=>G.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Kt.adoptStyleSheets(document.adoptedStyleSheets,at.getId(document))};rs=Ps;try{let M=[],Xe=Ze=>$(vS)({onMutation:we,mutationCb:ko,mousemoveCb:(q,Xt)=>se(de({type:P.IncrementalSnapshot,data:{source:Xt,positions:q}})),mouseInteractionCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.MouseInteraction,...q}})),scrollCb:Eu,viewportResizeCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.ViewportResize,...q}})),inputCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.Input,...q}})),mediaInteractionCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.MediaInteraction,...q}})),styleSheetRuleCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.StyleSheetRule,...q}})),styleDeclarationCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.StyleDeclaration,...q}})),canvasMutationCb:Cm,fontCb:q=>se(de({type:P.IncrementalSnapshot,data:{source:F.Font,...q}})),selectionCb:q=>{se(de({type:P.IncrementalSnapshot,data:{source:F.Selection,...q}}))},customElementCb:q=>{se(de({type:P.IncrementalSnapshot,data:{source:F.CustomElement,...q}}))},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:Vt,inlineStylesheet:h,sampling:R,recordCanvas:V,inlineImages:ie,userTriggeredOnInput:Z,collectFonts:le,doc:Ze,maskAttributeFn:S,maskInputFn:I,maskTextFn:k,keepIframeSrcFn:K,blockSelector:i,unblockSelector:s,slimDOMOptions:Cn,dataURLOptions:v,mirror:at,iframeManager:Jt,stylesheetManager:Kt,shadowDomManager:Ao,processedNodeManager:Ls,canvasManager:bu,ignoreCSSAttributes:ut,plugins:un([Oe,"optionalAccess",q=>q.filter,"call",q=>q(Xt=>Xt.observer),"optionalAccess",q=>q.map,"call",q=>q(Xt=>({observer:Xt.observer,options:Xt.options,callback:Am=>se(de({type:P.Plugin,data:{plugin:Xt.name,payload:Am}}))}))])||[]},{});Jt.addLoadListener(Ze=>{try{M.push(Xe(Ze.contentDocument))}catch(q){console.warn(q)}});let G=()=>{Ps(),M.push(Xe(document))};return document.readyState==="interactive"||document.readyState==="complete"?G():(M.push(ve("DOMContentLoaded",()=>{se(de({type:P.DomContentLoaded,data:{}})),O==="DOMContentLoaded"&&G()})),M.push(ve("load",()=>{se(de({type:P.Load,data:{}})),O==="load"&&G()},window))),()=>{M.forEach(Ze=>Ze()),Ls.destroy(),rs=void 0,fS()}}catch(M){console.warn(M)}}function wS(e){if(!rs)throw new Error("please take full snapshot after start recording");rs(e)}zt.mirror=at;zt.takeFullSnapshot=wS;function xS(e,t){try{return e?e(t):new ns}catch{return console.warn("Unable to initialize CanvasManager"),new ns}}var RS=3,CS=5;function qc(e){return e>9999999999?e:e*1e3}function gc(e){return e>9999999999?e/1e3:e}function So(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:P.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ae(t,10,1e3)}}),t.category==="console")))}var kS="button,a";function qf(e){return e.closest(kS)||e}function Yf(e){let t=Vf(e);return!t||!(t instanceof Element)?t:qf(t)}function Vf(e){return AS(e)?e.target:e}function AS(e){return typeof e=="object"&&!!e&&"target"in e}var jt;function OS(e){return jt||(jt=[],NS()),jt.push(e),()=>{let t=jt?jt.indexOf(e):-1;t>-1&&jt.splice(t,1)}}function NS(){Q(te,"open",function(e){return function(...t){if(jt)try{jt.forEach(n=>n())}catch{}return e.apply(te,t)}})}function MS(e,t,n){e.handleClick(t,n)}var Oc=class{constructor(t,n,r=So){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=OS(()=>{this._lastMutation=Sf()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(LS(n,this._ignoreSelector)||!PS(t))return;let r={timestamp:gc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=gc(t)}registerScroll(t=Date.now()){this._lastScroll=gc(t)}registerClick(t){let n=qf(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Sf();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:te.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,l);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:te.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},DS=["A","BUTTON","INPUT"];function LS(e,t){return!!(!DS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function PS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Sf(){return Date.now()/1e3}function FS(e,t){try{if(!BS(t))return;let{source:n}=t.data;if(n===F.Mutation&&e.registerMutation(t.timestamp),n===F.Scroll&&e.registerScroll(t.timestamp),US(t)){let{type:r,id:o}=t.data,i=zt.mirror.getNode(o);i instanceof HTMLElement&&r===Te.Click&&e.registerClick(i)}}catch{}}function BS(e){return e.type===RS}function US(e){return e.data.source===F.MouseInteraction}function Tt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var os;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(os||(os={}));var HS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function $S(e){let t={};for(let n in e)if(HS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var GS=e=>t=>{if(!e.isEnabled())return;let n=WS(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&MS(e.clickDetector,n,Yf(t.event)),So(e,n)};function Kf(e,t){let n=zt.mirror.getId(e),r=n&&zt.mirror.getNode(n),o=r&&zt.mirror.getMeta(r),i=o&&zS(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===os.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:$S(i.attributes)}}:{}}}function WS(e){let{target:t,message:n}=jS(e);return Tt({category:`ui.${e.name}`,...Kf(t,n)})}function jS(e){let t=e.name==="click",n,r=null;try{r=t?Yf(e.event):Vf(e.event),n=Me(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function zS(e){return e.type===os.Element}function qS(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=YS(t);n&&So(e,n)}function YS(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||VS(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Me(s,{maxStringLength:200})||"<unknown>",l=Kf(s,u);return Tt({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function VS(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Ef={resource:QS,paint:XS,navigation:ZS};function KS(e){return e.map(JS).filter(Boolean)}function JS(e){return Ef[e.entryType]?Ef[e.entryType](e):null}function ir(e){return((ne||te.performance.timeOrigin)+e)/1e3}function XS(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=ir(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function ZS(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:m,transferSize:h,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:ir(m),end:ir(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function QS(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:ir(i),end:ir(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function eE(e){let t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=ir(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?zt.mirror.getId(r):void 0}}}function tE(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(gt(o,n))}),r.push(eo(({metric:o})=>{e.replayPerformanceEntries.push(eE(o))})),()=>{r.forEach(o=>o())}}var X=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,nE='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function rE(){let e=new Blob([nE]);return URL.createObjectURL(e)}function Ie(e,t){X&&(p.info(e),t&&Jf(e))}function nr(e,t){X&&(p.info(e),t&&setTimeout(()=>{Jf(e)},0))}function Jf(e){We({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var ho=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${$c}.`)}},is=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>$c)throw new ho;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?qc(t):null}},Nc=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ie("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){X&&p.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},Mc=class{constructor(t){this._worker=new Nc(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=qc(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>$c?Promise.reject(new ho):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{X&&p.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},Dc=class{constructor(t){this._fallback=new is,this._compression=new Mc(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Ie("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let o of t)r.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(o){X&&p.warn("[Replay] Failed to add events when switching buffers.",o)}}};function oE({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=iE(t);if(n)return n}return Ie("[Replay] Using simple buffer"),new is}function iE(e){try{let t=e||sE();if(!t)return;Ie(`[Replay] Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new Dc(n)}catch{Ie("[Replay] Failed to create compression worker")}}function sE(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?rE():""}function Yc(){try{return"sessionStorage"in te&&!!te.sessionStorage}catch{return!1}}function aE(e){cE(),e.session=void 0}function cE(){if(Yc())try{te.sessionStorage.removeItem(Uc)}catch{}}function Xf(e){return e===void 0?!1:Math.random()<e}function Zf(e){let t=Date.now(),n=e.id||D(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Vc(e){if(Yc())try{te.sessionStorage.setItem(Uc,JSON.stringify(e))}catch{}}function uE(e,t){return Xf(e)?"session":t?"buffer":!1}function bf({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=uE(e,t),i=Zf({sampled:o,previousSessionId:r});return n&&Vc(i),i}function lE(e){if(!Yc())return null;try{let t=te.sessionStorage.getItem(Uc);if(!t)return null;let n=JSON.parse(t);return nr("[Replay] Loading existing session",e),Zf(n)}catch{return null}}function Lc(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Qf(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Lc(e.started,t,r)||Lc(e.lastActivity,n,r)}function ep(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Qf(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function _c({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){let i=o.stickySession&&lE(e);return i?ep(i,{sessionIdleExpire:t,maxReplayDuration:n})?(nr("[Replay] Session in sessionStorage is expired, creating new one..."),bf(o,{previousSessionId:i.id})):i:(nr("[Replay] Creating new session",e),bf(o,{previousSessionId:r}))}function dE(e){return e.type===P.Custom}function Kc(e,t,n){return np(e,t)?(tp(e,t,n),!0):!1}function fE(e,t,n){return np(e,t)?tp(e,t,n):Promise.resolve(null)}async function tp(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),o=pE(t,r.beforeAddRecordingEvent);return o?await e.eventBuffer.addEvent(o):void 0}catch(r){let o=r&&r instanceof ho?"addEventSizeExceeded":"addEvent";X&&p.error(r),await e.stop({reason:o});let i=w();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function np(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=qc(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ie(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function pE(e,t){try{if(typeof t=="function"&&dE(e))return t(e)}catch(n){return X&&p.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Jc(e){return!e.type}function Pc(e){return e.type==="transaction"}function mE(e){return e.type==="replay_event"}function Tf(e){return e.type==="feedback"}function rp(e){let t=_E();return(n,r)=>{if(!e.isEnabled()||!Jc(n)&&!Pc(n))return;let o=r&&r.statusCode;if(!(t&&(!o||o<200||o>=300))){if(Pc(n)){hE(e,n);return}gE(e,n)}}}function hE(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function gE(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function _E(){let e=w();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function yE(e){return t=>{!e.isEnabled()||!Jc(t)||SE(e,t)}}function SE(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Tt({category:"replay.hydrate-error"});So(e,r)}}function EE(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function bE(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:P.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function TE(e,t){return e.recordingMode!=="buffer"||t.message===Hc||!t.exception||t.type?!1:Xf(e.getOptions().errorSampleRate)}function IE(e,t=!1){let n=t?rp(e):void 0;return Object.assign((r,o)=>e.isEnabled()?mE(r)?(delete r.breadcrumbs,r):!Jc(r)&&!Pc(r)&&!Tf(r)||!e.checkAndHandleExpiredSession()?r:Tf(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),bE(e,r),r):EE(r,o)&&!e.getOptions()._experiments.captureExceptions?(X&&p.log("[Replay] Ignoring error from rrweb internals",r),null):((TE(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function ds(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:P.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function vE(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function wE(e){return t=>{if(!e.isEnabled())return;let n=vE(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ds(e,[n]),!1)))}}function xE(e,t){return X&&e.getOptions()._experiments.traceInternals?!1:Fa(t,w())}function fs(e,t){e.isEnabled()&&t!==null&&(xE(e,t.name)||e.addUpdate(()=>(ds(e,[t]),!0)))}function RE(e){let{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;let{method:i,url:s}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:s,data:{method:i,statusCode:o?o.status:void 0}}}function CE(e){return t=>{if(!e.isEnabled())return;let n=RE(t);fs(e,n)}}function kE(e){let{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[Ge];if(!t||!n||!o)return null;let{method:i,url:s,status_code:a}=o;return s===void 0?null:{type:"resource.xhr",name:s,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function AE(e){return t=>{if(!e.isEnabled())return;let n=kE(t);fs(e,n)}}function ps(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=ap(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function op(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ip(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[ap(e)];if(!e)return[void 0]}catch{return X&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return X&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ss(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function sp(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:j({method:i,statusCode:s,request:a,response:c})}}function go(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function qt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=OE(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function Fc(e,t){return Object.keys(e).reduce((n,r)=>{let o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n},{})}function ap(e){return new URLSearchParams(e).toString()}function OE(e){if(!e||typeof e!="string")return{body:e};let t=e.length>cf,n=NE(e);if(t){let r=e.slice(0,cf);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function NE(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function as(e,t){let n=ME(e);return ft(n,t)}function ME(e,t=te.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(te.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function DE(e,t,n){try{let r=await PE(e,t,n),o=sp("resource.fetch",r);fs(n.replay,o)}catch(r){X&&p.error("[Replay] Failed to capture fetch breadcrumb",r)}}function LE(e,t,n){let{input:r,response:o}=t,i=r?cp(r):void 0,s=ps(i,n.textEncoder),a=o?op(o.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),a!==void 0&&(e.data.response_body_size=a)}async function PE(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=as(s,n.networkDetailAllowUrls)&&!as(s,n.networkDetailDenyUrls),f=d?FE(n,t.input,u):go(u),m=await BE(d,n,t.response,l);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:m}}function FE({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?$E(n,t):{};if(!e)return qt(o,r,void 0);let i=cp(n),[s,a]=ip(i),c=qt(o,r,s);return a?ss(c,a):c}async function BE(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,i){if(!e&&i!==void 0)return go(i);let s=o?up(o.headers,r):{};if(!o||!t&&i!==void 0)return qt(s,i,void 0);let[a,c]=await HE(o),u=UE(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:s});return c?ss(u,c):u}function UE(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:i}){try{let s=e&&e.length&&r===void 0?ps(e,n):r;return o?t?qt(i,s,e):qt(i,s,void 0):go(s)}catch(s){return X&&p.warn("[Replay] Failed to serialize response body",s),qt(i,r,void 0)}}async function HE(e){let t=GE(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await WE(t)]}catch(n){return X&&p.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function cp(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function up(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function $E(e,t){return e.length===1&&typeof e[0]!="string"?If(e[0],t):e.length===2?If(e[1],t):{}}function If(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?up(n,t):Array.isArray(n)?{}:Fc(n,t):{}}function GE(e){try{return e.clone()}catch(t){X&&p.warn("[Replay] Failed to clone response body",t)}}function WE(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);jE(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function jE(e){return await e.text()}async function zE(e,t,n){try{let r=YE(e,t,n),o=sp("resource.xhr",r);fs(n.replay,o)}catch(r){X&&p.error("[Replay] Failed to capture xhr breadcrumb",r)}}function qE(e,t,n){let{xhr:r,input:o}=t;if(!r)return;let i=ps(o,n.textEncoder),s=r.getResponseHeader("content-length")?op(r.getResponseHeader("content-length")):XE(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function YE(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!as(c,n.networkDetailAllowUrls)||as(c,n.networkDetailDenyUrls)){let R=go(d),v=go(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:R,response:v}}let m=a[Ge],h=m?Fc(m.request_headers,n.networkRequestHeaders):{},g=Fc(VE(a),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?ip(s):[void 0],[S,I]=n.networkCaptureBodies?KE(a):[void 0],k=qt(h,d,y),B=qt(g,f,S);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:_?ss(k,_):k,response:I?ss(B,I):B}}function VE(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return n[o.toLowerCase()]=i,n},{}):{}}function KE(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return JE(e.response,e.responseType)}catch(n){t.push(n)}return X&&p.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function JE(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return X&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return X&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function XE(e,t,n){try{let r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ps(r,n)}catch{return}}function ZE(e){let t=w();try{let n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>QE(c,u,l)):(rn(CE(e)),on(AE(e)))}catch{}}function QE(e,t,n){if(t.data)try{eb(t)&&nb(n)&&(qE(t,n,e),zE(t,n,e)),tb(t)&&rb(n)&&(LE(t,n,e),DE(t,n,e))}catch{X&&p.warn("Error when enriching network breadcrumb")}}function eb(e){return e.category==="xhr"}function tb(e){return e.category==="fetch"}function nb(e){return e&&e.xhr}function rb(e){return e&&e.response}var vf=null;function ob(e){return!!e.category}var ib=e=>t=>{if(!e.isEnabled())return;let n=sb(t);n&&So(e,n)};function sb(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return vf===t||!t||(vf=t,!ob(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?ab(t):Tt(t)}function ab(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Tt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>qi?(n=!0,`${o.slice(0,qi)}\u2026`):o;if(typeof o=="object")try{let i=Ae(o,7);return JSON.stringify(i).length>qi?(n=!0,`${JSON.stringify(i,null,2).slice(0,qi)}\u2026`):i}catch{}return o});return Tt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function cb(e){let t=W(),n=w();t.addScopeListener(ib(e)),vr(GS(e)),tt(wE(e)),ZE(e);let r=IE(e,!wf(n));n&&n.addEventProcessor?n.addEventProcessor(r):gi(r),wf(n)&&(n.on("beforeSendEvent",yE(e)),n.on("afterSendEvent",rp(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("startTransaction",o=>{e.lastTransaction=o}),n.on("finishTransaction",o=>{e.lastTransaction=o}),n.on("beforeSendFeedback",(o,i)=>{let s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&o.contexts&&o.contexts.feedback&&(o.contexts.feedback.replay_id=s)}))}function wf(e){return!!(e&&e.on)}async function ub(e){try{return Promise.all(ds(e,[lb(te.performance.memory)]))}catch{return[]}}function lb(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function db(e,t,n){let r,o,i,s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function l(){return o&&clearTimeout(o),o=setTimeout(a,t),s&&i===void 0&&(i=setTimeout(a,s)),r}return l.cancel=c,l.flush=u,l}function fb(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){X&&p.warn("[Replay] Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&FS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Kc(e,n,o))return!0;if(!o)return!1;if(mb(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let i=e.eventBuffer.getEarliestTimestamp();i&&(Ie(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&Vc(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function pb(e){let t=e.getOptions();return{type:P.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function mb(e,t){!t||!e.session||e.session.segmentId!==0||Kc(e,pb(e),!1)}function hb(e,t,n,r){return Ee(Dr(e,Bn(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function gb({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function _b({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit&&e.emit("preprocessEvent",r,i);let s=await fn(e.getOptions(),r,i,t,e,he());if(!s)return null;s.platform=s.platform||"javascript";let a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function yb({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=gb({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=w(),f=W(),m=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!m||!h||!i.sampled)return;let g={type:hy,replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await _b({scope:f,client:d,replayId:t,event:g});if(!y){d.recordDroppedEvent("event_processor","replay",g),Ie("An event processor returned `null`, will not send event.");return}delete y.sdkProcessingMetadata;let _=hb(y,s,h,d.getOptions().tunnel),S;try{S=await m.send(_)}catch(k){let B=new Error(Hc);try{B.cause=k}catch{}throw B}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new cs(S.statusCode);let I=Pr({},S);if(Lr(I,"replay"))throw new us(I);return S}var cs=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},us=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function lp(e,t={count:0,interval:by}){let{recordingData:n,options:r}=e;if(n.length)try{return await yb(e),!0}catch(o){if(o instanceof cs||o instanceof us)throw o;if(ni("Replays",{_retryCount:t.count}),X&&r._experiments&&r._experiments.captureExceptions&&xt(o),t.count>=Ty){let i=new Error(`${Hc} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{setTimeout(async()=>{try{await lp(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var dp="__THROTTLED",Sb="__SKIPPED";function Eb(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let l=s;return s=!0,l?Sb:dp}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var Bc=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:gy,sessionIdleExpire:_y},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=db(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Eb((s,a)=>fE(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(Iy,r),timeout:r,scrollTimeout:vy,ignoreSelector:o?o.join(","):""}:void 0;i&&(this.clickDetector=new Oc(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",nr(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");nr("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);let t=_c({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");nr("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=_c({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=zt({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Ey},emit:fb(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{Ie(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,aE(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ie("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ie("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();Ie("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Lc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${te.location.pathname}${te.location.hash}${te.location.search}`,n=`${te.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===dp){let o=Tt({category:"replay.throttled"});this.addUpdate(()=>!Kc(this,{type:CS,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastTransaction||W().getTransaction(),r=(t&&A(t).data||{})[z];if(!(!t||!r||!["route","custom"].includes(r)))return A(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=oE({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){X&&p.error("[Replay]",t),X&&this._options._experiments&&this._options._experiments.captureExceptions&&xt(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=_c({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return ep(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{te.document.addEventListener("visibilitychange",this._handleVisibilityChange),te.addEventListener("blur",this._handleWindowBlur),te.addEventListener("focus",this._handleWindowFocus),te.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(cb(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=tE(this)}_removeListeners(){try{te.document.removeEventListener("visibilitychange",this._handleVisibilityChange),te.removeEventListener("blur",this._handleWindowBlur),te.removeEventListener("focus",this._handleWindowFocus),te.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{te.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Tt({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Tt({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{qS(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Qf(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ie("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:P.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=KS(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(ds(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){X&&p.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await ub(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await lp({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=w();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){X&&p.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){Ie(`[Replay] Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&Ie("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){X&&p.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Vc(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=Tt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function so(e,t,n,r){let o=typeof r=="string"?r.split(","):[],i=[...e,...o,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),$e(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function bb({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){let l=['base[href="/"]'],d=so(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=so(t,[".sentry-unmask","[data-sentry-unmask]"]),m={maskTextSelector:d,unmaskTextSelector:f,blockSelector:so(n,[".sentry-block","[data-sentry-block]",...l],i,s),unblockSelector:so(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:so(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(m.blockClass=i),a instanceof RegExp&&(m.maskTextClass=a),m}function Tb({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var xf='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ib=["content-length","content-type","accept"],Rf=!1,vb=e=>new _o(e),_o=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=yy,flushMaxDelay:n=Sy,minReplayDuration:r=wy,maxReplayDuration:o=uf,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:h=750,mutationLimit:g=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:I=[],networkCaptureBodies:k=!0,networkRequestHeaders:B=[],networkResponseHeaders:R=[],mask:v=[],maskAttributes:H=["title","placeholder"],unmask:V=[],block:T=[],unblock:O=[],ignore:Z=[],maskFn:le,beforeAddRecordingEvent:ie,beforeErrorSampling:Oe,blockClass:K,blockSelector:ut,maskInputOptions:oe,maskTextClass:we,maskTextSelector:lt,ignoreClass:pr}={}){this.name=e.id;let Yt=bb({mask:v,unmask:V,block:T,unblock:O,ignore:Z,blockClass:K,blockSelector:ut,maskTextClass:we,maskTextSelector:lt,ignoreClass:pr});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...oe||{},password:!0},maskTextFn:le,maskInputFn:le,maskAttributeFn:(Vt,Cn,Co)=>Tb({maskAttributes:H,maskAllText:d,privacyOptions:Yt,key:Vt,value:Cn,el:Co}),...Yt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Vt=>{try{Vt.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,xy),maxReplayDuration:Math.min(o,uf),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:s,workerUrl:a,blockAllMedia:m,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:g,slowClickTimeout:y,slowClickIgnoreSelectors:_,networkDetailAllowUrls:S,networkDetailDenyUrls:I,networkCaptureBodies:k,networkRequestHeaders:Cf(B),networkResponseHeaders:Cf(R),beforeAddRecordingEvent:ie,beforeErrorSampling:Oe,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${xf}`:xf),this._isInitialized&&Pn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Rf}set _isInitialized(t){Rf=t}setupOnce(){Pn()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let t=wb(this._initialOptions);this._replay=new Bc({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let n=w().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};_o.__initStatic();function wb(e){let t=w(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...j(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&$e(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):($e(()=>{console.warn("SDK client is not available.")}),r)}function Cf(e){return[...Ib,...e.map(t=>t.toLowerCase())]}function xb(){let e=w();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var fp;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(fp||(fp={}));function Rb(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Zc(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Zc(e.parentNode,t,n,r+1)}function pp(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Rb(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var sr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,mp={map:{},getId(){return console.error(sr),-1},getNode(){return console.error(sr),null},removeNodeFromMap(){console.error(sr)},has(){return console.error(sr),!1},reset(){console.error(sr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(mp=new Proxy(mp,{get(e,t,n){return t==="map"&&console.error(sr),Reflect.get(e,t,n)}}));function eu(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>eu(e,t,i||{},!0)}function tu(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function gs(e,t,n,r,o){if(!e)return!1;let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;let s=pp(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Zc(i,s),c=-1;return a<0?!1:(r&&(c=Zc(i,pp(null,r))),a>-1&&c<0?!0:a<c)}var Xc;function Cb(){if(Xc)return Xc;let e=window.document,t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return Xc=t.bind(window)}function Sn(...e){return Cb()(...e)}var cr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(cr||{}),ms;function kb(e){ms=e}var hp=e=>ms?(...n)=>{try{return e(...n)}catch(r){if(ms&&ms(r)===!0)return()=>{};throw r}}:e,ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ab=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Eo=0;Eo<ar.length;Eo++)Ab[ar.charCodeAt(Eo)]=Eo;var Eo,Ob=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=ar[t[n]>>2],o+=ar[(t[n]&3)<<4|t[n+1]>>4],o+=ar[(t[n+1]&15)<<2|t[n+2]>>6],o+=ar[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},gp=new Map;function Nb(e,t){let n=gp.get(e);return n||(n=new Map,gp.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Ep=(e,t,n)=>{if(!e||!(Tp(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=Nb(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function hs(e,t,n){if(e instanceof Array)return e.map(r=>hs(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=Ob(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[hs(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[hs(e.data,t,n),e.width,e.height]};if(Tp(e,t)||typeof e=="object"){let r=e.constructor.name,o=Ep(e,t,n);return{rr_type:r,index:o}}}}return e}var bp=(e,t,n)=>e.map(r=>hs(r,t,n)),Tp=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function Mb(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=tu(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return gs(this.canvas,n,r,o,!0)||setTimeout(()=>{let d=bp(l,t,this);e(this.canvas,{type:cr["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{let u=eu(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:cr["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function Db(e){return e==="experimental-webgl"?"webgl":e}function _p(e,t,n,r,o){let i=[];try{let s=tu(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!gs(this,t,n,r,!0)){let l=Db(c);if("__context"in this||(this.__context=l),o&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){let d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function yp(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;let d=tu(e,l,function(f){return function(...m){let h=f.apply(this,m);if(Ep(h,a,this),"tagName"in this.canvas&&!gs(this.canvas,r,o,i,!0)){let g=bp(m,a,this),y={type:t,property:l,args:g};n(this.canvas,y)}return h}});c.push(d)}catch{let f=eu(e,l,{set(m){n(this.canvas,{type:t,property:l,args:[m],setter:!0})}});c.push(f)}return c}function Lb(e,t,n,r,o,i){let s=[];return s.push(...yp(t.WebGLRenderingContext.prototype,cr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...yp(t.WebGL2RenderingContext.prototype,cr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var Pb='for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<64;n++)e[t.charCodeAt(n)]=n;var a=function(e){var n,a=new Uint8Array(e),s=a.length,r="";for(n=0;n<s;n+=3)r+=t[a[n]>>2],r+=t[(3&a[n])<<4|a[n+1]>>4],r+=t[(15&a[n+1])<<2|a[n+2]>>6],r+=t[63&a[n+2]];return s%3==2?r=r.substring(0,r.length-1)+"=":s%3==1&&(r=r.substring(0,r.length-2)+"=="),r};const s=new Map,r=new Map;const i=self;i.onmessage=async function(t){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:t.data.id});{const{id:e,bitmap:n,width:o,height:f,dataURLOptions:c}=t.data,g=async function(t,e,n){const s=t+"-"+e;if("OffscreenCanvas"in globalThis){if(r.has(s))return r.get(s);const i=new OffscreenCanvas(t,e);i.getContext("2d");const o=await i.convertToBlob(n),f=await o.arrayBuffer(),c=a(f);return r.set(s,c),c}return""}(o,f,c),d=new OffscreenCanvas(o,f);d.getContext("2d").drawImage(n,0,0),n.close();const u=await d.convertToBlob(c),h=u.type,w=await u.arrayBuffer(),l=a(w);if(!s.has(e)&&await g===l)return s.set(e,l),i.postMessage({id:e});if(s.get(e)===l)return i.postMessage({id:e});i.postMessage({id:e,type:h,base64:l,width:o,height:f}),s.set(e,l)}};';function Fb(){let e=new Blob([Pb]);return URL.createObjectURL(e)}var Qc=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,d)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(d)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,recordCanvas:a,dataURLOptions:c,errorHandler:u}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,u&&kb(u),!t.enableManualSnapshot&&hp(()=>{a&&n==="all"&&this.initCanvasMutationObserver(r,o,i,s),a&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,o,i,s,{dataURLOptions:c})})()}initCanvasFPSObserver(t,n,r,o,i,s){let a=_p(n,r,o,i,!0),c=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(c)}}initCanvasMutationObserver(t,n,r,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=_p(t,n,r,o,!1),s=Mb(this.processMutation.bind(this),t,n,r,o),a=Lb(this.processMutation.bind(this),t,n,r,o,this.mirror);this.resetObservers=()=>{i(),s(),a()}}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,o,i,s,a,c){let u=new Map,l=new Worker(Fb());l.onmessage=y=>{let _=y.data,{id:S}=_;if(u.set(S,!1),!("base64"in _))return;let{base64:I,type:k,width:B,height:R}=_;this.mutationCb({id:S,type:cr["2D"],commands:[{property:"clearRect",args:[0,0,B,R]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:I}],type:k}]},0,0]}]})};let d=1e3/n,f=0,m,h=y=>{if(y)return[y];let _=[];return r.document.querySelectorAll("canvas").forEach(S=>{gs(S,o,i,s,!0)||_.push(S)}),_},g=y=>{if(f&&y-f<d){m=Sn(g);return}f=y,h(c).forEach(_=>{let S=this.mirror.getId(_);if(!u.get(S)){if(u.set(S,!0),!t&&["webgl","webgl2"].includes(_.__context)){let I=_.getContext(_.__context);un([I,"optionalAccess",k=>k.getContextAttributes,"call",k=>k(),"optionalAccess",k=>k.preserveDrawingBuffer])===!1&&I.clear(I.COLOR_BUFFER_BIT)}createImageBitmap(_).then(I=>{l.postMessage({id:S,bitmap:I,width:_.width,height:_.height,dataURLOptions:a},[I])}).catch(I=>{hp(()=>{throw I})()})}}),m=Sn(g)};return m=Sn(g),m}startPendingCanvasMutationFlusher(){Sn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Sn(t)};Sn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Sn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}},Sp={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Ip="ReplayCanvas",Bb=(e={})=>{let t={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot},n,r=new Promise(o=>n=o);return{name:Ip,setupOnce(){},getOptions(){let{quality:o,enableManualSnapshot:i}=t;return{enableManualSnapshot:i,recordCanvas:!0,getCanvasManager:s=>{let a=new Qc({...s,enableManualSnapshot:i,errorHandler:c=>{try{typeof c=="object"&&(c.__rrweb__=!0)}catch{}}});return n(a),a},...Sp[o||"medium"]||Sp.medium}},async snapshot(o){(await r).snapshot(o)}}},vp=Bb,Ub=J(Ip,vp);var bn=x,nu="#ffffff",wp="inherit",ru="rgba(108, 95, 199, 1)",xp={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:nu,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"12px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ru,submitBorder:ru,submitOutlineFocus:"#29232f",submitForeground:nu,submitForegroundHover:nu,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:wp,inputForeground:wp,inputBorder:"var(--border)",inputOutlineFocus:ru,formBorderRadius:"20px",formContentBorderRadius:"6px"},Rp={light:xp,dark:{...xp,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},Hb="Report a Bug",$b="Cancel",Gb="Send Bug Report",Wb="Report a Bug",jb="your.email@example.org",zb="Email",qb="What's the bug? What did you expect?",Yb="Description",Vb="Your Name",Kb="Name",Jb="Thank you for your report!",Np="widget",Mp="api";async function Xb({client:e,scope:t,event:n}){let r={};e.emit&&e.emit("preprocessEvent",n,r);let o=await fn(e.getOptions(),n,r,t,e,he());return o===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}async function Zb({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:i=!0}={}){let s=w(),a=s&&s.getTransport(),c=s&&s.getDsn();if(!s||!a||!c)return;let u={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return je(async l=>{l.clearBreadcrumbs(),[Mp,Np].includes(String(r))&&l.setLevel("info");let d=await Xb({scope:l,client:s,event:u});if(!d)return;s.emit&&s.emit("beforeSendFeedback",d,{includeReplay:!!i});let f=Yr(d,c,s.getOptions()._metadata,s.getOptions().tunnel),m;try{m=await a.send(f)}catch(h){let g=new Error("Unable to send Feedback");try{g.cause=h}catch{}throw g}if(m){if(typeof m.statusCode=="number"&&(m.statusCode<200||m.statusCode>=300))throw new Error("Unable to send Feedback");return m}})}function Dp({name:e,email:t,message:n,source:r=Mp,url:o=yr()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Zb({feedback:{name:e,email:t,message:n,url:o,source:r}},i)}var En=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Cp(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Qb(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function eT(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function kp(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function tT(e,t,n){let r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${kp(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${kp(n.dark)}
  }
}`:""}
}`,r}function nT({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{let o=bn.document,i=o.createElement("div");i.id=e;let s=i.attachShadow({mode:"open"});return s.appendChild(tT(o,t,{dark:n,light:r})),s.appendChild(eT(o)),{shadow:s,host:i}}catch{throw p.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function rT(e,t,n){if(!e)return;let r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await Dp({...t,source:Np},n)}catch(o){En&&p.error(o),r()}}function Fe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var ur=20,oT="http://www.w3.org/2000/svg";function iT(){let e=a=>bn.document.createElementNS(oT,a),t=Fe(e("svg"),{class:"feedback-icon",width:`${ur}`,height:`${ur}`,viewBox:`0 0 ${ur} ${ur}`,fill:"none"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=Fe(e("clipPath"),{id:"clip0_57_80"}),s=Fe(e("rect"),{width:`${ur}`,height:`${ur}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),{get el(){return t}}}function re(e,t,...n){let o=bn.document.createElement(e);t&&Object.entries(t).forEach(([i,s])=>{i==="className"&&typeof s=="string"?o.setAttribute("class",s):typeof s=="boolean"&&s?o.setAttribute(i,""):typeof s=="string"?o.setAttribute(i,s):i.startsWith("on")&&typeof s=="function"&&o.addEventListener(i.substring(2).toLowerCase(),s)});for(let i of n)Lp(o,i);return o}function Lp(e,t){let n=bn.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(let r of t)Lp(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function sT({buttonLabel:e,onClick:t}){function n(o){t&&t(o)}let r=re("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},iT().el,e?re("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function aT({label:e}){return{el:re("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function ou(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function cT({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:i,cancelButtonLabel:s,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:f,defaultEmail:m,onCancel:h,onSubmit:g}){let{el:y}=aT({label:a});function _(T){if(T.preventDefault(),T.target instanceof HTMLFormElement)try{if(g){let O=new FormData(T.target),Z={name:ou(O,"name"),email:ou(O,"email"),message:ou(O,"message")};g(Z)}}catch{}}let S=re("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function I(T){S.textContent=T,S.classList.remove("form__error-container--hidden"),S.setAttribute("aria-hidden","false")}function k(){S.textContent="",S.classList.add("form__error-container--hidden"),S.setAttribute("aria-hidden","true")}let B=re("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:t,value:f}),R=re("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:m}),v=re("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),H=re("button",{type:"button",className:"btn btn--default","aria-label":s,onClick:T=>{h&&h(T)}},s),V=re("form",{className:"form",onSubmit:_},[S,c&&re("label",{htmlFor:"name",className:"form__label"},[re("span",{className:"form__label__text"},e,l&&re("span",{className:"form__label__text--required"}," (required)")),B]),!c&&B,u&&re("label",{htmlFor:"email",className:"form__label"},[re("span",{className:"form__label__text"},n,d&&re("span",{className:"form__label__text--required"}," (required)")),R]),!u&&R,re("label",{htmlFor:"message",className:"form__label"},[re("span",{className:"form__label__text"},o,re("span",{className:"form__label__text--required"}," (required)")),v]),re("div",{className:"btn-group"},[y,H])]);return{get el(){return V},showError:I,hideError:k}}var uT="http://www.w3.org/2000/svg";function lT({colorScheme:e}){let t=s=>bn.document.createElementNS(uT,s),n=Fe(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Fe(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);let o=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),o.append(i),n.append(o),{get el(){return n}}}function dT({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:i,colorScheme:s,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let m=null;function h(){g(),u&&u()}function g(){m&&(m.open=!1)}function y(){m&&(m.open=!0)}function _(){return m&&m.open===!0||!1}let{el:S,showError:I,hideError:k}=cT({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return m=re("dialog",{className:"dialog",open:!0,onClick:h},re("div",{className:"dialog__content",onClick:B=>{B.stopPropagation()}},re("h2",{className:"dialog__header"},e,t&&re("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},lT({colorScheme:s}).el)),S)),{get el(){return m},showError:I,hideError:k,open:y,close:g,checkIsOpen:_}}var _s=16,Ap=17,fT="http://www.w3.org/2000/svg";function pT(){let e=c=>bn.document.createElementNS(fT,c),t=Fe(e("svg"),{class:"success-icon",width:`${_s}`,height:`${Ap}`,viewBox:`0 0 ${_s} ${Ap}`,fill:"none"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Fe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=Fe(e("clipPath"),{id:"clip0_57_156"}),a=Fe(e("rect"),{width:`${_s}`,height:`${_s}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),{get el(){return t}}}function mT({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}let r=re("div",{className:"success-message",onClick:n},pT().el,e);return{el:r,remove:n}}function Op({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,i,s=!1;function a(){if(e)try{let _=mT({message:n.successMessageText,onRemove:()=>{S&&clearTimeout(S),l()}});if(!_.el)throw new Error("Unable to show success message");e.appendChild(_.el);let S=setTimeout(()=>{_&&_.remove()},5e3)}catch(_){p.error(_)}}async function c(_){if(!i)return;let S=[];if(n.isNameRequired&&!_.name&&S.push(n.nameLabel),n.isEmailRequired&&!_.email&&S.push(n.emailLabel),_.message||S.push(n.messageLabel),S.length>0){i.showError(`Please enter in the following required fields: ${S.join(", ")}`);return}if(!await rT(i,_)){n.onSubmitError&&n.onSubmitError();return}g(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){let _=w(),S=_&&_.getIntegrationByName&&_.getIntegrationByName("Replay");S&&S.flush().catch(I=>{En&&p.error(I)})}function l(){o&&o.show()}function d(){o&&o.hide()}function f(){o&&o.el&&o.el.remove()}function m(){try{if(i){i.open(),s=!0,n.onFormOpen&&n.onFormOpen(),u();return}let _=n.useSentryUser,S=W(),I=S&&S.getUser();if(i=dT({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:_&&I&&I[_.name]||"",defaultEmail:_&&I&&I[_.email]||"",onClosed:()=>{l(),s=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(_){p.error(_)}}function h(){i&&(i.close(),s=!1,n.onFormClose&&n.onFormClose())}function g(){if(i){h();let _=i.el;_&&_.remove(),i=void 0}}function y(){s||m(),d()}return r?r.addEventListener("click",y):t&&(o=sT({buttonLabel:n.buttonLabel,onClick:y}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:m,closeDialog:h,removeDialog:g}}var ys=bn.document,hT=e=>new bo(e),bo=class e{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:o=!1,showBranding:i=!0,showEmail:s=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=Hb,cancelButtonLabel:m=$b,submitButtonLabel:h=Gb,formTitle:g=Wb,emailPlaceholder:y=jb,emailLabel:_=zb,messagePlaceholder:S=qb,messageLabel:I=Yb,namePlaceholder:k=Vb,nameLabel:B=Kb,successMessageText:R=Jb,onFormClose:v,onFormOpen:H,onSubmitError:V,onSubmitSuccess:T}={}){this.name=e.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:o,showEmail:s,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Rp.dark,...u},themeLight:{...Rp.light,...l},buttonLabel:f,cancelButtonLabel:m,submitButtonLabel:h,formTitle:g,emailLabel:_,emailPlaceholder:y,messageLabel:I,messagePlaceholder:S,nameLabel:B,namePlaceholder:k,successMessageText:R,onFormClose:v,onFormOpen:H,onSubmitError:V,onSubmitSuccess:T}}setupOnce(){if(Pn())try{this._cleanupWidgetIfExists();let{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){En&&p.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{let r=Cp(this.options,n||{});return this._ensureShadowHost(r,({shadow:o})=>{let i=typeof t=="string"?ys.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return En&&p.error("[Feedback] Unable to attach to target element"),null;let s=Op({shadow:o,options:r,attachTo:i});return this._widgets.add(s),this._widget||(this._widget=s),s})}catch(r){return En&&p.error(r),null}}createWidget(t){try{return this._createWidget(Cp(this.options,t||{}))}catch(n){return En&&p.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){En&&p.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let t=ys.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{let r=Op({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(Qb(ys)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){let{id:i,colorScheme:s,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=nT({id:i,colorScheme:s,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;let o=n({shadow:this._shadow,host:this._host});return r&&ys.body.appendChild(this._host),o}};bo.__initStatic();function To(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function gT(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=To(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Pp(e){return To(e.getAllKeys())}function _T(e,t,n){return e(r=>Pp(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),To(r.transaction)}))}function yT(e){return e(t=>Pp(t).then(n=>{if(n.length!==0)return To(t.get(n[0])).then(r=>(t.delete(n[0]),To(t.transaction).then(()=>r)))}))}function ST(e){let t;function n(){return t==null&&(t=gT(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{let o=await Mr(r,e.textEncoder);await _T(n(),o,e.maxQueueSize||30)}catch{}},pop:async()=>{try{let r=await yT(n());if(r)return ua(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function ET(e){return t=>e({...t,createStore:ST})}function bT(e){return ET(La(e))}var Fp=1e6,Ss=String(0),TT="main",Hp="",$p="",Gp="",iu=b.navigator&&b.navigator.userAgent||"",Wp="",IT=b.navigator&&b.navigator.language||b.navigator&&b.navigator.languages&&b.navigator.languages[0]||"";function vT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Bp=b.navigator&&b.navigator.userAgentData;vT(Bp)&&Bp.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Hp=e.platform||"",Gp=e.architecture||"",Wp=e.model||"",$p=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];iu=`${t.brand} ${t.version}`}}).catch(e=>{});function wT(e){return!("thread_metadata"in e)}function xT(e){return wT(e)?kT(e):e}function RT(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&N&&p.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function CT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=RT(r),i=xT(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ot,runtime:{name:"javascript",version:b.navigator.userAgent},os:{name:Hp,version:$p,build_number:iu},device:{locale:IT,model:Wp,manufacturer:iu,architecture:Gp,is_emulator:!1},debug_meta:{images:AT(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||D(),trace_id:o,active_thread_id:Ss,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Es(e){return e.op==="pageload"}function kT(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Ss]:{name:TT}}};if(!e.samples.length)return r;let o=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:ne||0,s=i-(ne||i);for(let a=0;a<e.samples.length;a++){let c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+s-o)*Fp).toFixed(0),stack_id:t,thread_id:Ss};continue}let u=e.stacks[c.stackId],l=[];for(;u;){l.push(u.frameId);let f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let d={elapsed_since_start_ns:((c.timestamp+s-o)*Fp).toFixed(0),stack_id:n,thread_id:Ss};r.stacks[n]=l,r.samples[a]=d,n++}return r}function jp(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function zp(e){let t=[];return rt(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}var Up=new WeakMap;function AT(e){let t=x._sentryDebugIds;if(!t)return[];let n=w(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i,s=Up.get(o);s?i=s:(i=new Map,Up.set(o,i));let a=Object.keys(t).reduce((u,l)=>{let d,f=i.get(l);f?d=f:(d=o(l),i.set(l,d));for(let m=d.length-1;m>=0;m--){let h=d[m],g=h&&h.filename;if(h&&g){u[g]=t[l];break}}return u},{}),c=[];for(let u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function OT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function NT(e){return e.samples.length<2?(N&&p.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(N&&p.log("[Profiling] Discarding profile because it contains no frames"),!1)}var qp=!1,su=3e4;function MT(e){return typeof e=="function"}function Yp(){let e=b.Profiler;if(!MT(e)){N&&p.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(su/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{N&&(p.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),p.log("[Profiling] Disabling profiling for current user session.")),qp=!0}}function Io(e){if(qp)return N&&p.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return N&&p.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=w(),n=t&&t.getOptions();if(!n)return N&&p.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return OT(r)?r?(r===!0?!0:Math.random()<r)?!0:(N&&p.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(N&&p.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(N&&p.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Vp(e,t,n,r){return NT(n)?CT(e,t,n,r):null}var Tn=new Map;function Kp(){return Tn.size}function Jp(e){let t=Tn.get(e);return t&&Tn.delete(e),t}function Xp(e,t){if(Tn.set(e,t),Tn.size>30){let n=Tn.keys().next().value;Tn.delete(n)}}function DT(e){return e?Io(e)?bs(e):e:(N&&p.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function bs(e){let t;Es(e)&&(t=fe()*1e3);let n=Yp();if(!n)return e;N&&p.log(`[Profiling] started profiling transaction: ${A(e).description}`);let r=D();async function o(){return!e||!n?null:n.stop().then(c=>(i&&(b.clearTimeout(i),i=void 0),N&&p.log(`[Profiling] stopped profiling of transaction: ${A(e).description}`),c?(Xp(r,c),null):(N&&p.log(`[Profiling] profiler returned null profile for: ${A(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(N&&p.log("[Profiling] error while stopping profiler:",c),null))}let i=b.setTimeout(()=>{N&&p.log("[Profiling] max profile duration elapsed, stopping profiling for:",A(e).description),o()},su),s=e.end.bind(e);function a(){return e?(o().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),s()},()=>{s()}),e):s()}return e.end=a,e}var Zp="BrowserProfiling",LT=()=>({name:Zp,setupOnce(){},setup(e){let n=W().getTransaction();if(n&&Es(n)&&Io(n)&&bs(n),typeof e.on!="function"){p.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{Io(r)&&bs(r)}),e.on("beforeEnvelope",r=>{if(!Kp())return;let o=zp(r);if(!o.length)return;let i=[];for(let s of o){let a=s&&s.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let l=Jp(c);if(!l){N&&p.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let d=Vp(c,u,l,s);d&&i.push(d)}jp(r,i)})}}),Qp=LT,PT=J(Zp,Qp);var em={};b.Sentry&&b.Sentry.Integrations&&(em=b.Sentry.Integrations);var zN={...em,...ld,...pc};function FT(e){let t={...e};Jr(t,"react"),fc(t)}var pm=Mt(vo()),Ot=Mt(Oo());var fu="ui.react.render",dm="ui.react.update",pu="ui.react.mount";var fm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",JT="unknown",wo=class extends Ot.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);let{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Ve({name:`<${n}>`,onlyIfParent:!0,op:pu,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){let r=Object.keys(t).filter(o=>t[o]!==this.props.updateProps[o]);if(r.length>0){let o=fe();this._updateSpan=Hr(this._mountSpan,()=>Ve({name:`<${this.props.name}>`,onlyIfParent:!0,op:dm,origin:"auto.ui.react.profiler",startTimestamp:o,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){let t=fe(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){let o=A(this._mountSpan).timestamp;Hr(this._mountSpan,()=>{let i=Ve({onlyIfParent:!0,name:`<${n}>`,op:fu,origin:"auto.ui.react.profiler",startTimestamp:o,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}};wo.__initStatic();function XT(e,t){let n=t&&t.name||e.displayName||e.name||JT,r=o=>Ot.createElement(wo,{...t,name:n,updateProps:o,__self:this,__source:{fileName:fm,lineNumber:159}},Ot.createElement(e,{...o,__self:this,__source:{fileName:fm,lineNumber:160}}));return r.displayName=`profiler(${n})`,(0,pm.default)(r,e),r}function ZT(e,t={disabled:!1,hasRenderSpan:!0}){let[n]=Ot.useState(()=>{if(!(t&&t.disabled))return Ve({name:`<${e}>`,onlyIfParent:!0,op:pu,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});Ot.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){let r=A(n).timestamp,o=fe(),i=Ve({name:`<${e}>`,onlyIfParent:!0,op:fu,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});i&&i.end(o)}}),[])}var gm=Mt(vo()),Nt=Mt(Oo());var xo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var mm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function QT(e){let t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}var eI="unknown",hm={componentStack:null,error:null,eventId:null};function tI(e,t){let n=new WeakMap;function r(o,i){if(!n.has(o)){if(o.cause)return n.set(o,!0),r(o.cause,i);o.cause=i}}r(e,t)}var Ns=class e extends Nt.Component{constructor(t){super(t),e.prototype.__init.call(this),this.state=hm,this._openFallbackReportDialog=!0;let n=w();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&zi({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){let{beforeCapture:r,onError:o,showDialog:i,dialogOptions:s}=this.props;je(a=>{if(QT(Nt.version)&&Zt(t)){let u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,tI(t,u)}r&&r(a,t,n);let c=xt(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!1}});o&&o(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&zi({...s,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){let{onMount:t}=this.props;t&&t()}componentWillUnmount(){let{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:o}=this.props;o&&o(t,n,r)}__init(){this.resetErrorBoundary=()=>{let{onReset:t}=this.props,{error:n,componentStack:r,eventId:o}=this.state;t&&t(n,r,o),this.setState(hm)}}render(){let{fallback:t,children:n}=this.props,r=this.state;if(r.error){let o;return typeof t=="function"?o=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):o=t,Nt.isValidElement(o)?o:(t&&xo&&p.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}};function nI(e,t){let n=e.displayName||e.name||eI,r=o=>Nt.createElement(Ns,{...t,__self:this,__source:{fileName:mm,lineNumber:238}},Nt.createElement(e,{...o,__self:this,__source:{fileName:mm,lineNumber:239}}));return r.displayName=`errorBoundary(${n})`,(0,gm.default)(r,e),r}var rI="redux.action",oI="info",iI={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function sI(e){let t={...iI,...e};return n=>(r,o)=>(t.attachReduxState&&Br().addEventProcessor((s,a)=>{try{s.type===void 0&&s.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(s.contexts.state.state.value)}])}catch{}return s}),n((s,a)=>{let c=r(s,a),u=W(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:rI,data:l,type:oI});let d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){let m=w(),h=m&&m.getOptions(),g=h&&h.normalizeDepth||3,y={state:{type:"redux",value:d}};xe(y,"__sentry_override_normalization_depth__",3+g),u.setContext("state",y)}else u.setContext("state",null);let{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},o))}function aI(e){let t=Ct({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:o,instrumentPageLoad:i=!0,instrumentNavigation:s=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);let c=d=>{St(a,d)},u=d=>{Et(a,d)},l=ym(n,r,o);l(c,i,!1),l(u,!1,s)}}}function ym(e,t,n){return(r,o=!0,i=!0)=>{let s,a;o&&b&&b.location&&_m(t,b.location,n,(c,u="url")=>{a=c,s=r({name:a,attributes:{[_e]:"pageload",[ae]:"auto.pageload.react.reactrouter_v3",[z]:u}})}),i&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(s&&s.end(),_m(t,c,n,(u,l="url")=>{a=u;let d={[_e]:"navigation",[ae]:"auto.navigation.react.reactrouter_v3",[z]:l};s=r({name:a,attributes:d})}))})}}function _m(e,t,n,r){let o=t.pathname;n({location:t,routes:e},(i,s,a)=>{if(i||!a)return r(o);let c=cI(a.routes||[]);return c.length===0||c==="/*"?r(o):(o=c,r(o,"route"))})}function cI(e){if(!Array.isArray(e)||e.length===0)return"";let t=e.filter(r=>!!r.path),n=-1;for(let r=t.length-1;r>=0;r--){let o=t[r];if(o.path&&o.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}var Sm=Mt(vo()),Em=Mt(Oo()),uI="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx",lr;function lI(e){let t=Ct({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o,instrumentPageLoad:i=!0,instrumentNavigation:s=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);let c=d=>{St(a,d)},u=d=>{Et(a,d)},l=bm(n,r,o);l(c,i,!1),l(u,!1,s)}}}function dI(e){let t=Ct({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i);let s=u=>{St(i,u)},a=u=>{Et(i,u)},c=Tm(n,r,o);c(s,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function bm(e,t,n){return Im(e,"reactrouter_v4",t,n)}function Tm(e,t,n){return Im(e,"reactrouter_v5",t,n)}function Im(e,t,n=[],r){function o(){if(e&&e.location)return e.location.pathname;if(b&&b.location)return b.location.pathname}function i(s){if(n.length===0||!r)return[s,"url"];let a=vm(n,s,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[s,"url"]}return(s,a=!0,c=!0)=>{let u=o();if(a&&u){let[l,d]=i(u);lr=s({name:l,attributes:{[_e]:"pageload",[ae]:`auto.pageload.react.${t}`,[z]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){lr&&lr.end();let[f,m]=i(l.pathname);lr=s({name:f,attributes:{[_e]:"navigation",[ae]:`auto.navigation.react.${t}`,[z]:m}})}})}}function vm(e,t,n,r=[]){return e.some(o=>{let i=o.path?n(t,o):r.length?r[r.length-1].match:fI(t);return i&&(r.push({route:o,match:i}),o.routes&&vm(o.routes,t,n,r)),!!i}),r}function fI(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function pI(e){let t=e.displayName||e.name,n=mI(),r=o=>(n&&o&&o.computedMatch&&o.computedMatch.isExact&&(n.updateName(o.computedMatch.path),n.setAttribute(z,"route")),Em.createElement(e,{...o,__self:this,__source:{fileName:uI,lineNumber:277}}));return r.displayName=`sentryRoute(${t})`,(0,Sm.default)(r,e),r}function mI(){if(lr)return lr;let e=Ke(),t=e?ze(e):void 0;if(!t)return;let n=A(t).op;return n==="navigation"||n==="pageload"?t:void 0}var wm=Mt(vo()),hu=Mt(Oo());var xm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx",dr,vn,wn,xn,Ro,Rn,fr,Ms,In=!1;function hI(e){let t=Ct({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:s,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);let d=m=>{Et(l,m)},f=b&&b.location&&b.location.pathname;c&&f&&St(l,{name:f,attributes:{[z]:"url",[_e]:"pageload",[ae]:"auto.pageload.react.reactrouter_v6"}}),vn=n,wn=r,xn=o,Rn=s,Ro=i,In=a||!1,fr=d,Ms=u}}}function gI(e,t,n,r,o,i){return(s,a=!0,c=!0)=>{let u=b&&b.location&&b.location.pathname;a&&u&&(dr=s({name:u,attributes:{[z]:"url",[_e]:"pageload",[ae]:"auto.pageload.react.reactrouter_v6"}})),vn=e,wn=t,xn=n,Rn=o,Ro=r,In=i||!1,fr=s,Ms=c}}function mu(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Rm(e,t,n,r=""){if(!e||e.length===0)return[In?mu(t.pathname,r):t.pathname,"url"];let o="";if(n)for(let i=0;i<n.length;i++){let s=n[i],a=s.route;if(a){if(a.index)return[In?mu(s.pathname,r):s.pathname,"route"];let c=a.path;if(c){let u=c[0]==="/"||o[o.length-1]==="/"?c:`/${c}`;if(o+=u,r+s.pathname===t.pathname)return Vo(o)!==Vo(s.pathname)&&o.slice(-2)!=="/*"?[(In?"":r)+u,"route"]:[(In?"":r)+o,"route"]}}}return[In?mu(t.pathname,r):t.pathname,"url"]}function gu(e,t,n,r,o){let i=Array.isArray(r)?r:Rn(n,t,o);if(e&&i){let[s,a]=Rm(n,t,i,o);e.updateName(s),e.setAttribute(z,a)}}function _u(e,t,n,r,o){let i=Array.isArray(r)?r:Rn(t,e,o);if(Ms&&(n==="PUSH"||n==="POP")&&i){dr&&dr.end();let[s,a]=Rm(t,e,i,o);dr=fr({name:s,attributes:{[z]:a,[_e]:"navigation",[ae]:"auto.navigation.react.reactrouter_v6"}})}}function _I(e){if(!vn||!wn||!xn||!Ro||!Rn||!fr)return xo&&p.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${vn}. useLocation: ${wn}. useNavigationType: ${xn}.
      createRoutesFromChildren: ${Ro}. matchRoutes: ${Rn}. customStartTransaction: ${fr}.`),e;let t=!0,n=r=>{let o=wn(),i=xn();return vn(()=>{let s=Ro(r.children);t?(gu(yu(),o,s),t=!1):_u(o,s,i)},[o,i]),hu.createElement(e,{...r,__self:this,__source:{fileName:xm,lineNumber:329}})};return(0,wm.default)(n,e),n}function yI(e){if(!vn||!wn||!xn||!Rn||!fr)return xo&&p.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0,n=r=>{let{routes:o,locationArg:i}=r,s=e(o,i),a=wn(),c=xn(),u=typeof i=="string"||i&&i.pathname?i:a;return vn(()=>{let l=typeof u=="string"?{pathname:u}:u;t?(gu(yu(),l,o),t=!1):_u(l,o,c)},[c,u]),s};return(r,o)=>hu.createElement(n,{routes:r,locationArg:o,__self:this,__source:{fileName:xm,lineNumber:386}})}function SI(e){return function(t,n){let r=e(t,n),o=n&&n.basename,i=yu();return r.state.historyAction==="POP"&&i&&gu(i,r.state.location,t,void 0,o),r.subscribe(s=>{let a=s.location;Ms&&(s.historyAction==="PUSH"||s.historyAction==="POP")&&_u(a,t,s.historyAction,void 0,o)}),r}}function yu(){if(dr)return dr;let e=Ke(),t=e?ze(e):void 0;if(!t)return;let n=A(t).op;return n==="navigation"||n==="pageload"?t:void 0}export{sc as Breadcrumbs,ro as BrowserClient,PT as BrowserProfilingIntegration,Li as BrowserTracing,ac as Dedupe,Ns as ErrorBoundary,bo as Feedback,Si as FunctionToString,cc as GlobalHandlers,uc as HttpContext,Hn as Hub,yi as InboundFilters,zN as Integrations,lc as LinkedErrors,ed as ModuleMetadata,wo as Profiler,_o as Replay,Ub as ReplayCanvas,mn as SDK_VERSION,_e as SEMANTIC_ATTRIBUTE_SENTRY_OP,ae as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,mt as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,z as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,st as Scope,dc as TryCatch,b as WINDOW,We as addBreadcrumb,gi as addEventProcessor,Zo as addGlobalEventProcessor,Nl as addIntegration,jn as addTracingExtensions,Ui as breadcrumbsIntegration,ji as browserApiErrorsIntegration,Qp as browserProfilingIntegration,Ct as browserTracingIntegration,Ur as captureEvent,xt as captureException,el as captureMessage,Gr as captureSession,my as captureUserFeedback,Hd as chromeStackLineParser,ll as close,tl as configureScope,Il as continueTrace,sI as createReduxEnhancer,qn as createTransport,nc as createUserFeedbackEnvelope,Hi as dedupeIntegration,sf as defaultIntegrations,$t as defaultRequestInstrumentationOptions,Wd as defaultStackLineParsers,ic as defaultStackParser,ri as endSession,ec as eventFromException,tc as eventFromMessage,Pi as exceptionFromError,gl as extractTraceparentData,hT as feedbackIntegration,ul as flush,ly as forceLoad,Zr as functionToStringIntegration,$d as geckoStackLineParser,Ke as getActiveSpan,be as getActiveTransaction,w as getClient,U as getCurrentHub,W as getCurrentScope,af as getDefaultIntegrations,jr as getHubFromCarrier,xb as getReplay,ii as getSpanStatusFromHttpCode,$i as globalHandlersIntegration,Gi as httpContextIntegration,Xr as inboundFiltersIntegration,FT as init,Vn as instrumentOutgoingRequests,fl as isInitialized,dl as lastEventId,Wi as linkedErrorsIntegration,bT as makeBrowserOfflineTransport,rc as makeFetchTransport,oi as makeMain,ql as makeMultiplexedTransport,oc as makeXHRTransport,ud as metrics,Ba as moduleMetadataIntegration,dy as onLoad,DT as onProfilingStartRouteTransaction,M_ as opera10StackLineParser,P_ as opera11StackLineParser,Vl as parameterize,aI as reactRouterV3BrowserTracingIntegration,ym as reactRouterV3Instrumentation,lI as reactRouterV4BrowserTracingIntegration,bm as reactRouterV4Instrumentation,dI as reactRouterV5BrowserTracingIntegration,Tm as reactRouterV5Instrumentation,hI as reactRouterV6BrowserTracingIntegration,gI as reactRouterV6Instrumentation,vp as replayCanvasIntegration,vb as replayIntegration,Dp as sendFeedback,ni as setContext,Ma as setCurrentClient,rl as setExtra,nl as setExtras,Ft as setHttpStatus,di as setMeasurement,il as setTag,ol as setTags,sl as setUser,zi as showReportDialog,Sl as spanStatusfromHttpCode,Et as startBrowserTracingNavigationSpan,St as startBrowserTracingPageLoadSpan,Ve as startInactiveSpan,$r as startSession,bl as startSpan,Tl as startSpanManual,cl as startTransaction,El as trace,ZT as useProfiler,Gd as winjsStackLineParser,Hr as withActiveSpan,nI as withErrorBoundary,al as withIsolationScope,XT as withProfiler,je as withScope,_I as withSentryReactRouterV6Routing,pI as withSentryRouting,fy as wrap,SI as wrapCreateBrowserRouter,yI as wrapUseRoutes};
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=esm-GQ5D4K7G.js.map
