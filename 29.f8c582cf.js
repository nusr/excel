/*! For license information please see 29.f8c582cf.js.LICENSE.txt */
(self.webpackChunkexcel=self.webpackChunkexcel||[]).push([["29"],{4433:function(e){var t={};!function(e){function t(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function n(e,t){for(var n="";n.length<t;)n+=e;return n}function r(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}function i(e,t){var r=""+e;return r.length>=t?r:n(" ",t-r.length)+r}function s(e,t){var r=""+e;return r.length>=t?r:r+n(" ",t-r.length)}e.version="0.11.3";function a(e,t){var r,i,s,a,o,c;if(e>0x100000000||e<-0x100000000){;return r=e,i=t,(s=""+Math.round(r)).length>=i?s:n("0",i-s.length)+s}return a=Math.round(e),o=t,(c=""+a).length>=o?c:n("0",o-c.length)+c}function o(e,t){return t=t||0,e.length>=7+t&&(32|e.charCodeAt(t))==103&&(32|e.charCodeAt(t+1))==101&&(32|e.charCodeAt(t+2))==110&&(32|e.charCodeAt(t+3))==101&&(32|e.charCodeAt(t+4))==114&&(32|e.charCodeAt(t+5))==97&&(32|e.charCodeAt(t+6))==108}var c=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],l=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function u(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "'}var d={};u(d);var h=[],f=0;for(f=5;f<=8;++f)h[f]=32+f;for(f=23;f<=26;++f)h[f]=0;for(f=27;f<=31;++f)h[f]=14;for(f=50;f<=58;++f)h[f]=14;for(f=59;f<=62;++f)h[f]=f-58;for(f=67;f<=68;++f)h[f]=f-58;for(f=72;f<=75;++f)h[f]=f-58;for(f=67;f<=68;++f)h[f]=f-57;for(f=76;f<=78;++f)h[f]=f-56;for(f=79;f<=81;++f)h[f]=f-34;var p={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function m(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,a=1,o=0,c=1,l=0,u=0,d=Math.floor(i);l<t&&(o=(d=Math.floor(i))*a+s,u=d*l+c,!(i-d<5e-8));){;i=1/(i-d),s=a,a=o,c=l,l=u}if(u>t&&(l>t?(u=c,o=s):(u=l,o=a)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function g(e,t,r){if(e>2958465||e<0)return null;var i=0|(e=function(e){var t=e.toPrecision(16);if(t.indexOf("e")>-1){var r=t.slice(0,t.indexOf("e"));return(r=r.indexOf(".")>-1?r.slice(0,"0."==r.slice(0,2)?17:16):r.slice(0,15)+n("0",r.length-15))+t.slice(t.indexOf("e"))}return Number(t.indexOf(".")>-1?t.slice(0,"0."==t.slice(0,2)?17:16):t.slice(0,15)+n("0",t.length-15))}(e)),s=Math.floor(86400*(e-i)),a=0,o=[],c={D:i,T:s,u:86400*(e-i)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(1e-6>Math.abs(c.u)&&(c.u=0),t&&t.date1904&&(i+=1462),c.u>.9999&&(c.u=0,86400==++s&&(c.T=s=0,++i,++c.D)),60===i)o=r?[1317,10,29]:[1900,2,29],a=3;else if(0===i)o=r?[1317,8,29]:[1900,1,0],a=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),i<60&&(a=(a+6)%7),r&&(a=function(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}(l,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=a,c}e.parse_date_code=g;var y=new Date(1899,11,31,0,0,0),v=y.getTime(),_=new Date(1900,2,1,0,0,0);function b(e,t){var n=e.getTime();return t?n-=1262304e5:e>=_&&(n+=864e5),(n-(v+(e.getTimezoneOffset()-y.getTimezoneOffset())*6e4))/864e5}var S=function(){var e=/(?:\.0*|(\.\d*[1-9])0+)$/;function t(t){return -1==t.indexOf(".")?t:t.replace(e,"$1")}var n=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,r=/(E[+-])(\d)$/;return function(e){var i,s,a,o,c,l,u,d=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);if(d>=-4&&d<=-1)u=e.toPrecision(10+d);else if(9>=Math.abs(d)){;s=(i=e)<0?12:11,u=(a=t(i.toFixed(12))).length<=s||(a=i.toPrecision(10)).length<=s?a:i.toExponential(5)}else if(10===d)u=e.toFixed(10).substr(0,12);else{;u=(c=t((o=e).toFixed(11))).length>(o<0?12:11)||"0"===c||"-0"===c?o.toPrecision(6):c}return t(-1==(l=u.toUpperCase()).indexOf("E")?l:l.replace(n,"$1E").replace(r,"$10$2"))}}();function E(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):S(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return O(14,b(e,t&&t.date1904),t)}throw Error("unsupported value in General format: "+e)}e._general_num=S,e._general=E;function w(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var k=function(){var e=/%/g,o=/# (\?+)( ?)\/( ?)(\d+)/,c=/^#*0*\.([0#]+)/,l=/\).*[0#]/,u=/\(###\) ###\\?-####/;function d(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function h(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function f(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}return function(p,g,y){return(0|y)===y?function a(h,f,p){if(40===h.charCodeAt(0)&&!f.match(l)){var g,y,v=f.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return p>=0?a("n",v,p):"("+a("n",v,-p)+")"}if(44===f.charCodeAt(f.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return k(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(h,f,p);if(-1!==f.indexOf("%")){;return _=h,b=f,S=p,E=b.replace(e,""),x=b.length-E.length,k(_,E,S*Math.pow(10,2*x))+n("%",x)}if(-1!==f.indexOf("E"))return function e(t,n){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%s;if(a<0&&(a+=s),!(r=(n/Math.pow(10,a)).toPrecision(i+1+(s+a)%s)).match(/[Ee]/)){var o=Math.floor(Math.log(n)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(s+a)%s)+"."+r.substr(a)+"E"})}else r=n.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(f,p);if(36===f.charCodeAt(0))return"$"+a(h,f.substr(" "==f.charAt(1)?2:1),p);var _,b,S,E,x,M,T,C,I,A=Math.abs(p),R=p<0?"-":"";if(f.match(/^00+$/))return R+r(A,f.length);if(f.match(/^[#?]+$/))return M=""+p,0===p&&(M=""),M.length>f.length?M:d(f.substr(0,f.length-M.length))+M;if(T=f.match(o)){;return g=T,R+(0===(y=A)?"":""+y)+n(" ",g[1].length+2+g[4].length)}if(f.match(/^#+0+$/))return R+r(A,f.length-f.indexOf("0"));if(T=f.match(c))return M=(M=(""+p).replace(/^([^\.]+)$/,"$1."+d(T[1])).replace(/\.$/,"."+d(T[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+n("0",d(T[1]).length-t.length)}),-1!==f.indexOf("0.")?M:M.replace(/^0\./,".");if(T=(f=f.replace(/^#+([0.])/,"$1")).match(/^(0*)\.(#*)$/))return R+(""+A).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,T[1].length?"0.":".");if(T=f.match(/^#{1,3},##0(\.?)$/))return R+w(""+A);if(T=f.match(/^#,##0\.([#0]*0)$/))return p<0?"-"+a(h,f,-p):w(""+p)+"."+n("0",T[1].length);if(T=f.match(/^#,#*,#0/))return a(h,f.replace(/^#,#*,/,""),p);if(T=f.match(/^([0#]+)(\\?-([0#]+))+$/))return M=t(a(h,f.replace(/[\\-]/g,""),p)),C=0,t(t(f.replace(/\\/g,"")).replace(/[0#]/g,function(e){return C<M.length?M.charAt(C++):"0"===e?"0":""}));if(f.match(u))return"("+(M=a(h,"##########",p)).substr(0,3)+") "+M.substr(3,3)+"-"+M.substr(6);var D="";if(T=f.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return I=m(A,Math.pow(10,C=Math.min(T[4].length,7))-1,!1),M=""+R," "==(D=k("n",T[1],I[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),M+=D+T[2]+"/"+T[3],(D=s(I[2],C)).length<T[4].length&&(D=d(T[4].substr(T[4].length-D.length))+D),M+=D;if(T=f.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return R+((I=m(A,Math.pow(10,C=Math.min(Math.max(T[1].length,T[4].length),7))-1,!0))[0]||(I[1]?"":"0"))+" "+(I[1]?i(I[1],C)+T[2]+"/"+T[3]+s(I[2],C):n(" ",2*C+1+T[2].length+T[3].length));if(T=f.match(/^[#0?]+$/))return(M=""+p,f.length<=M.length)?M:d(f.substr(0,f.length-M.length))+M;if(T=f.match(/^([#0]+)\.([#0]+)$/)){C=(M=""+p.toFixed(Math.min(T[2].length,10)).replace(/([^0])0+$/,"$1")).indexOf(".");var O=f.indexOf(".")-C,N=f.length-M.length-O;return d(f.substr(0,O)+M+f.substr(f.length-N))}if(T=f.match(/^00,000\.([#0]*0)$/))return p<0?"-"+a(h,f,-p):w(""+p).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e})+"."+r(0,T[1].length);switch(f){case"###,###":case"##,###":case"#,###":var $=w(""+A);return"0"!==$?R+$:"";default:if(f.match(/\.[0#?]*$/))return a(h,f.slice(0,f.lastIndexOf(".")),p)+d(f.slice(f.lastIndexOf(".")))}throw Error("unsupported format |"+f+"|")}(p,g,y):function p(g,y,v){if(40===g.charCodeAt(0)&&!y.match(l)){var _,b,S,E,x,M,T,C,I,A,R=y.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return v>=0?p("n",R,v):"("+p("n",R,-v)+")"}if(44===y.charCodeAt(y.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return k(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(g,y,v);if(-1!==y.indexOf("%")){;return D=g,O=y,N=v,$=O.replace(e,""),P=O.length-$.length,k(D,$,N*Math.pow(10,2*P))+n("%",P)}if(-1!==y.indexOf("E"))return function e(t,n){var r,i=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+e(t,-n);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%s;if(a<0&&(a+=s),-1===(r=(n/Math.pow(10,a)).toPrecision(i+1+(s+a)%s)).indexOf("e")){var o=Math.floor(Math.log(n)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(s+a)%s)+"."+r.substr(a)+"E"})}else r=n.toExponential(i);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}(y,v);if(36===y.charCodeAt(0))return"$"+p(g,y.substr(" "==y.charAt(1)?2:1),v);var D,O,N,$,P,L,j,U,F,H=Math.abs(v),W=v<0?"-":"";if(y.match(/^00+$/))return W+a(H,y.length);if(y.match(/^[#?]+$/))return"0"===(L=a(v,0))&&(L=""),L.length>y.length?L:d(y.substr(0,y.length-L.length))+L;if(j=y.match(o)){;return _=j,b=H,S=W,M=Math.floor((x=Math.round(b*(E=parseInt(_[4],10))))/E),T=x-M*E,S+(0===M?"":""+M)+" "+(0===T?n(" ",_[1].length+1+_[4].length):i(T,_[1].length)+_[2]+"/"+_[3]+r(E,_[4].length))}if(y.match(/^#+0+$/))return W+a(H,y.length-y.indexOf("0"));if(j=y.match(c))return L=h(v,j[1].length).replace(/^([^\.]+)$/,"$1."+d(j[1])).replace(/\.$/,"."+d(j[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+n("0",d(j[1]).length-t.length)}),-1!==y.indexOf("0.")?L:L.replace(/^0\./,".");if(j=(y=y.replace(/^#+([0.])/,"$1")).match(/^(0*)\.(#*)$/))return W+h(H,j[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,j[1].length?"0.":".");if(j=y.match(/^#{1,3},##0(\.?)$/))return W+w(a(H,0));if(j=y.match(/^#,##0\.([#0]*0)$/)){;return v<0?"-"+p(g,y,-v):w(""+(Math.floor(v)+(C=v,(I=j[1].length)<(""+Math.round((C-Math.floor(C))*Math.pow(10,I))).length?1:0)))+"."+r(f(v,j[1].length),j[1].length)}if(j=y.match(/^#,#*,#0/))return p(g,y.replace(/^#,#*,/,""),v);if(j=y.match(/^([0#]+)(\\?-([0#]+))+$/))return L=t(p(g,y.replace(/[\\-]/g,""),v)),U=0,t(t(y.replace(/\\/g,"")).replace(/[0#]/g,function(e){return U<L.length?L.charAt(U++):"0"===e?"0":""}));if(y.match(u))return"("+(L=p(g,"##########",v)).substr(0,3)+") "+L.substr(3,3)+"-"+L.substr(6);var z="";if(j=y.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return F=m(H,Math.pow(10,U=Math.min(j[4].length,7))-1,!1),L=""+W," "==(z=k("n",j[1],F[1])).charAt(z.length-1)&&(z=z.substr(0,z.length-1)+"0"),L+=z+j[2]+"/"+j[3],(z=s(F[2],U)).length<j[4].length&&(z=d(j[4].substr(j[4].length-z.length))+z),L+=z;if(j=y.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return W+((F=m(H,Math.pow(10,U=Math.min(Math.max(j[1].length,j[4].length),7))-1,!0))[0]||(F[1]?"":"0"))+" "+(F[1]?i(F[1],U)+j[2]+"/"+j[3]+s(F[2],U):n(" ",2*U+1+j[2].length+j[3].length));if(j=y.match(/^[#0?]+$/))return(L=a(v,0),y.length<=L.length)?L:d(y.substr(0,y.length-L.length))+L;if(j=y.match(/^([#0?]+)\.([#0]+)$/)){U=(L=""+v.toFixed(Math.min(j[2].length,10)).replace(/([^0])0+$/,"$1")).indexOf(".");var B=y.indexOf(".")-U,X=y.length-L.length-B;return d(y.substr(0,B)+L+y.substr(y.length-X))}if(j=y.match(/^00,000\.([#0]*0)$/)){;return U=f(v,j[1].length),v<0?"-"+p(g,y,-v):w((A=v)<0x7fffffff&&A>-0x80000000?""+(A>=0?0|A:A-1|0):""+Math.floor(A)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e})+"."+r(U,j[1].length)}switch(y){case"###,##0.00":return p(g,"#,##0.00",v);case"###,###":case"##,###":case"#,###":var q=w(a(H,0));return"0"!==q?W+q:"";case"###,###.00":return p(g,"###,##0.00",v).replace(/^0\./,".");case"#,###.00":return p(g,"#,##0.00",v).replace(/^0\./,".")}throw Error("unsupported format |"+y+"|")}(p,g,y)}}();function x(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw Error("Format |"+e+"| unterminated string ");return t}e._split=x;var M=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function T(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":o(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase()||"AM/PM"===e.substr(t,5).toUpperCase()||"上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(M))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(" "==e.charAt(t)||"*"==e.charAt(t))&&++t;break;case"(":case")":case" ":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}function C(e,t,n,i){for(var s,a,u,d=[],h="",f=0,p="",m="t",y="H";f<e.length;)switch(p=e.charAt(f)){case"G":if(!o(e,f))throw Error("unrecognized character "+p+" in "+e);d[d.length]={t:"G",v:"General"},f+=7;break;case'"':for(h="";34!==(u=e.charCodeAt(++f))&&f<e.length;)h+=String.fromCharCode(u);d[d.length]={t:"t",v:h},++f;break;case"\\":var v=e.charAt(++f),_="("===v||")"===v?v:"t";d[d.length]={t:_,v:v},++f;break;case"_":d[d.length]={t:"t",v:" "},f+=2;break;case"@":d[d.length]={t:"T",v:t},++f;break;case"B":case"b":if("1"===e.charAt(f+1)||"2"===e.charAt(f+1)){if(null==s&&null==(s=g(t,n,"2"===e.charAt(f+1))))return"";d[d.length]={t:"X",v:e.substr(f,2)},m=p,f+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":p=p.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==s&&null==(s=g(t,n)))return"";for(h=p;++f<e.length&&e.charAt(f).toLowerCase()===p;)h+=p;"m"===p&&"h"===m.toLowerCase()&&(p="M"),"h"===p&&(p=y),d[d.length]={t:p,v:h},m=p;break;case"A":case"a":case"上":var b={t:p,v:p};if(null==s&&(s=g(t,n)),"A/P"===e.substr(f,3).toUpperCase()?(null!=s&&(b.v=s.H>=12?e.charAt(f+2):p),b.t="T",y="h",f+=3):"AM/PM"===e.substr(f,5).toUpperCase()?(null!=s&&(b.v=s.H>=12?"PM":"AM"),b.t="T",f+=5,y="h"):"上午/下午"===e.substr(f,5).toUpperCase()?(null!=s&&(b.v=s.H>=12?"下午":"上午"),b.t="T",f+=5,y="h"):(b.t="t",++f),null==s&&"T"===b.t)return"";d[d.length]=b,m=p;break;case"[":for(h=p;"]"!==e.charAt(f++)&&f<e.length;)h+=e.charAt(f);if("]"!==h.slice(-1))throw'unterminated "[" block: |'+h+"|";if(h.match(M)){if(null==s&&null==(s=g(t,n)))return"";d[d.length]={t:"Z",v:h.toLowerCase()},m=h.charAt(1)}else h.indexOf("$")>-1&&(h=(h.match(/\$([^-\[\]]*)/)||[])[1]||"$",!T(e)&&(d[d.length]={t:"t",v:h}));break;case".":if(null!=s){for(h=p;++f<e.length&&"0"===(p=e.charAt(f));)h+=p;d[d.length]={t:"s",v:h};break}case"0":case"#":for(h=p;++f<e.length&&"0#?.,E+-%".indexOf(p=e.charAt(f))>-1;)h+=p;d[d.length]={t:"n",v:h};break;case"?":for(h=p;e.charAt(++f)===p;)h+=p;d[d.length]={t:p,v:h},m=p;break;case"*":++f,(" "==e.charAt(f)||"*"==e.charAt(f))&&++f;break;case"(":case")":d[d.length]={t:1===i?"t":p,v:p},++f;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(h=p;f<e.length&&"0123456789".indexOf(e.charAt(++f))>-1;)h+=e.charAt(f);d[d.length]={t:"D",v:h};break;case" ":d[d.length]={t:p,v:p},++f;break;case"$":d[d.length]={t:"t",v:"$"},++f;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(p))throw Error("unrecognized character "+p+" in "+e);d[d.length]={t:"t",v:p},++f}var S,w=0,x=0;for(f=d.length-1,m="t";f>=0;--f)switch(d[f].t){case"h":case"H":d[f].t=y,m="h",w<1&&(w=1);break;case"s":(S=d[f].v.match(/\.0+$/))&&(x=Math.max(x,S[0].length-1),w=4),w<3&&(w=3);case"d":case"y":case"e":m=d[f].t;break;case"M":m=d[f].t,w<2&&(w=2);break;case"m":"s"===m&&(d[f].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&d[f].v.match(/[Hh]/)&&(w=1),w<2&&d[f].v.match(/[Mm]/)&&(w=2),w<3&&d[f].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:case 2:case 3:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M),s.M>=60&&(s.M=0,++s.H),s.H>=24&&(s.H=0,++s.D,(C=g(s.D)).u=s.u,C.S=s.S,C.M=s.M,C.H=s.H,s=C);break;case 4:switch(x){case 1:s.u=Math.round(10*s.u)/10;break;case 2:s.u=Math.round(100*s.u)/100;break;case 3:s.u=Math.round(1e3*s.u)/1e3}s.u>=1&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M),s.M>=60&&(s.M=0,++s.H),s.H>=24&&(s.H=0,++s.D,(C=g(s.D)).u=s.u,C.S=s.S,C.M=s.M,C.H=s.H,s=C)}var C,I,A="";for(f=0;f<d.length;++f)switch(d[f].t){case"t":case"T":case" ":case"D":break;case"X":d[f].v="",d[f].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":d[f].v=function(e,t,n,i){var s,a="",o=0,u=0,d=n.y,h=0;switch(e){case 98:d=n.y+543;case 121:switch(t.length){case 1:case 2:s=d%100,h=2;break;default:s=d%1e4,h=4}break;case 109:switch(t.length){case 1:case 2:s=n.m,h=t.length;break;case 3:return l[n.m-1][1];case 5:return l[n.m-1][0];default:return l[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=n.d,h=t.length;break;case 3:return c[n.q][0];default:return c[n.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(n.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=n.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=n.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;if(0===n.u&&("s"==t||"ss"==t))return r(n.S,t.length);if((o=Math.round((u=i>=2?3===i?1e3:100:1===i?10:1)*(n.S+n.u)))>=60*u&&(o=0),"s"===t)return 0===o?"0":""+o/u;if(a=r(o,2+i),"ss"===t)return a.substr(0,2);return"."+a.substr(2,t.length-1);case 90:switch(t){case"[h]":case"[hh]":s=24*n.D+n.H;break;case"[m]":case"[mm]":s=(24*n.D+n.H)*60+n.M;break;case"[s]":case"[ss]":s=((24*n.D+n.H)*60+n.M)*60+(0==i?Math.round(n.S+n.u):n.S);break;default:throw"bad abstime format: "+t}h=3===t.length?1:2;break;case 101:s=d,h=1}return h>0?r(s,h):""}(d[f].t.charCodeAt(0),d[f].v,s,x),d[f].t="t";break;case"n":case"?":for(I=f+1;null!=d[I]&&("?"===(p=d[I].t)||"D"===p||(" "===p||"t"===p)&&null!=d[I+1]&&("?"===d[I+1].t||"t"===d[I+1].t&&"/"===d[I+1].v)||"("===d[f].t&&(" "===p||"n"===p||")"===p)||"t"===p&&("/"===d[I].v||" "===d[I].v&&null!=d[I+1]&&"?"==d[I+1].t));)d[f].v+=d[I].v,d[I]={v:"",t:";"},++I;A+=d[f].v,f=I-1;break;case"G":d[f].t="t",d[f].v=E(t,n)}var R,D,O="";if(A.length>0){40==A.charCodeAt(0)?(R=t<0&&45===A.charCodeAt(0)?-t:t,D=k("n",A,R)):(D=k("n",A,R=t<0&&i>1?-t:t),R<0&&d[0]&&"t"==d[0].t&&(D=D.substr(1),d[0].v="-"+d[0].v)),I=D.length-1;var N=d.length;for(f=0;f<d.length;++f)if(null!=d[f]&&"t"!=d[f].t&&d[f].v.indexOf(".")>-1){N=f;break}var $=d.length;if(N===d.length&&-1===D.indexOf("E")){for(f=d.length-1;f>=0;--f)null!=d[f]&&-1!=="n?".indexOf(d[f].t)&&(I>=d[f].v.length-1?(I-=d[f].v.length,d[f].v=D.substr(I+1,d[f].v.length)):I<0?d[f].v="":(d[f].v=D.substr(0,I+1),I=-1),d[f].t="t",$=f);I>=0&&$<d.length&&(d[$].v=D.substr(0,I+1)+d[$].v)}else if(N!==d.length&&-1===D.indexOf("E")){for(I=D.indexOf(".")-1,f=N;f>=0;--f)if(null!=d[f]&&-1!=="n?".indexOf(d[f].t)){for(a=d[f].v.indexOf(".")>-1&&f===N?d[f].v.indexOf(".")-1:d[f].v.length-1,O=d[f].v.substr(a+1);a>=0;--a)I>=0&&("0"===d[f].v.charAt(a)||"#"===d[f].v.charAt(a))&&(O=D.charAt(I--)+O);d[f].v=O,d[f].t="t",$=f}for(I>=0&&$<d.length&&(d[$].v=D.substr(0,I+1)+d[$].v),I=D.indexOf(".")+1,f=N;f<d.length;++f)if(null!=d[f]&&(-1!=="n?(".indexOf(d[f].t)||f===N)){for(a=d[f].v.indexOf(".")>-1&&f===N?d[f].v.indexOf(".")+1:0,O=d[f].v.substr(0,a);a<d[f].v.length;++a)I<D.length&&(O+=D.charAt(I++));d[f].v=O,d[f].t="t",$=f}}}for(f=0;f<d.length;++f)null!=d[f]&&"n?".indexOf(d[f].t)>-1&&(R=i>1&&t<0&&f>0&&"-"===d[f-1].v?-t:t,d[f].v=k(d[f].t,d[f].v,R),d[f].t="t");var P="";for(f=0;f!==d.length;++f)null!=d[f]&&(P+=d[f].v);return P}e.is_date=T,e._eval=C;var I=/\[[=<>]/,A=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function R(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function D(e,t){var n=x(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(I)||null!=n[1].match(I)){var a=n[0].match(A),o=n[1].match(A);return R(t,a)?[r,n[0]]:R(t,o)?[r,n[1]]:[r,n[null!=a&&null!=o?2:1]]}return[r,s]}function O(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:d)[e])&&(r=n.table&&n.table[h[e]]||d[h[e]]),null==r&&(r=p[e]||"General")}if(o(r,0))return E(t,n);t instanceof Date&&(t=b(t,n.date1904));var i=D(r,t);if(o(i[1]))return E(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return C(i[1],t,n,i[0])}function N(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n){if(void 0==d[n]){t<0&&(t=n);continue}if(d[n]==e){t=n;break}}t<0&&(t=391)}return d[t]=e,t}e.load=N,e._table=d,e.get_table=function(){return d},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&N(e[t],t)},e.init_table=u,e.format=O,e.choose_format=D}(t),"undefined"==typeof DO_NOT_EXPORT_SSF&&(e.exports=t)},5924:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},6074:function(e,t,n){"use strict";n.d(t,{Wz:function(){return u},m9:function(){return c},re:function(){return function e(t,n={},s){if("function"!=typeof t)return t;try{let e=t.__sentry_wrapped__;if(e){if("function"==typeof e)return e;return t}if((0,a.HK)(t))return t}catch(e){return t}let c=function(){let a=Array.prototype.slice.call(arguments);try{s;let r=a.map(t=>e(t,n));return t.apply(this,r)}catch(e){throw l++,setTimeout(()=>{l--}),(0,r.$e)(t=>{t.addEventProcessor(e=>(n.mechanism&&((0,o.Db)(e,void 0,void 0),(0,o.EG)(e,n.mechanism)),e.extra={...e.extra,arguments:a},e)),(0,i.Tb)(e)}),e}};try{for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(c[e]=t[e])}catch(e){}(0,a.$Q)(c,t),(0,a.xp)(t,"__sentry_wrapped__",c);try{Object.getOwnPropertyDescriptor(c,"name").configurable&&Object.defineProperty(c,"name",{get:()=>t.name})}catch(e){}return c}}});var r=n(7346),i=n(2382),s=n(8158),a=n(1815),o=n(8910);let c=s.n,l=0;function u(){return l>0}},7041:function(e,t,n){"use strict";let r,i;n.d(t,{E8:()=>eC});var s=n("3110"),a=n("8573"),o=n("6746"),c=n("7346"),l=n("8659"),u=n("3970"),d=n("2569"),h=n("6036"),f=n("8679"),p=n("9539"),m=n("6333"),g=n("8910");class y{constructor(e={}){this._traceId=e.traceId||(0,g.DM)(),this._spanId=e.spanId||(0,g.DM)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:s.ve}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}var v=n("8933"),_=n("1815"),b=n("6059"),S=n("6405");function E(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let n=e.attributes||{},r=n[a.E1],i=n[a.Wb];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r})}),t}let w="_sentryScope",k="_sentryIsolationScope";function x(e){return{scope:e[w],isolationScope:e[k]}}class M{constructor(e={}){this._traceId=e.traceId||(0,g.DM)(),this._spanId=e.spanId||(0,g.DM)().substring(16),this._startTime=e.startTimestamp||(0,v.ph)(),this._attributes={},this.setAttributes({[a.S3]:"manual",[a.$J]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?s.i0:s.ve}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=(0,s.$k)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this}end(e){if(!this._endTime)this._endTime=(0,s.$k)(e),!function(e){if(!p.X)return;let{description:t="< unknown name >",op:n="< unknown op >"}=(0,s.XU)(e),{spanId:r}=e.spanContext(),i=(0,s.Gx)(e)===e,a=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;f.kg.log(a)}(this),this._onSpanEnded()}getSpanJSON(){return(0,_.Jr)({data:this._attributes,description:this._name,op:this._attributes[a.$J],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,s._4)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[a.S3],_metrics_summary:(0,S.y)(this),profile_id:this._attributes[a.p6],exclusive_time:this._attributes[a.JQ],measurements:E(this._events),is_segment:this._isStandaloneSpan&&(0,s.Gx)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,s.Gx)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){p.X&&f.kg.log("[Tracing] Adding an event to span:",e);let r=T(t)?t:n||(0,v.ph)(),i=T(t)?{}:t||{},a={name:e,time:(0,s.$k)(r),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=(0,c.s3)();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,s.Gx)(this)))return;if(this._isStandaloneSpan){this._sampled?function(e){let t=(0,c.s3)();if(!t)return;let n=e[1];if(!n||0===n.length){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}((0,b.uE)([this],e)):(p.X&&f.kg.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&(x(this).scope||(0,c.nZ)()).captureEvent(t)}_convertSpanToTransaction(){if(!C((0,s.XU)(this)))return;!this._name&&(p.X&&f.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=x(this),n=(e||(0,c.nZ)()).getClient()||(0,c.s3)();if(!0!==this._sampled){p.X&&f.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=(0,s.Dp)(this).filter(e=>e!==this&&!function(e){return e instanceof M&&e.isStandaloneSpan()}(e)).map(e=>(0,s.XU)(e)).filter(C),i=this._attributes[a.Zj],o={contexts:{trace:(0,s.HR)(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...(0,_.Jr)({dynamicSamplingContext:(0,h.jC)(this)})},_metrics_summary:(0,S.y)(this),...i&&{transaction_info:{source:i}}},l=E(this._events);return l&&Object.keys(l).length&&(p.X&&f.kg.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),o.measurements=l),o}}function T(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function C(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}let I="__SENTRY_SUPPRESS_TRACING__";function A(e){let t=D();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=function(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=(0,s.$k)(e.startTime),delete n.startTime,n}return t}(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>(0,c.$e)(e.scope,t):void 0!==i?e=>R(i,e):e=>e())(()=>{let t=(0,c.nZ)(),i=function(e){let t=(0,d.Y)(e);if(!t)return;let n=(0,c.s3)();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,s.Gx)(t):t}(t);return e.onlyIfParent&&!i?new y:function({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){var i,a,o;let l;if(!(0,u.z)())return new y;let d=(0,c.aF)();if(e&&!n)l=function(e,t,n){let{spanId:r,traceId:i}=e.spanContext(),a=!t.getScopeData().sdkProcessingMetadata[I]&&(0,s.Tt)(e),o=a?new M({...n,parentSpanId:r,traceId:i,sampled:a}):new y({traceId:i});(0,s.j5)(e,o);let l=(0,c.s3)();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}(e,r,t),(0,s.j5)(e,l);else if(e){let n=(0,h.jC)(e),{traceId:i,spanId:a}=e.spanContext(),o=(0,s.Tt)(e);l=O({traceId:i,parentSpanId:a,...t},r,o),(0,h.Lh)(l,n)}else{let{traceId:e,dsc:n,parentSpanId:i,sampled:s}={...d.getPropagationContext(),...r.getPropagationContext()};l=O({traceId:e,parentSpanId:i,...t},r,s),n&&(0,h.Lh)(l,n)}return!function(e){if(!p.X)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=(0,s.XU)(e),{spanId:i}=e.spanContext(),a=(0,s.Tt)(e),o=(0,s.Gx)(e),c=o===e,l=`[Tracing] Starting ${a?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!c){let{op:e,description:t}=(0,s.XU)(o);u.push(`root ID: ${o.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}f.kg.log(`${l}
  ${u.join("\n  ")}`)}(l),i=l,a=r,o=d,i&&((0,_.xp)(i,k,o),(0,_.xp)(i,w,a)),l}({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t})})}function R(e,t){let n=D();return n.withActiveSpan?n.withActiveSpan(e,t):(0,c.$e)(n=>((0,d.D)(n,e||void 0),t(n)))}function D(){let e=(0,o.c)();return(0,l.G)(e)}function O(e,t,n){let r=(0,c.s3)(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=e,[l,d]=t.getScopeData().sdkProcessingMetadata[I]?[!1]:function(e,t){let n;if(!(0,u.z)(e))return[!1];n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;let r=(0,m.o)(n);return void 0===r?(p.X&&f.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(p.X&&f.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(p.X&&f.kg.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),h=new M({...e,attributes:{[a.Zj]:"custom",...e.attributes},sampled:l});return void 0!==d&&h.setAttribute(a.TE,d),r&&r.emit("spanStart",h),h}var N=n("3140"),$=n("4351"),P=n("2623"),L=n("9086"),j=n("2191"),U=n("9849");function F(e){return"number"==typeof e&&isFinite(e)}function H(e,t,n,{...r}){let i=(0,s.XU)(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),R(e,()=>{let e=A({startTime:t,...r});return e&&e.end(n),e})}function W(e){let t;let n=(0,c.s3)();if(!n)return;let{name:r,transaction:i,attributes:s,startTime:a}=e,{release:o,environment:l}=n.getOptions(),u=n.getIntegrationByName("Replay"),d=u&&u.getReplayId(),h=(0,c.nZ)(),f=h.getUser(),p=void 0!==f?f.email||f.id||f.ip_address:void 0;try{t=h.getScopeData().contexts.profile.profile_id}catch(e){}return A({name:r,attributes:{release:o,environment:l,user:p||void 0,profile_id:t||void 0,replay_id:d||void 0,transaction:i,"user_agent.original":L.m.navigator&&L.m.navigator.userAgent,...s},startTime:a,experimental:{standalone:!0}})}function z(){return L.m&&L.m.addEventListener&&L.m.performance}function B(e){return e/1e3}var X=n("721"),q=n("1974"),J=n("7343"),G=n("2413");let Y=0,K={};function V(e,t,n,r,i,s){let o=s?t[s]:t[`${n}End`],c=t[`${n}Start`];if(!!c&&!!o)H(e,r+B(c),r+B(o),{op:`browser.${i||n}`,name:t.name,attributes:{[a.S3]:"auto.ui.browser.metrics"}})}function Z(e,t,n,r){let i=t[n];null!=i&&i<0x7fffffff&&(e[r]=i)}let Q=[],ee=new Map,et={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var en=n("6199"),er=n("3089");let ei={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function es(e,t={}){let n;let r=new Map,i=!1,o="externalFinish",l=!t.disableAutoFinish,h=[],{idleTimeout:m=ei.idleTimeout,finalTimeout:g=ei.finalTimeout,childSpanTimeout:_=ei.childSpanTimeout,beforeSpanEnd:b}=t,S=(0,c.s3)();if(!S||!(0,u.z)())return new y;let E=(0,c.nZ)(),w=(0,s.HN)(),k=function(e){let t=A(e);return(0,d.D)((0,c.nZ)(),t),p.X&&f.kg.log("[Tracing] Started span is an idle span"),t}(e);function x(){n&&(clearTimeout(n),n=void 0)}function M(e){x(),n=setTimeout(()=>{!i&&0===r.size&&l&&(o="idleTimeout",k.end(e))},m)}function T(e){n=setTimeout(()=>{!i&&l&&(o="heartbeatFailed",k.end(e))},_)}k.end=new Proxy(k.end,{apply(e,t,n){b&&b(k);let[r,...i]=n,a=r||(0,v.ph)(),o=(0,s.$k)(a),c=(0,s.Dp)(k).filter(e=>e!==k);if(!c.length)return C(o),Reflect.apply(e,t,[o,...i]);let l=c.map(e=>(0,s.XU)(e).timestamp).filter(e=>!!e),u=l.length?Math.max(...l):void 0,d=(0,s.XU)(k).start_timestamp,h=Math.min(d?d+g/1e3:1/0,Math.max(d||-1/0,Math.min(o,u||1/0)));return C(h),Reflect.apply(e,t,[h,...i])}});function C(e){i=!0,r.clear(),h.forEach(e=>e()),(0,d.D)(E,w);let t=(0,s.XU)(k),{start_timestamp:n}=t;if(!n)return;!(t.data||{})[a.ju]&&k.setAttribute(a.ju,o),f.kg.log(`[Tracing] Idle span "${t.op}" finished`);let c=(0,s.Dp)(k).filter(e=>e!==k),l=0;c.forEach(t=>{t.isRecording()&&(t.setStatus({code:er.jt,message:"cancelled"}),t.end(e),p.X&&f.kg.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));let{timestamp:n=0,start_timestamp:r=0}=(0,s.XU)(t),i=r<=e,a=n-r<=(g+m)/1e3;if(p.X){let e=JSON.stringify(t,void 0,2);i?!a&&f.kg.log("[Tracing] Discarding span since it finished after idle span final timeout",e):f.kg.log("[Tracing] Discarding span since it happened after idle span was finished",e)}(!a||!i)&&((0,s.ed)(k,t),l++)}),l>0&&k.setAttribute("sentry.idle_span_discarded_spans",l)}return h.push(S.on("spanStart",e=>{if(!i&&e!==k&&!(0,s.XU)(e).timestamp){if((0,s.Dp)(k).includes(e)){var t;t=e.spanContext().spanId,x(),r.set(t,!0),T((0,v.ph)()+_/1e3)}}})),h.push(S.on("spanEnd",e=>{var t;if(!i)t=e.spanContext().spanId,r.has(t)&&r.delete(t),0===r.size&&M((0,v.ph)()+m/1e3)})),h.push(S.on("idleSpanEnableAutoFinish",e=>{e===k&&(l=!0,M(),r.size&&T())})),!t.disableAutoFinish&&M(),setTimeout(()=>{!i&&(k.setStatus({code:er.jt,message:"deadline_exceeded"}),o="finalTimeout",k.end())},g),k}var ea=n("7073"),eo=n("8169");let ec=!1;function el(){let e=(0,s.HN)(),t=e&&(0,s.Gx)(e);if(t){let e="internal_error";p.X&&f.kg.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:er.jt,message:e})}}el.tag="sentry_tracingErrorCallback";var eu=n("8158"),ed=n("2339"),eh=n("4502"),ef=n("5924"),ep=n("6074"),em=n("1478"),eg=n("2054"),ey=n("6354");function ev(e){return e.split(",").filter(e=>!e.split("=")[0].startsWith(eg.lq)).join(",")}var e_=n("7003"),eb=n("3147");let eS=new WeakMap,eE=new Map,ew={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function ek(e){let{url:t}=(0,s.XU)(e).data||{};if(!t||"string"!=typeof t)return;let n=(0,U._j)("resource",({entries:r})=>{r.forEach(r=>{var i;if("resource"===(i=r).entryType&&"initiatorType"in i&&"string"==typeof i.nextHopProtocol&&("fetch"===i.initiatorType||"xmlhttprequest"===i.initiatorType)&&r.name.endsWith(t))(function(e){let{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol),r=[];return(r.push(["network.protocol.version",n],["network.protocol.name",t]),v.Z1)?[...r,["http.request.redirect_start",ex(e.redirectStart)],["http.request.fetch_start",ex(e.fetchStart)],["http.request.domain_lookup_start",ex(e.domainLookupStart)],["http.request.domain_lookup_end",ex(e.domainLookupEnd)],["http.request.connect_start",ex(e.connectStart)],["http.request.secure_connection_start",ex(e.secureConnectionStart)],["http.request.connection_end",ex(e.connectEnd)],["http.request.request_start",ex(e.requestStart)],["http.request.response_start",ex(e.responseStart)],["http.request.response_end",ex(e.responseEnd)]]:r})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n)})})}function ex(e=0){return((v.Z1||performance.timeOrigin)+e)/1e3}function eM(e){try{return new URL(e,ep.m9.location.origin).href}catch(e){return}}let eT={...ei,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...ew},eC=(e={})=>{!function(){if(!ec)ec=!0,(0,ea.V)(el),(0,eo.h)(el)}();let{enableInp:t,enableLongTask:n,enableLongAnimationFrame:o,_experiments:{enableInteractions:l,enableStandaloneClsSpans:d},beforeStartSpan:p,idleTimeout:m,finalTimeout:g,childSpanTimeout:b,markBackgroundSpan:S,traceFetch:E,traceXHR:w,trackFetchStreamPerformance:k,shouldCreateSpanForRequest:x,enableHTTPTimings:M,instrumentPageLoad:T,instrumentNavigation:C}={...eT,...e},I=function({recordClsStandaloneSpans:e}){let t=z();if(t&&v.Z1){t.mark&&L.m.performance.mark("sentry-tracing-init");let n=function(){return(0,U.to)(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=B(v.Z1),r=B(t.startTime);P.X&&f.kg.log("[Measurements] Adding FID"),K.fid={value:e.value,unit:"millisecond"},K["mark.fid"]={value:n+r,unit:"second"}})}(),o=function(){return(0,U.$A)(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!!t)P.X&&f.kg.log("[Measurements] Adding LCP"),K.lcp={value:e.value,unit:"millisecond"},r=t},!0)}(),l=function(){return(0,U._4)(({metric:e})=>{if(!!e.entries[e.entries.length-1])P.X&&f.kg.log("[Measurements] Adding TTFB"),K.ttfb={value:e.value,unit:"millisecond"}})}(),u=e?function(){let e,t,n=0;if(!function(){try{return(0,j.x)([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch(e){return!1}}())return;let r=!1;function i(){if(!r)r=!0,t&&function(e,t,n){P.X&&f.kg.log(`Sending CLS span (${e})`);let r=B((v.Z1||0)+((0,j.x)([t,"optionalAccess",e=>e.startTime])||0)),i=(0,c.nZ)().getScopeData().transactionName,s=t?(0,N.Rt)((0,j.x)([t,"access",e=>e.sources,"access",e=>e[0],"optionalAccess",e=>e.node])):"Layout shift",o=W({name:s,transaction:i,attributes:(0,_.Jr)({[a.S3]:"auto.http.browser.cls",[a.$J]:"ui.webvital.cls",[a.JQ]:(0,j.x)([t,"optionalAccess",e=>e.duration])||0,"sentry.pageload.span_id":n}),startTime:r});(0,j.x)([o,"optionalAccess",e=>e.addEvent,"call",t=>t("cls",{[a.E1]:"",[a.Wb]:e})]),(0,j.x)([o,"optionalAccess",e=>e.end,"call",e=>e(r)])}(n,e,t),o()}let o=(0,U.PR)(({metric:t})=>{let r=t.entries[t.entries.length-1];if(!!r)n=t.value,e=r},!0);(0,X.u)(()=>{i()}),setTimeout(()=>{let e=(0,c.s3)(),n=(0,j.x)([e,"optionalAccess",e=>e.on,"call",e=>e("startNavigationSpan",()=>{i(),n&&n()})]),r=(0,s.HN)(),a=r&&(0,s.Gx)(r),o=a&&(0,s.XU)(a);o&&"pageload"===o.op&&(t=a.spanContext().spanId)},0)}():function(){return(0,U.PR)(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!!t)P.X&&f.kg.log(`[Measurements] Adding CLS ${e.value}`),K.cls={value:e.value,unit:""},i=t},!0)}();return()=>{n(),o(),l(),u&&u()}}return()=>void 0}({recordClsStandaloneSpans:d||!1});t&&!function(){if(z()&&v.Z1){let e=function(){return(0,U.YF)(({metric:e})=>{if(void 0==e.value)return;let t=e.entries.find(t=>t.duration===e.value&&et[t.name]);if(!t)return;let{interactionId:n}=t,r=et[t.name],i=B(v.Z1+t.startTime),o=B(e.value),l=(0,s.HN)(),u=l?(0,s.Gx)(l):void 0,d=(null!=n?ee.get(n):void 0)||u,h=d?(0,s.XU)(d).description:(0,c.nZ)().getScopeData().transactionName,f=(0,N.Rt)(t.target),p=W({name:f,transaction:h,attributes:(0,_.Jr)({[a.S3]:"auto.http.browser.inp",[a.$J]:`ui.interaction.${r}`,[a.JQ]:t.duration}),startTime:i});(0,j.x)([p,"optionalAccess",e=>e.addEvent,"call",t=>t("inp",{[a.E1]:"millisecond",[a.Wb]:e.value})]),(0,j.x)([p,"optionalAccess",e=>e.end,"call",e=>e(i+o)])})}();return()=>{e()}}()=>void 0}(),o&&eu.n.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{if(!!(0,s.HN)())for(let t of e.getEntries()){if(!t.scripts[0])continue;let e=B(v.Z1+t.startTime),n=B(t.duration),r={[a.S3]:"auto.ui.browser.metrics"},{invoker:i,invokerType:s,sourceURL:o,sourceFunctionName:c,sourceCharPosition:l}=t.scripts[0];r["browser.script.invoker"]=i,r["browser.script.invoker_type"]=s,o&&(r["code.filepath"]=o),c&&(r["code.function"]=c),-1!==l&&(r["browser.script.source_char_position"]=l);let u=A({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:e,attributes:r});u&&u.end(e+n)}}).observe({type:"long-animation-frame",buffered:!0}):n&&(0,U._j)("longtask",({entries:e})=>{let t=(0,s.HN)();if(!t)return;let{op:n,start_timestamp:r}=(0,s.XU)(t);for(let i of e){let e=B(v.Z1+i.startTime),s=B(i.duration);if("navigation"!==n||!r||!(e<r))H(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[a.S3]:"auto.ui.browser.metrics"}})}}),l&&(0,U._j)("event",({entries:e})=>{if(!!(0,s.HN)()){for(let t of e)if("click"===t.name){let e=B(v.Z1+t.startTime),n=B(t.duration),r={name:(0,N.Rt)(t.target),op:`ui.interaction.${t.name}`,startTime:e,attributes:{[a.S3]:"auto.ui.browser.metrics"}},i=(0,N.iY)(t.target);i&&(r.attributes["ui.component_name"]=i);let s=A(r);s&&s.end(e+n)}}});let R={name:void 0,source:void 0};function D(e,t){let n="pageload"===t.op,o=p?p(t):t,c=o.attributes||{};t.name!==o.name&&(c[a.Zj]="custom",o.attributes=c),R.name=o.name,R.source=c[a.Zj];let l=es(o,{idleTimeout:m,finalTimeout:g,childSpanTimeout:b,disableAutoFinish:n,beforeSpanEnd:e=>{I(),!function(e,t){let n=z();if(!n||!L.m.performance.getEntries||!v.Z1)return;P.X&&f.kg.log("[Tracing] Adding & adjusting spans using Performance API");let o=B(v.Z1),c=n.getEntries(),{op:l,start_timestamp:u}=(0,s.XU)(e);if(c.slice(Y).forEach(t=>{let n=B(t.startTime),r=B(Math.max(0,t.duration));if("navigation"!==l||!u||!(o+n<u))switch(t.entryType){case"navigation":(function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{V(e,t,r,n)}),V(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),V(e,t,"fetch",n,"cache","domainLookupStart"),V(e,t,"domainLookup",n,"DNS"),function(e,t,n){let r=n+B(t.requestStart),i=n+B(t.responseEnd),s=n+B(t.responseStart);t.responseEnd&&(H(e,r,i,{op:"browser.request",name:t.name,attributes:{[a.S3]:"auto.ui.browser.metrics"}}),H(e,s,i,{op:"browser.response",name:t.name,attributes:{[a.S3]:"auto.ui.browser.metrics"}}))}(e,t,n)})(e,t,o);break;case"mark":case"paint":case"measure":{(function(e,t,n,r,i){let s=(0,J.W)(),o=i+Math.max(n,B(s?s.requestStart:0)),c=i+n,l={[a.S3]:"auto.resource.browser.metrics"};o!==c&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=o),H(e,o,c+r,{name:t.name,op:t.entryType,attributes:l})})(e,t,n,r,o);let i=(0,G.Y)(),s=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&s&&(P.X&&f.kg.log("[Measurements] Adding FP"),K.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(P.X&&f.kg.log("[Measurements] Adding FCP"),K.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":(function(e,t,n,r,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let o=(0,$.en)(n),c={[a.S3]:"auto.resource.browser.metrics"};Z(c,t,"transferSize","http.response_transfer_size"),Z(c,t,"encodedBodySize","http.response_content_length"),Z(c,t,"decodedBodySize","http.decoded_response_content_length"),null!=t.deliveryType&&(c["http.response_delivery_type"]=t.deliveryType),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(c["url.scheme"]=o.protocol.split(":").pop()),o.host&&(c["server.address"]=o.host),c["url.same_origin"]=n.includes(L.m.location.origin);let l=s+r;H(e,l,l+i,{name:n.replace(L.m.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})})(e,t,t.name,n,r,o)}}),Y=Math.max(c.length-1,0),function(e){let t=L.m.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),F(n.rtt)&&(K["connection.rtt"]={value:n.rtt,unit:"millisecond"})),F(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),F(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===l){(function(e){let t=(0,J.W)();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(P.X&&f.kg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})})(K);let n=K["mark.fid"];n&&K.fid&&(H(e,n.value,n.value+B(K.fid.value),{name:"first input delay",op:"ui.action",attributes:{[a.S3]:"auto.ui.browser.metrics"}}),delete K["mark.fid"]),(!("fcp"in K)||!t.recordClsOnPageloadSpan)&&delete K.cls,Object.entries(K).forEach(([e,t])=>{!function(e,t,n,r=(0,s.HN)()){let i=r&&(0,s.Gx)(r);i&&i.addEvent(e,{[a.Wb]:t,[a.E1]:n})}(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",(0,q.A)()),function(e){r&&(P.X&&f.kg.log("[Measurements] Adding LCP Data"),r.element&&e.setAttribute("lcp.element",(0,N.Rt)(r.element)),r.id&&e.setAttribute("lcp.id",r.id),r.url&&e.setAttribute("lcp.url",r.url.trim().slice(0,200)),e.setAttribute("lcp.size",r.size)),i&&i.sources&&(P.X&&f.kg.log("[Measurements] Adding CLS Data"),i.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,(0,N.Rt)(t.node))))}(e)}r=void 0,i=void 0,K={}}(e,{recordClsOnPageloadSpan:!d})}});function u(){["interactive","complete"].includes(ep.m9.document.readyState)&&e.emit("idleSpanEnableAutoFinish",l)}return n&&ep.m9.document&&(ep.m9.document.addEventListener("readystatechange",()=>{u()}),u()),l}return{name:"BrowserTracing",afterAllSetup(e){let n;let r=ep.m9.location&&ep.m9.location.href;e.on("startNavigationSpan",t=>{if((0,c.s3)()===e)n&&!(0,s.XU)(n).timestamp&&(ef.X&&f.kg.log(`[Tracing] Finishing current root span with op: ${(0,s.XU)(n).op}`),n.end()),n=D(e,{op:"navigation",...t})}),e.on("startPageLoadSpan",(t,r={})=>{if((0,c.s3)()!==e)return;n&&!(0,s.XU)(n).timestamp&&(ef.X&&f.kg.log(`[Tracing] Finishing current root span with op: ${(0,s.XU)(n).op}`),n.end());let i=r.sentryTrace||eI("sentry-trace"),a=r.baggage||eI("baggage"),o=(0,ed.pT)(i,a);(0,c.nZ)().setPropagationContext(o),n=D(e,{op:"pageload",...t})}),e.on("spanEnd",e=>{let t=(0,s.XU)(e).op;if(e!==(0,s.Gx)(e)||"navigation"!==t&&"pageload"!==t)return;let n=(0,c.nZ)(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:(0,s.Tt)(e),dsc:r.dsc||(0,h.jC)(e)})}),ep.m9.location&&(T&&function(e,t,n){e.emit("startPageLoadSpan",t,n),(0,c.nZ)().setTransactionName(t.name);let r=(0,s.HN)();"pageload"===(r&&(0,s.XU)(r).op)?r:void 0}(e,{name:ep.m9.location.pathname,startTime:v.Z1?v.Z1/1e3:void 0,attributes:{[a.Zj]:"url",[a.S3]:"auto.pageload.browser"}}),C&&(0,en.a)(({to:t,from:n})=>{if(void 0===n&&r&&-1!==r.indexOf(t)){r=void 0;return}n!==t&&(r=void 0,function(e,t){(0,c.aF)().setPropagationContext((0,eh.Q)()),(0,c.nZ)().setPropagationContext((0,eh.Q)()),e.emit("startNavigationSpan",t),(0,c.nZ)().setTransactionName(t.name);let n=(0,s.HN)();"navigation"===(n&&(0,s.XU)(n).op)?n:void 0}(e,{name:ep.m9.location.pathname,attributes:{[a.Zj]:"url",[a.S3]:"auto.navigation.browser"}}))})),S&&(ep.m9&&ep.m9.document?ep.m9.document.addEventListener("visibilitychange",()=>{let e=(0,s.HN)();if(!e)return;let t=(0,s.Gx)(e);if(ep.m9.document.hidden&&t){let e="cancelled",{op:n,status:r}=(0,s.XU)(t);ef.X&&f.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),!r&&t.setStatus({code:er.jt,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ef.X&&f.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),l&&function(e,t,n,r){let i;ep.m9.document&&addEventListener("click",()=>{let o="ui.action.click",c=(0,s.HN)(),l=c&&(0,s.Gx)(c);if(l&&["navigation","pageload"].includes((0,s.XU)(l).op)){ef.X&&f.kg.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}if(i&&(i.setAttribute(a.ju,"interactionInterrupted"),i.end(),i=void 0),!r.name){ef.X&&f.kg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=es({name:r.name,op:o,attributes:{[a.Zj]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})},{once:!1,capture:!0})}(m,g,b,R),t&&!function(e){let t=({entries:e})=>{let t=(0,s.HN)(),n=t&&(0,s.Gx)(t);e.forEach(e=>{if(!(0,U.cN)(e)||!n)return;let t=e.interactionId;if(!(null==t||ee.has(t))){if(Q.length>10){let e=Q.shift();ee.delete(e)}Q.push(t),ee.set(t,n)}})};(0,U._j)("event",t),(0,U._j)("first-input",t)}(),!function(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:o,enableHTTPTimings:l,tracePropagationTargets:d}={traceFetch:ew.traceFetch,traceXHR:ew.traceXHR,trackFetchStreamPerformance:ew.trackFetchStreamPerformance,...t},f="function"==typeof o?o:e=>!0,p=e=>(function(e,t){let n=ep.m9.location&&ep.m9.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch(e){return!1}let s=r.origin===i;return t?(0,eb.U0)(r.toString(),t)||s&&(0,eb.U0)(r.pathname,t):s}{let n=!!e.match(/^\/(?!\/)/);return t?(0,eb.U0)(e,t):n}})(e,d),m={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){let t=eE.get(e.span_id);t&&(e.timestamp=t/1e3,eE.delete(e.span_id))}}),e)),i&&(0,e_.cf)(e=>{if(e.response){let t=eS.get(e.response);t&&e.endTimestamp&&eE.set(t,e.endTimestamp)}}),(0,e_.Uf)(e=>{let t=function(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;let o=(0,u.z)()&&t(e.fetchData.url);if(e.endTimestamp&&o){let t=e.fetchData.__span;if(!t)return;let n=r[t];n&&(function(e,t){if(t.response){(0,er.Q0)(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:er.jt,message:"internal_error"});e.end()}(n,e),delete r[t]);return}let l=(0,c.nZ)(),d=(0,c.s3)(),{method:f,url:p}=e.fetchData,m=function(e){try{return new URL(e).href}catch(e){return}}(p),g=m?(0,$.en)(m).host:void 0,v=!!(0,s.HN)(),_=o&&v?A({name:`${f} ${p}`,attributes:{url:p,type:"fetch","http.method":f,"http.url":m,"server.address":g,[a.S3]:i,[a.$J]:"http.client"}}):new y;if(e.fetchData.__span=_.spanContext().spanId,r[_.spanContext().spanId]=_,n(e.fetchData.url)&&d){let t=e.args[0];e.args[1]=e.args[1]||{};let n=e.args[1];n.headers=function(e,t,n,r,i){let{traceId:a,spanId:o,sampled:l,dsc:u}={...(0,c.aF)().getPropagationContext(),...n.getPropagationContext()},d=i?(0,s.Hb)(i):(0,ed.$p)(a,o,l),f=(0,eg.IQ)(u||(i?(0,h.jC)(i):(0,h._l)(a,t))),p=r.headers||("undefined"!=typeof Request&&(0,ey.V9)(e,Request)?e.headers:void 0);if(!p)return{"sentry-trace":d,baggage:f};if("undefined"!=typeof Headers&&(0,ey.V9)(p,Headers)){let e=new Headers(p);if(e.set("sentry-trace",d),f){let t=e.get(eg.bU);if(t){let n=ev(t);e.set(eg.bU,n?`${n},${f}`:f)}else e.set(eg.bU,f)}return e}if(Array.isArray(p)){let e=[...p.filter(e=>!(Array.isArray(e)&&"sentry-trace"===e[0])).map(e=>{if(!Array.isArray(e)||e[0]!==eg.bU||"string"!=typeof e[1])return e;{let[t,n,...r]=e;return[t,ev(n),...r]}}),["sentry-trace",d]];return f&&e.push([eg.bU,f]),e}else{let e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t=e.map(e=>"string"==typeof e?ev(e):e).filter(e=>""===e):e&&t.push(ev(e)),f&&t.push(f),{...p,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}(t,d,l,n,(0,u.z)()&&v?_:void 0)}return _}(e,f,p,m);if(e.response&&e.fetchData.__span&&eS.set(e.response,e.fetchData.__span),t){let n=eM(e.fetchData.url),r=n?(0,$.en)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}l&&t&&ek(t)})),r&&(0,em.UK)(e=>{let t=function(e,t,n,r){let i=e.xhr,o=i&&i[em.xU];if(!i||i.__sentry_own_request__||!o)return;let l=(0,u.z)()&&t(o.url);if(e.endTimestamp&&l){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=r[e];t&&void 0!==o.status_code&&((0,er.Q0)(t,o.status_code),t.end(),delete r[e]);return}let d=eM(o.url),f=d?(0,$.en)(d).host:void 0,p=!!(0,s.HN)(),m=l&&p?A({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":d,url:o.url,"server.address":f,[a.S3]:"auto.http.browser",[a.$J]:"http.client"}}):new y;i.__sentry_xhr_span_id__=m.spanContext().spanId,r[i.__sentry_xhr_span_id__]=m;let g=(0,c.s3)();return i.setRequestHeader&&n(o.url)&&g&&function(e,t,n){let r=(0,c.nZ)(),{traceId:i,spanId:a,sampled:o,dsc:l}={...(0,c.aF)().getPropagationContext(),...r.getPropagationContext()},d=n&&(0,u.z)()?(0,s.Hb)(n):(0,ed.$p)(i,a,o);(function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(eg.bU,n)}catch(e){}})(e,d,(0,eg.IQ)(l||(n?(0,h.jC)(n):(0,h._l)(i,t))))}(i,g,(0,u.z)()&&p?m:void 0),m}(e,f,p,m);l&&t&&ek(t)})}(e,{traceFetch:E,traceXHR:w,trackFetchStreamPerformance:k,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:x,enableHTTPTimings:M})}}};function eI(e){let t=(0,N.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}},8659:function(e,t,n){"use strict";n.d(t,{G:()=>h});var r=n("6746"),i=n("6354"),s=n("8158"),a=n("7675");class o{constructor(e,t){let n,r;n=e?e:new a.s,r=t?t:new a.s,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t;let n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return(0,i.J8)(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function c(){let e=(0,r.c)(),t=(0,r.q)(e);return t.stack=t.stack||new o((0,s.Y)("defaultCurrentScope",()=>new a.s),(0,s.Y)("defaultIsolationScope",()=>new a.s))}function l(e){return c().withScope(e)}function u(e,t){let n=c();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function d(e){return c().withScope(()=>e(c().getIsolationScope()))}function h(e){let t=(0,r.q)(e);return t.acs?t.acs:{withIsolationScope:d,withScope:l,withSetScope:u,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},3697:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(8933),i=n(8679),s=n(7346);function a(e,t){let n=(0,s.s3)(),a=(0,s.aF)();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:c=100}=n.getOptions();if(c<=0)return;let l={timestamp:(0,r.yW)(),...e},u=o?(0,i.Cf)(()=>o(l,t)):l;null!==u&&(n.emit&&n.emit("beforeAddBreadcrumb",u,t),a.addBreadcrumb(u,c))}},6746:function(e,t,n){"use strict";n.d(t,{c:function(){return s},q:function(){return a}});var r=n(8158),i=n(3247);function s(){return a(r.n),r.n}function a(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||i.J,t[i.J]=t[i.J]||{}}},9748:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="production"},7346:function(e,t,n){"use strict";n.d(t,{$e:function(){return u},aF:function(){return c},lW:function(){return l},nZ:function(){return o},s3:function(){return d}});var r=n(8158),i=n(8659),s=n(6746),a=n(7675);function o(){let e=(0,s.c)();return(0,i.G)(e).getCurrentScope()}function c(){let e=(0,s.c)();return(0,i.G)(e).getIsolationScope()}function l(){return(0,r.Y)("globalScope",()=>new a.s)}function u(...e){let t=(0,s.c)(),n=(0,i.G)(t);if(2===e.length){let[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}function d(){return o().getClient()}},9539:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},6059:function(e,t,n){"use strict";n.d(t,{Mq:function(){return c},Q3:function(){return o},uE:function(){return l}});var r=n(913),i=n(4102),s=n(6036),a=n(3110);function o(e,t,n,s){let a=(0,r.HY)(n),o={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!s&&t&&{dsn:(0,i.RA)(t)}},c="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,r.Jd)(o,[c])}function c(e,t,n,i){var s,a;let o=(0,r.HY)(n),c=e.type&&"replay_event"!==e.type?e.type:"event";s=e,!(a=n&&n.sdk)||(s.sdk=s.sdk||{},s.sdk.name=s.sdk.name||a.name,s.sdk.version=s.sdk.version||a.version,s.sdk.integrations=[...s.sdk.integrations||[],...a.integrations||[]],s.sdk.packages=[...s.sdk.packages||[],...a.packages||[]]);let l=(0,r.Cd)(e,o,i,t);delete e.sdkProcessingMetadata;let u=[{type:c},e];return(0,r.Jd)(l,[u])}function l(e,t){var n;let o=(0,s.jC)(e[0]),c=t&&t.getDsn(),l=t&&t.getOptions().tunnel;let u={sent_at:new Date().toISOString(),...!!(n=o).trace_id&&!!n.public_key&&{trace:o},...!!l&&c&&{dsn:(0,i.RA)(c)}},d=t&&t.getOptions().beforeSendSpan,h=d?e=>d((0,a.XU)(e)):e=>(0,a.XU)(e),f=[];for(let t of e){let e=h(t);e&&f.push((0,r.KQ)(e))}return(0,r.Jd)(u,f)}},2382:function(e,t,n){"use strict";n.d(t,{Qy:function(){return d},Tb:function(){return c},cg:function(){return m},eN:function(){return l},v:function(){return u},yj:function(){return h}});var r=n(8158),i=n(9748),s=n(7346),a=n(6831),o=n(7354);function c(e,t){return(0,s.nZ)().captureException(e,(0,o.U0)(t))}function l(e,t){return(0,s.nZ)().captureEvent(e,t)}function u(e,t){(0,s.aF)().setContext(e,t)}function d(e){(0,s.aF)().addEventProcessor(e)}function h(e){let t=(0,s.s3)(),n=(0,s.aF)(),o=(0,s.nZ)(),{release:c,environment:l=i.J}=t&&t.getOptions()||{},{userAgent:u}=r.n.navigator||{},d=(0,a.Hv)({release:c,environment:l,user:o.getUser()||n.getUser(),...u&&{userAgent:u},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,a.CT)(h,{status:"exited"}),f(),n.setSession(d),o.setSession(d),d}function f(){let e=(0,s.aF)(),t=(0,s.nZ)(),n=t.getSession()||e.getSession();n&&(0,a.RJ)(n),p(),e.setSession(),t.setSession()}function p(){let e=(0,s.aF)(),t=(0,s.nZ)(),n=(0,s.s3)(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function m(e=!1){if(e){f();return}p()}},6405:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(1815);function i(e){let t=e._sentryMetrics;if(!t)return;let n={};for(let[,[e,i]]of t)(n[e]||(n[e]=[])).push((0,r.Jr)(i));return n}},7675:function(e,t,n){"use strict";n.d(t,{s:function(){return d}});var r=n(4502),i=n(6354),s=n(8933),a=n(8910),o=n(8679),c=n(6831),l=n(2569);class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,r.Q)()}clone(){let e=new u;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,l.D)(e,(0,l.Y)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,[n,r]=t instanceof d?[t.getScopeData(),t.getRequestSession()]:(0,i.PO)(t)?[e,e.requestSession]:[],{tags:s,extra:a,user:o,contexts:c,level:l,fingerprint:u=[],propagationContext:h}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},o&&Object.keys(o).length&&(this._user=o),l&&(this._level=l),u.length&&(this._fingerprint=u),h&&(this._propagationContext=h),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,l.D)(this,void 0),this._attachments=[],this._propagationContext=(0,r.Q)(),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,s.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,l.Y)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:(0,a.DM)();if(!this._client)return o.kg.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:(0,a.DM)();if(!this._client)return o.kg.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,a.DM)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(o.kg.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){!this._notifyingListeners&&(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}let d=u},8573:function(e,t,n){"use strict";n.d(t,{$J:function(){return s},E1:function(){return c},JQ:function(){return d},S3:function(){return a},TE:function(){return i},Wb:function(){return l},Zj:function(){return r},ju:function(){return o},p6:function(){return u}});let r="sentry.source",i="sentry.sample_rate",s="sentry.op",a="sentry.origin",o="sentry.idle_span_finish_reason",c="sentry.measurement_unit",l="sentry.measurement_value",u="sentry.profile_id",d="sentry.exclusive_time"},6831:function(e,t,n){"use strict";n.d(t,{CT:function(){return o},Hv:function(){return a},RJ:function(){return c}});var r=n(8933),i=n(8910),s=n(1815);function a(e){let t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(function(e){return(0,s.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})})(n)};return e&&o(n,e),n}function o(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),o(e,n)}},6036:function(e,t,n){"use strict";n.d(t,{Lh:function(){return d},_l:function(){return h},jC:function(){return f}});var r=n(1815),i=n(2054),s=n(9748),a=n(7346),o=n(8573),c=n(3970),l=n(3110);let u="_frozenDsc";function d(e,t){(0,r.xp)(e,u,t)}function h(e,t){let n=t.getOptions(),{publicKey:i}=t.getDsn()||{},a=(0,r.Jr)({environment:n.environment||s.J,release:n.release,public_key:i,trace_id:e});return t.emit("createDsc",a),a}function f(e){let t=(0,a.s3)();if(!t)return{};let n=h((0,l.XU)(e).trace_id||"",t),r=(0,l.Gx)(e),s=r[u];if(s)return s;let d=r.spanContext().traceState,f=d&&d.get("sentry.dsc"),p=f&&(0,i.EN)(f);if(p)return p;let m=(0,l.XU)(r),g=m.data||{},y=g[o.TE];null!=y&&(n.sample_rate=`${y}`);let v=g[o.Zj],_=m.description;return"url"!==v&&_&&(n.transaction=_),(0,c.z)()&&(n.sampled=String((0,l.Tt)(r))),t.emit("createDsc",n,r),n}},3089:function(e,t,n){"use strict";n.d(t,{OP:function(){return i},Q0:function(){return a},jt:function(){return s},pq:function(){return r}});let r=0,i=1,s=2;function a(e,t){e.setAttribute("http.response.status_code",t);let n=function(e){if(e<400&&e>=100)return{code:i};if(e>=400&&e<500)switch(e){case 401:return{code:s,message:"unauthenticated"};case 403:return{code:s,message:"permission_denied"};case 404:return{code:s,message:"not_found"};case 409:return{code:s,message:"already_exists"};case 413:return{code:s,message:"failed_precondition"};case 429:return{code:s,message:"resource_exhausted"};case 499:return{code:s,message:"cancelled"};default:return{code:s,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:s,message:"unimplemented"};case 503:return{code:s,message:"unavailable"};case 504:return{code:s,message:"deadline_exceeded"};default:return{code:s,message:"internal_error"}}return{code:s,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}},3970:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(7346);function i(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=(0,r.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},6333:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(8679),i=n(9539);function s(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if("number"!=typeof t||isNaN(t)||t<0||t>1){i.X&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}},7354:function(e,t,n){"use strict";n.d(t,{U0:()=>E,R:()=>b});var r=n("8910"),i=n("8933"),s=n("3147"),a=n("8158"),o=n("2996"),c=n("9748"),l=n("7346"),u=n("340"),d=n("8679"),h=n("6354"),f=n("9539"),p=n("7675"),m=n("1815"),g=n("6036"),y=n("3110");function v(e,t){let{extra:n,tags:r,user:i,contexts:s,level:a,sdkProcessingMetadata:o,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:h,transactionName:f,span:p}=t;_(e,"extra",n),_(e,"tags",r),_(e,"user",i),_(e,"contexts",s),_(e,"sdkProcessingMetadata",o),a&&(e.level=a),f&&(e.transactionName=f),p&&(e.span=p),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function _(e,t,n){if(n&&Object.keys(n).length)for(let r in e[t]={...e[t]},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}function b(e,t,n,_,b,E){let{normalizeDepth:w=3,normalizeMaxBreadth:k=1e3}=e,x={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,i.yW)()},M=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:a=250}=t;!("environment"in e)&&(e.environment="environment"in t?n:c.J),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,s.$G)(e.message,a));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=(0,s.$G)(o.value,a));let l=e.request;l&&l.url&&(l.url=(0,s.$G)(l.url,a))})(x,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(x,M),b&&b.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){let n;let r=a.n._sentryDebugIds;if(!r)return;let i=S.get(t);i?n=i:(n=new Map,S.set(t,n));let s=Object.entries(r).reduce((e,[r,i])=>{let s;let a=n.get(r);a?s=a:(s=t(r),n.set(r,s));for(let t=s.length-1;t>=0;t--){let n=s[t];if(n.filename){e[n.filename]=i;break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=s[e.filename])})})}catch(e){}}(x,e.stackParser);let T=function(e,t){if(!t)return e;let n=e?e.clone():new p.s;return n.update(t),n}(_,n.captureContext);n.mechanism&&(0,r.EG)(x,n.mechanism);let C=b?b.getEventProcessors():[],I=(0,l.lW)().getScopeData();E&&v(I,E.getScopeData()),T&&v(I,T.getScopeData());let A=[...n.attachments||[],...I.attachments];return A.length&&(n.attachments=A),!function(e,t){let{fingerprint:n,span:i,breadcrumbs:s,sdkProcessingMetadata:a}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:o}=t,c=(0,m.Jr)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let l=(0,m.Jr)(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});let u=(0,m.Jr)(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});let d=(0,m.Jr)(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),o&&"transaction"!==e.type&&(e.transaction=o)})(e,t),i&&function(e,t){e.contexts={trace:(0,y.wy)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,g.jC)(t),...e.sdkProcessingMetadata};let n=(0,y.Gx)(t),r=(0,y.XU)(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,i),function(e,t){e.fingerprint=e.fingerprint?(0,r.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,a)}(x,I),(function e(t,n,r,i=0){return new u.cW((s,a)=>{let o=t[i];if(null===n||"function"!=typeof o)s(n);else{let c=o({...n},r);f.X&&o.id&&null===c&&d.kg.log(`Event processor "${o.id}" dropped event`),(0,h.J8)(c)?c.then(n=>e(t,n,r,i+1).then(s)).then(null,a):e(t,c,r,i+1).then(s).then(null,a)}})})([...C,...I.eventProcessors],x,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof w&&w>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,o.Fv)(e.data,t,n)}}))},...e.user&&{user:(0,o.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,o.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,o.Fv)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,o.Fv)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:(0,o.Fv)(e.data,t,n)}}))),r}(e,w,k):e)}let S=new WeakMap;function E(e){return e?function(e){return e instanceof p.s||"function"==typeof e}(e)||function(e){return Object.keys(e).some(e=>w.includes(e))}(e)?{captureContext:e}:e:void 0}let w=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2569:function(e,t,n){"use strict";n.d(t,{D:function(){return s},Y:function(){return a}});var r=n(1815);let i="_sentrySpan";function s(e,t){t?(0,r.xp)(e,i,t):delete e[i]}function a(e){return e[i]}},3110:function(e,t,n){"use strict";n.d(t,{$k:function(){return v},Dp:function(){return T},Gx:function(){return C},HN:function(){return I},HR:function(){return m},Hb:function(){return y},Tt:function(){return S},XU:function(){return b},_4:function(){return E},ed:function(){return M},i0:function(){return p},j5:function(){return x},ve:function(){return f},wy:function(){return g}});var r=n(1815),i=n(2339),s=n(8933),a=n(8659),o=n(6746),c=n(7346),l=n(6405),u=n(8573),d=n(3089),h=n(2569);let f=0,p=1;function m(e){let{spanId:t,traceId:n}=e.spanContext(),{data:i,op:s,parent_span_id:a,status:o,origin:c}=b(e);return(0,r.Jr)({parent_span_id:a,span_id:t,trace_id:n,data:i,op:s,status:o,origin:c})}function g(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:i}=b(e);return(0,r.Jr)({parent_span_id:i,span_id:t,trace_id:n})}function y(e){let{traceId:t,spanId:n}=e.spanContext(),r=S(e);return(0,i.$p)(t,n,r)}function v(e){return"number"==typeof e?_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?_(e.getTime()):(0,s.ph)()}function _(e){return e>0x2540be3ff?e/1e3:e}function b(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(function(e){return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}(e)){let{attributes:i,startTime:s,name:a,endTime:o,parentSpanId:c,status:d}=e;return(0,r.Jr)({span_id:t,trace_id:n,data:i,description:a,parent_span_id:c,start_timestamp:v(s),timestamp:v(o)||void 0,status:E(d),op:i[u.$J],origin:i[u.S3],_metrics_summary:(0,l.y)(e)})}return{span_id:t,trace_id:n}}catch(e){return{}}}function S(e){let{traceFlags:t}=e.spanContext();return t===p}function E(e){return e&&e.code!==d.pq?e.code===d.OP?"ok":e.message||"unknown_error":void 0}let w="_sentryChildSpans",k="_sentryRootSpan";function x(e,t){let n=e[k]||e;(0,r.xp)(t,k,n),e[w]?e[w].add(t):(0,r.xp)(e,w,new Set([t]))}function M(e,t){e[w]&&e[w].delete(t)}function T(e){let t=new Set;return!function e(n){if(!t.has(n)){if(S(n))for(let r of(t.add(n),n[w]?Array.from(n[w]):[]))e(r)}}(e),Array.from(t)}function C(e){return e[k]||e}function I(){let e=(0,o.c)(),t=(0,a.G)(e);return t.getActiveSpan?t.getActiveSpan():(0,h.Y)((0,c.nZ)())}},1614:function(e,t,n){"use strict";let r;n.d(t,{S:()=>eB});var i=n("2382"),s=n("8679"),a=n("8910"),o=n("3147"),c=n("9539");let l=[];function u(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function d(e,t,n){if(n[t.name]){c.X&&s.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===l.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),l.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}c.X&&s.kg.log(`Integration installed: ${t.name}`)}function h(e){return e}let f=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],p=(e={})=>({name:"InboundFilters",processEvent:(t,n,r)=>(function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(c.X&&s.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,a.jH)(e)}`),!0):function(e,t){return!e.type&&!!t&&!!t.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),n})(e).some(e=>(0,o.U0)(e,t))}(e,t.ignoreErrors)?(c.X&&s.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,a.jH)(e)}`),!0):function(e){return!e.type&&!!e.exception&&!!e.exception.values&&0!==e.exception.values.length&&!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)}(e)?(c.X&&s.kg.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,a.jH)(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&(0,o.U0)(n,t)}(e,t.ignoreTransactions)?(c.X&&s.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,a.jH)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;let n=m(e);return!!n&&(0,o.U0)(n,t)}(e,t.denyUrls)?(c.X&&s.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,a.jH)(e)}.
Url: ${m(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;let n=m(e);return!n||(0,o.U0)(n,t)}(e,t.allowUrls)&&(c.X&&s.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,a.jH)(e)}.
Url: ${m(e)}`),!0)})(t,function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:f],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions()))?null:t});function m(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return c.X&&s.kg.error(`Cannot extract url for event ${(0,a.jH)(e)}`),null}}var g=n("1815"),y=n("7346");let v=new WeakMap,_=()=>({name:"FunctionToString",setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,g.HK)(this),n=v.has((0,y.s3)())&&void 0!==t?t:this;return r.apply(n,e)}}catch(e){}},setup(e){v.set(e,!0)}});var b=n("6888");let S=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){return!!t&&(!!(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&w(e,t)&&E(e,t))||!1}(e,t)||function(e,t){let n=k(t),r=k(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&w(e,t)&&E(e,t))||!1}(e,t))||!1)}(t,e))return c.X&&s.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function E(e,t){let n=(0,b.Fr)(e),r=(0,b.Fr)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function w(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function k(e){return e.exception&&e.exception.values&&e.exception.values[0]}var x=n("7365"),M=n("6199"),T=n("4102"),C=n("6354"),I=n("340"),A=n("913");class R extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var D=n("8933"),O=n("6059"),N=n("6831"),$=n("6036"),P=n("6333"),L=n("7354");let j="Not capturing exception because it's already been captured.";class U{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,T.vK)(e.dsn):c.X&&s.kg.warn("No DSN provided, client will not send events."),this._dsn){var t,n,r,i,a,o;let s=(t=this._dsn,n=e.tunnel,r=e._metadata?e._metadata.sdk:void 0,n||`${i=t,`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(i)}${i.projectId}/envelope/`}?${a=t,o=r,(0,g._j)({sentry_key:a.publicKey,sentry_version:"7",...o&&{sentry_client:`${o.name}/${o.version}`}})}`);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:s})}}captureException(e,t,n){let r=(0,a.DM)();if((0,a.YO)(e))return c.X&&s.kg.log(j),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:(0,a.DM)(),...n},s=(0,C.Le)(e)?e:String(e),o=(0,C.pt)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(o.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=(0,a.DM)();if(t&&t.originalException&&(0,a.YO)(t.originalException))return c.X&&s.kg.log(j),r;let i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id}captureSession(e){"string"!=typeof e.release?c.X&&s.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,N.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):(0,I.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];d(this,e,this._integrations),!t&&u(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,O.Mq)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=(0,A.BO)(n,(0,A.zQ)(e));let r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=(0,O.Q3)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let r="number"==typeof n?n:1,i=`${e}:${t}`;c.X&&s.kg.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(c.X&&s.kg.error("Error while sending envelope:",e),e)):(c.X&&s.kg.error("Transport disabled"),(0,I.WD)({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&d(e,t,n)}),n}(this,e),u(this,e)}_updateSessionFromEvent(e,t){let n=!1,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,N.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new I.cW(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,y.aF)()){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),!e.type&&r.setLastEventId(e.event_id||t.event_id),(0,L.R)(i,e,t,n,this,r).then(e=>{if(null===e)return e;let t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:n,spanId:r,parentSpanId:i,dsc:s}=t;e.contexts={trace:(0,g.Jr)({trace_id:n,span_id:r,parent_span_id:i}),...e.contexts};let a=s||(0,$._l)(n,this);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{c.X&&("log"===e.logLevel?s.kg.log(e.message):s.kg.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,s=H(e),a=F(e),o=e.type||"error",c=`before send for type \`${o}\``,l=void 0===i?void 0:(0,P.o)(i);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),(0,I.$2)(new R(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let u="replay_event"===o?"replay":o,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new R("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,C.J8)(e))return e.then(e=>{if(!(0,C.PO)(e)&&null!==e)throw new R(n);return e},e=>{throw new R(`${t} rejected with ${e}`)});if(!(0,C.PO)(e)&&null!==e)throw new R(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=t;if(F(n)&&i)return i(n,r);if(H(n)){if(n.spans&&a){let t=[];for(let r of n.spans){let n=a(r);n?t.push(n):e.recordDroppedEvent("before_send","span")}n.spans=t}if(s){if(n.spans){let e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(n,r)}}return n}(this,r,n,t),c)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",u,e),s){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new R(`${c} returned \`null\`, will not send event.`,"log")}let i=n&&n.getSession();if(!s&&i&&this._updateSessionFromEvent(i,r),s){let e=r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0,t=e-(r.spans?r.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}let a=r.transaction_info;return s&&a&&r.transaction!==e.transaction&&(r.transaction_info={...a,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof R)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new R(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){c.X&&s.kg.log("Flushing outcomes...");let e=this._clearOutcomes();if(0===e.length){c.X&&s.kg.log("No outcomes to send");return}if(!this._dsn){c.X&&s.kg.log("No dsn provided, will not send outcomes");return}c.X&&s.kg.log("Sending outcomes:",e);let t=function(e,t,n){let r=[{type:"client_report"},{timestamp:(0,D.yW)(),discarded_events:e}];return(0,A.Jd)(t?{dsn:t}:{},[r])}(e,this._options.tunnel&&(0,T.RA)(this._dsn));this.sendEnvelope(t)}}function F(e){return void 0===e.type}function H(e){return"transaction"===e.type}var W=n("3247");function z(e,t,n=[t],r="npm"){let i=e._metadata||{};!i.sdk&&(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:W.J})),version:W.J}),e._metadata=i}var B=n("3403"),X=n("5924"),q=n("2996");function J(e,t){let n=Y(e,t),r={type:function(e){let t=e&&e.name;return!t&&V(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}(t),value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:V(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function G(e,t){return{exception:{values:[J(e,t)]}}}function Y(e,t){let n=t.stacktrace||t.stack||"",r=function(e){return e&&K.test(e.message)?1:0}(t),i=function(e){return"number"==typeof e.framesToPop?e.framesToPop:0}(t);try{return e(n,r,i)}catch(e){}return[]}let K=/Minified React error #\d+;/i;function V(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function Z(e,t,n,r,i){let s;if((0,C.VW)(t)&&t.error)return G(e,t.error);if((0,C.TX)(t)||(0,C.fm)(t)){if("stack"in t)s=G(e,t);else{let i=t.name||((0,C.TX)(t)?"DOMError":"DOMException"),o=t.message?`${i}: ${t.message}`:i;s=Q(e,o,n,r),(0,a.Db)(s,o)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return(0,C.VZ)(t)?G(e,t):(0,C.PO)(t)||(0,C.cO)(t)?(s=function(e,t,n,r){let i=(0,y.s3)(),s=i&&i.getOptions().normalizeDepth,a=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(t),o={__serialized__:(0,q.Qy)(t,s)};if(a)return{exception:{values:[J(e,a)]},extra:o};let c={exception:{values:[{type:(0,C.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=(0,g.zf)(e),r=t?"promise rejection":"exception";if((0,C.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,C.cO)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:r})}]},extra:o};if(n){let t=Y(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}(e,t,n,i),(0,a.EG)(s,{synthetic:!0}),s):(s=Q(e,t,n,r),(0,a.Db)(s,`${t}`,void 0),(0,a.EG)(s,{synthetic:!0}),s)}function Q(e,t,n,r){let i={};if(r&&n){let r=Y(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,C.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}var ee=n("6074");class et extends U{constructor(e){let t={parentSpanIsAlwaysRootSpan:!0,...e};z(t,"browser",["browser"],ee.m9.SENTRY_SDK_SOURCE||(0,B.S)()),super(t),t.sendClientReports&&ee.m9.document&&ee.m9.document.addEventListener("visibilitychange",()=>{"hidden"===ee.m9.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){let i=Z(e,t,n&&n.syntheticException||void 0,r);return(0,a.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,I.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){let s=Q(e,t,r&&r.syntheticException||void 0,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),(0,I.WD)(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){X.X&&s.kg.warn("SDK not enabled, will not capture user feedback.");return}let t=function(e,{metadata:t,tunnel:n,dsn:r}){let i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:(0,T.RA)(r)}},s=function(e){return[{type:"user_report"},e]}(e);return(0,A.Jd)(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}var en=n("5312"),er=n("1478"),ei=n("3697"),es=n("8158"),ea=n("1794");function eo(){if("console"in es.n)s.RU.forEach(function(e){if(e in es.n.console)(0,g.hl)(es.n.console,e,function(t){return s.LD[e]=t,function(...t){(0,ea.rK)("console",{args:t,level:e});let n=s.LD[e];n&&n.apply(es.n.console,t)}})})}var ec=n("7003"),el=n("3140"),eu=n("1123");function ed(e){if(void 0!==e){if(e>=400&&e<500)return"warning";if(e>=500)return"error";else return}}var eh=n("4351");let ef=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&!function(e){let t="console";(0,ea.Hj)(t,e),(0,ea.D2)(t,eo)}(function(e){return function(t){if((0,y.s3)()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:(0,eu.V)(t.level),message:(0,o.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,o.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,ei.n)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(0,en.O)(function(e,t){return function(n){let r,i;if((0,y.s3)()!==e)return;let a="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>1024&&(X.X&&s.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof a&&(a=[a]);try{let e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,el.Rt)(t,{keyAttrs:a,maxStringLength:o}),i=(0,el.iY)(t)}catch(e){r="<unknown>"}if(0===r.length)return;let c={category:`ui.${n.name}`,message:r};i&&(c.data={"ui.component_name":i}),(0,ei.n)(c,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&(0,er.UK)(function(e){return function(t){if((0,y.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[er.xU];if(!n||!r||!i)return;let{method:s,url:a,status_code:o,body:c}=i,l={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r},u=ed(o);(0,ei.n)({category:"xhr",data:{method:s,url:a,status_code:o},type:"http",level:u},l)}}(e)),t.fetch&&(0,ec.Uf)(function(e){return function(t){if((0,y.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method))if(t.error){let e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,ei.n)({category:"fetch",data:e,level:"error",type:"http"},i)}else{let e=t.response,i={...t.fetchData,status_code:e&&e.status},s={input:t.args,response:e,startTimestamp:n,endTimestamp:r},a=ed(i.status_code);(0,ei.n)({category:"fetch",data:i,type:"http",level:a},s)}}}(e)),t.history&&(0,M.a)(function(e){return function(t){if((0,y.s3)()!==e)return;let n=t.from,r=t.to,i=(0,eh.en)(ee.m9.location.href),s=n?(0,eh.en)(n):void 0,a=(0,eh.en)(r);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),(0,ei.n)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){if((0,y.s3)()===e)(0,ei.n)({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,a.jH)(t)},{event:t})}}(e))}}},ep=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],em=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&(0,g.hl)(ee.m9,"setTimeout",eg),t.setInterval&&(0,g.hl)(ee.m9,"setInterval",eg),t.requestAnimationFrame&&(0,g.hl)(ee.m9,"requestAnimationFrame",ey),t.XMLHttpRequest&&"XMLHttpRequest"in ee.m9&&(0,g.hl)(XMLHttpRequest.prototype,"send",ev);let e=t.eventTarget;e&&(Array.isArray(e)?e:ep).forEach(e_)}}};function eg(e){return function(...t){let n=t[0];return t[0]=(0,ee.re)(n,{mechanism:{data:{function:(0,b.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ey(e){return function(t){return e.apply(this,[(0,ee.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,b.$P)(e)},handled:!1,type:"instrument"}})])}}function ev(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&(0,g.hl)(n,e,function(t){let n={mechanism:{data:{function:e,handler:(0,b.$P)(t)},handled:!1,type:"instrument"}},r=(0,g.HK)(t);return r&&(n.mechanism.data.handler=(0,b.$P)(r)),(0,ee.re)(t,n)})}),e.apply(this,t)}}function e_(e){let t=ee.m9,n=t[e]&&t[e].prototype;if(!!n&&!!n.hasOwnProperty&&!!n.hasOwnProperty("addEventListener"))(0,g.hl)(n,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=(0,ee.re)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,b.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,(0,ee.re)(r,{mechanism:{data:{function:"addEventListener",handler:(0,b.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}}),(0,g.hl)(n,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}})}var eb=n("7073"),eS=n("8169");let eE=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function(e){(0,eb.V)(t=>{let{stackParser:n,attachStacktrace:r}=ek();if((0,y.s3)()!==e||(0,ee.Wz)())return;let{msg:s,url:a,line:o,column:c,error:l}=t,u=function(e,t,n,r){let i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},c=o.frames=o.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,C.HD)(t)&&t.length>0?t:(0,el.l4)();return 0===c.length&&c.push({colno:l,filename:d,function:b.Fi,in_app:!0,lineno:u}),e}(Z(n,l||s,void 0,r,!1),a,o,c);u.level="error",(0,i.eN)(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(e),ew("onerror")),t.onunhandledrejection&&(function(e){(0,eS.h)(t=>{let{stackParser:n,attachStacktrace:r}=ek();if((0,y.s3)()!==e||(0,ee.Wz)())return;let s=function(e){if((0,C.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),a=(0,C.pt)(s)?function(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}(s):Z(n,s,void 0,r,!0);a.level="error",(0,i.eN)(a,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),ew("onunhandledrejection"))}}};function ew(e){X.X&&s.kg.log(`Global Handler attached: ${e}`)}function ek(){let e=(0,y.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let ex=()=>({name:"HttpContext",preprocessEvent(e){if(!ee.m9.navigator&&!ee.m9.location&&!ee.m9.document)return;let t=e.request&&e.request.url||ee.m9.location&&ee.m9.location.href,{referrer:n}=ee.m9.document||{},{userAgent:r}=ee.m9.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});function eM(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function eT(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}let eC=(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){let s=i.getOptions();!function(e,t,n=250,r,i,s,a){if(!s.exception||!s.exception.values||!a||!(0,C.V9)(a.originalException,Error))return;let c=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;c&&(s.exception.values=function(e,t){return e.map(e=>(e.value&&(e.value=(0,o.$G)(e.value,t)),e))}(function e(t,n,r,i,s,a,o,c){if(a.length>=r+1)return a;let l=[...a];if((0,C.V9)(i[s],Error)){eM(o,c);let a=t(n,i[s]),u=l.length;eT(a,s,u,c),l=e(t,n,r,i[s],s,[a,...l],a,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if((0,C.V9)(i,Error)){eM(o,c);let u=t(n,i),d=l.length;eT(u,`errors[${a}]`,d,c),l=e(t,n,r,i,s,[u,...l],u,d)}}),l}(e,t,i,a.originalException,r,s.exception.values,c,0),n))}(J,s.stackParser,s.maxValueLength,n,t,e,r)}}};function eI(e,t,n,r){let i={filename:e,function:"<anonymous>"===t?b.Fi:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let eA=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,eR=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eD=/\((\S*)(?::(\d+))(?::(\d+))\)/,eO=[30,e=>{let t=eA.exec(e);if(t){let[,e,n,r]=t;return eI(e,b.Fi,+n,+r)}let n=eR.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){let e=eD.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}let[e,t]=ej(n[1]||b.Fi,n[2]);return eI(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],eN=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,e$=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eP=[50,e=>{let t=eN.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=e$.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||b.Fi;return[n,e]=ej(n,e),eI(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],eL=(0,b.pE)(eO,eP),ej=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:b.Fi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var eU=n("2287"),eF=n("2766");function eH(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function eW(e,t=(0,eU.L2)("fetch")){let n=0,r=0;return function(e,t,n=function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,I.$2)(new R("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new I.cW((n,r)=>{let i=t.length;if(!i)return n(!0);let s=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,I.WD)(e).then(()=>{!--i&&(clearTimeout(s),n(!0))},r)})})}}}(e.bufferSize||64)){let r={};return{send:function(i){let a=[];if((0,A.gv)(i,(t,n)=>{let i=(0,A.mL)(n);if((0,eF.Q)(r,i)){let r=eH(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else a.push(t)}),0===a.length)return(0,I.WD)({});let o=(0,A.Jd)(i[0],a),l=t=>{(0,A.gv)(o,(n,r)=>{let i=eH(n,r);e.recordDroppedEvent(t,(0,A.mL)(r),i)})};return n.add(()=>t({body:(0,A.V$)(o)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&c.X&&s.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=(0,eF.WG)(r,e),e),e=>{throw l("network_error"),e})).then(e=>e,e=>{if(e instanceof R)return c.X&&s.kg.error("Skipped sending event because buffer is full."),l("queue_overflow"),(0,I.WD)({});throw e})},flush:e=>n.drain(e)}}(e,function(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return(0,eU._6)("fetch"),(0,I.$2)("No fetch implementation available");try{return t(e.url,a).then(e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return(0,eU._6)("fetch"),n-=s,r--,(0,I.$2)(e)}})}var ez=n("5271");function eB(e){let t={...e};return z(t,"react"),(0,i.v)("react",{version:ez.version}),function(e={}){let t=function(e={}){var t;let n={defaultIntegrations:[p(),_(),em(),ef(),eE(),eC(),S(),ex()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:ee.m9.SENTRY_RELEASE&&ee.m9.SENTRY_RELEASE.id?ee.m9.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...n,...e}}(e);if(!t.skipBrowserExtensionCheck&&function(){let e=void 0!==ee.m9.window&&ee.m9;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=ee.m9.location&&ee.m9.location.href||"",s=!!r&&ee.m9===ee.m9.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>i.startsWith(`${e}//`)),a=void 0!==e.nw;return!!r&&!s&&!a}()){(0,s.Cf)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}X.X&&!(0,x.Ak)()&&s.kg.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");let n=function(e,t){!0===t.debug&&(c.X?s.kg.enable():(0,s.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,y.nZ)().update(t.initialScope);let n=new e(t);return function(e){(0,y.nZ)().setClient(e)}(n),n.init(),n}(et,{...t,stackParser:(0,b.Sq)(t.stackParser||eL),integrations:function(e){let t;let n=e.defaultIntegrations||[],r=e.integrations;n.forEach(e=>{e.isDefaultInstance=!0});let i=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];if(!r||!!r.isDefaultInstance||!e.isDefaultInstance)t[n]=e}),Object.values(t)}(t=Array.isArray(r)?[...n,...r]:"function"==typeof r?(0,a.lE)(r(n)):n),s=i.findIndex(e=>"Debug"===e.name);if(s>-1){let[e]=i.splice(s,1);i.push(e)}return i}(t),transport:t.transport||eW});return t.autoSessionTracking&&function(){if(void 0===ee.m9.document){X.X&&s.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,i.yj)({ignoreDuration:!0}),(0,i.cg)(),(0,M.a)(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,i.yj)({ignoreDuration:!0}),(0,i.cg)())})}(),n}(t)}},2054:function(e,t,n){"use strict";n.d(t,{EN:function(){return l},IQ:function(){return u},bU:function(){return a},lq:function(){return o}});var r=n(4150),i=n(6354),s=n(8679);let a="baggage",o="sentry-",c=/^sentry-/;function l(e){let t=function(e){return e&&((0,i.HD)(e)||Array.isArray(e))?Array.isArray(e)?e.reduce((e,t)=>(Object.entries(d(t)).forEach(([t,n])=>{e[t]=n}),e),{}):d(e):void 0}(e);if(!t)return;let n=Object.entries(t).reduce((e,[t,n])=>(t.match(c)&&(e[t.slice(o.length)]=n),e),{});return Object.keys(n).length>0?n:void 0}function u(e){if(!!e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,n],i)=>{let a=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===i?a:`${e},${a}`;return o.length>8192?(r.X&&s.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${o}${t}`]=n),e),{}))}function d(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}},3140:function(e,t,n){"use strict";n.d(t,{Rt:function(){return s},iY:function(){return c},l4:function(){return a},qT:function(){return o}});var r=n(6354);let i=n(8158).n;function s(e,t={}){if(!e)return"<unknown>";try{let n,s=e,a=[],o=0,c=0,l=3,u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;s&&o++<5&&(n=function(e,t){let n=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let s=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(s&&s.length)s.forEach(e=>{n.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&n.push(`#${e.id}`);let t=e.className;if(t&&(0,r.HD)(t))for(let e of t.split(/\s+/))n.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push(`[${t}="${r}"]`)}return n.join("")}(s,u),"html"!==n&&(!(o>1)||!(c+a.length*l+n.length>=d)));){;a.push(n),c+=n.length,s=s.parentNode}return a.reverse().join(" > ")}catch(e){return"<unknown>"}}function a(){try{return i.document.location.href}catch(e){return""}}function o(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function c(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},2191:function(e,t,n){"use strict";function r(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}n.d(t,{x:function(){return r}})},4150:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},4102:function(e,t,n){"use strict";n.d(t,{RA:function(){return a},vK:function(){return c}});var r=n(4150),i=n(8679);let s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function a(e,t=!1){let{host:n,path:r,pass:i,port:s,projectId:o,protocol:c,publicKey:l}=e;return`${c}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${o}`}function o(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function c(e){let t="string"==typeof e?function(e){let t=s.exec(e);if(!t){(0,i.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,a="",c="",l="",u=""]=t.slice(1),d="",h=u,f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){let e=h.match(/^\d+/);e&&(h=e[0])}return o({host:c,pass:a,path:d,projectId:h,port:l,protocol:n,publicKey:r})}(e):o(e);if(!!t&&!!function(e){var t;if(!r.X)return!0;let{port:n,projectId:s,protocol:a}=e;if(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(i.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))return!1;if(!s.match(/^\d+$/))return i.kg.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),!1;return"http"===(t=a)||"https"===t?!(n&&isNaN(parseInt(n,10)))||(i.kg.error(`Invalid Sentry Dsn: Invalid port ${n}`),!1):(i.kg.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1)}(t))return t}},3403:function(e,t,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},913:function(e,t,n){"use strict";n.d(t,{BO:function(){return c},Cd:function(){return y},HY:function(){return g},Jd:function(){return o},KQ:function(){return h},V$:function(){return d},gv:function(){return l},mL:function(){return m},zQ:function(){return f}});var r=n(4102),i=n(2996),s=n(1815),a=n(8158);function o(e,t=[]){return[e,t]}function c(e,t){let[n,r]=e;return[n,[...r,t]]}function l(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function u(e){return a.n.__SENTRY__&&a.n.__SENTRY__.encodePolyfill?a.n.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function d(e){let[t,n]=e,r=JSON.stringify(t);function s(e){"string"==typeof r?r="string"==typeof e?r+e:[u(r),e]:r.push("string"==typeof e?u(e):e)}for(let e of n){let[t,n]=e;if(s(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,i.Fv)(n))}s(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}function h(e){return[{type:"span"},e]}function f(e){let t="string"==typeof e.data?u(e.data):e.data;return[(0,s.Jr)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}let p={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return p[e]}function g(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function y(e,t,n,i){let a=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&i&&{dsn:(0,r.RA)(i)},...a&&{trace:(0,s.Jr)({...a})}}}},7003:function(e,t,n){"use strict";n.d(t,{Uf:function(){return l},cf:function(){return u}});var r=n(6354),i=n(1815),s=n(7365),a=n(8933),o=n(8158),c=n(1794);function l(e,t){let n="fetch";(0,c.Hj)(n,e),(0,c.D2)(n,()=>d(void 0,t))}function u(e){let t="fetch-body-resolved";(0,c.Hj)(t,e),(0,c.D2)(t,()=>d(f))}function d(e,t=!1){if(!t||!!(0,s.t$)())(0,i.hl)(o.n,"fetch",function(t){return function(...n){let{method:s,url:l}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:m(t),method:p(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:m(t),method:p(t,"method")?String(t.method).toUpperCase():"GET"}}(n),u={args:n,fetchData:{method:s,url:l},startTimestamp:1e3*(0,a.ph)()};!e&&(0,c.rK)("fetch",{...u});let d=Error().stack;return t.apply(o.n,n).then(async t=>(e?e(t):(0,c.rK)("fetch",{...u,endTimestamp:1e3*(0,a.ph)(),response:t}),t),e=>{throw(0,c.rK)("fetch",{...u,endTimestamp:1e3*(0,a.ph)(),error:e}),(0,r.VZ)(e)&&void 0===e.stack&&(e.stack=d,(0,i.xp)(e,"framesToPop",1)),e})}})}async function h(e,t){if(e&&e.body){let n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4),s=!0;for(;s;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:i}=await r.read();clearTimeout(e),i&&(t(),s=!1)}catch(e){s=!1}finally{clearTimeout(e)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function f(e){let t;try{t=e.clone()}catch(e){return}h(t,()=>{(0,c.rK)("fetch-body-resolved",{endTimestamp:1e3*(0,a.ph)(),response:e})})}function p(e,t){return!!e&&"object"==typeof e&&!!e[t]}function m(e){return"string"==typeof e?e:e?p(e,"url")?e.url:e.toString?e.toString():"":""}},7073:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(8158),i=n(1794);let s=null;function a(e){let t="error";(0,i.Hj)(t,e),(0,i.D2)(t,o)}function o(){s=r.n.onerror,r.n.onerror=function(e,t,n,r,a){return(0,i.rK)("error",{column:r,error:a,line:n,msg:e,url:t}),!!s&&!s.__SENTRY_LOADER__&&s.apply(this,arguments)},r.n.onerror.__SENTRY_INSTRUMENTED__=!0}},8169:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(8158),i=n(1794);let s=null;function a(e){let t="unhandledrejection";(0,i.Hj)(t,e),(0,i.D2)(t,o)}function o(){s=r.n.onunhandledrejection,r.n.onunhandledrejection=function(e){return(0,i.rK)("unhandledrejection",e),!s||!!s.__SENTRY_LOADER__||s.apply(this,arguments)},r.n.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},1794:function(e,t,n){"use strict";n.d(t,{D2:function(){return l},Hj:function(){return c},rK:function(){return u}});var r=n(4150),i=n(8679),s=n(6888);let a={},o={};function c(e,t){a[e]=a[e]||[],a[e].push(t)}function l(e,t){if(!o[e]){o[e]=!0;try{t()}catch(t){r.X&&i.kg.error(`Error while instrumenting ${e}`,t)}}}function u(e,t){let n=e&&a[e];if(!!n)for(let a of n)try{a(t)}catch(t){r.X&&i.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,s.$P)(a)}
Error:`,t)}}},6354:function(e,t,n){"use strict";n.d(t,{Cy:function(){return y},HD:function(){return l},J8:function(){return g},Kj:function(){return m},Le:function(){return u},PO:function(){return h},TX:function(){return o},V9:function(){return v},VW:function(){return a},VZ:function(){return i},cO:function(){return f},fm:function(){return c},kK:function(){return p},pt:function(){return d},y1:function(){return _}});let r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return v(e,Error)}}function s(e,t){return r.call(e)===`[object ${t}]`}function a(e){return s(e,"ErrorEvent")}function o(e){return s(e,"DOMError")}function c(e){return s(e,"DOMException")}function l(e){return s(e,"String")}function u(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!=typeof e&&"function"!=typeof e}function h(e){return s(e,"Object")}function f(e){return"undefined"!=typeof Event&&v(e,Event)}function p(e){return"undefined"!=typeof Element&&v(e,Element)}function m(e){return s(e,"RegExp")}function g(e){return!!(e&&e.then&&"function"==typeof e.then)}function y(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}function _(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},8679:function(e,t,n){"use strict";n.d(t,{Cf:function(){return o},LD:function(){return a},RU:function(){return s},kg:function(){return c}});var r=n(4150),i=n(8158);let s=["debug","info","warn","error","log","assert","trace"],a={};function o(e){if(!("console"in i.n))return e();let t=i.n.console,n={},r=Object.keys(a);r.forEach(e=>{let r=a[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let c=(0,i.Y)("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?s.forEach(n=>{t[n]=(...t)=>{e&&o(()=>{i.n.console[n](`Sentry Logger [${n}]:`,...t)})}}):s.forEach(e=>{t[e]=()=>void 0}),t})},8910:function(e,t,n){"use strict";n.d(t,{DM:function(){return s},Db:function(){return c},EG:function(){return l},YO:function(){return u},jH:function(){return o},lE:function(){return d}});var r=n(1815),i=n(8158);function s(){let e=i.n,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function o(e){let{message:t,event_id:n}=e;if(t)return t;let r=a(e);if(r)return r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>";return n||"<unknown>"}function c(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};!s.value&&(s.value=t||""),!s.type&&(s.type=n||"Error")}function l(e,t){let n=a(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},2996:function(e,t,n){"use strict";n.d(t,{Fv:()=>a,Qy:()=>function e(t,n=3,r=102400){let i=a(t,n);return function(e){return~-encodeURI(JSON.stringify(e)).split(/%..|./).length}(i)>r?e(t,n-1,r):i}});var r=n("6354"),i=n("1815"),s=n("6888");function a(e,t=100,n=Infinity){try{return function e(t,n,a=Infinity,o=Infinity,c=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[l,u]=c;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n))return n;let d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${(0,s.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let n=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(n))return`[HTMLElement: ${n}]`;return`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(t,n);if(!d.startsWith("[object "))return d;if(n.__sentry_skip_normalization__)return n;let h="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:a;if(0===h)return d.replace("object ","");if(l(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let t=n.toJSON();return e("",t,h-1,o,c)}catch(e){}let f=Array.isArray(n)?[]:{},p=0,m=(0,i.Sh)(n);for(let t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;if(p>=o){f[t]="[MaxProperties ~]";break}let n=m[t];f[t]=e(t,n,h-1,o,c),p++}return u(n),f}("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},1815:function(e,t,n){"use strict";n.d(t,{$Q:function(){return u},HK:function(){return d},Jr:function(){return y},Sh:function(){return f},_j:function(){return h},hl:function(){return c},xp:function(){return l},zf:function(){return g}});var r=n(3140),i=n(4150),s=n(6354),a=n(8679),o=n(3147);function c(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&u(i,r),e[t]=i}function l(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.X&&a.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,l(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function f(e){if((0,s.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if(!(0,s.cO)(e))return e;{let t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,s.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function p(e){try{return(0,s.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function g(e,t=40){let n=Object.keys(f(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return(0,o.$G)(r,t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return(0,o.$G)(r,t)}}return""}function y(e){return function e(t,n){if(function(e){if(!(0,s.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.getOwnPropertyNames(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}},4502:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(8910);function i(){return{traceId:(0,r.DM)(),spanId:(0,r.DM)().substring(16)}}},2766:function(e,t,n){"use strict";n.d(t,{Q:function(){return r},WG:function(){return i}});function r(e,t,n=Date.now()){var i;return((i=e)[t]||i.all||0)>n}function i(e,{statusCode:t,headers:n},r=Date.now()){let s={...e},a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(let e of a.trim().split(",")){let[t,n,,,i]=e.split(":",5),a=parseInt(t,10),o=(isNaN(a)?60:a)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!i||i.split(";").includes("custom"))&&(s[e]=r+o):s[e]=r+o;else s.all=r+o}else o?s.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(o,r):429===t&&(s.all=r+6e4);return s}},1123:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});let r=["fatal","error","warning","log","info","debug"];function i(e){return"warn"===e?"warning":r.includes(e)?e:"log"}},6888:function(e,t,n){"use strict";n.d(t,{$P:function(){return u},Fi:function(){return r},Fr:function(){return d},Sq:function(){return o},pE:function(){return a}});let r="?",i=/\(error: (.*)\)/,s=/captureMessage|captureException/;function a(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,a=0)=>{let o=[],l=e.split("\n");for(let e=n;e<l.length;e++){let n=l[e];if(n.length>1024)continue;let r=i.test(n)?n.replace(i,"$1"):n;if(!r.match(/\S*Error: /)){for(let e of t){let t=e(r);if(t){o.push(t);break}}if(o.length>=50+a)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(c(t).function||"")&&t.pop(),t.reverse(),s.test(c(t).function||"")&&(t.pop(),s.test(c(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||c(t).filename,function:e.function||r}))}(o.slice(a))}}function o(e){return Array.isArray(e)?a(...e):e}function c(e){return e[e.length-1]||{}}let l="<anonymous>";function u(e){try{if(!e||"function"!=typeof e)return l;return e.name||l}catch(e){return l}}function d(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}},3147:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return a},nK:function(){return s}});var r=n(6354);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,r.y1)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))})(e,t,n))}},7365:function(e,t,n){"use strict";n.d(t,{Ak:function(){return a},QC:function(){return o},t$:function(){return c}});var r=n(4150),i=n(8679);let s=n(8158).n;function a(){if(!("fetch"in s))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function o(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if("string"==typeof EdgeRuntime)return!0;if(!a())return!1;if(o(s.fetch))return!0;let e=!1,t=s.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=o(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){r.X&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}},340:function(e,t,n){"use strict";n.d(t,{$2:function(){return o},WD:function(){return a},cW:function(){return c}});var r,i,s=n(6354);function a(e){return new c(t=>{t(e)})}function o(e){return new c((t,n)=>{n(e)})}(r=i||(i={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class c{constructor(e){c.prototype.__init.call(this),c.prototype.__init2.call(this),c.prototype.__init3.call(this),c.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new c((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new c((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===i.PENDING){if((0,s.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{if(!e[0])this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0})}}}},8933:function(e,t,n){"use strict";let r;n.d(t,{Z1:function(){return o},ph:function(){return a},yW:function(){return s}});var i=n(8158);function s(){return Date.now()/1e3}let a=function(){let{performance:e}=i.n;if(!e||!e.now)return s;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),o=(()=>{let{performance:e}=i.n;if(!e||!e.now)return;let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+t-n):36e5;if(r<36e5||a<36e5)return r<=a?e.timeOrigin:s;return n})()},2339:function(e,t,n){"use strict";n.d(t,{$p:function(){return o},pT:function(){return a}});var r=n(2054),i=n(8910);let s=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function a(e,t){let n=function(e){let t;if(!e)return;let n=e.match(s);if(!!n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(e),a=(0,r.EN)(t),{traceId:o,parentSpanId:c,parentSampled:l}=n||{};return n?{traceId:o||(0,i.DM)(),parentSpanId:c||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:l,dsc:a||{}}:{traceId:o||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}function o(e=(0,i.DM)(),t=(0,i.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},4351:function(e,t,n){"use strict";function r(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}n.d(t,{en:function(){return r}})},3247:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="8.37.1"},8158:function(e,t,n){"use strict";n.d(t,{Y:function(){return s},n:function(){return i}});var r=n(3247);let i=globalThis;function s(e,t,n){let s=n||i,a=s.__SENTRY__=s.__SENTRY__||{},o=a[r.J]=a[r.J]||{};return o[e]||(o[e]=t())}},2623:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2287:function(e,t,n){"use strict";n.d(t,{L2:function(){return c},_6:function(){return l},iK:function(){return u}});var r=n(7365),i=n(8679),s=n(2623),a=n(9086);let o={};function c(e){let t=o[e];if(t)return t;let n=a.m[e];if((0,r.QC)(n))return o[e]=n.bind(a.m);let c=a.m.document;if(c&&"function"==typeof c.createElement)try{let t=c.createElement("iframe");t.hidden=!0,c.head.appendChild(t);let r=t.contentWindow;r&&r[e]&&(n=r[e]),c.head.removeChild(t)}catch(t){s.X&&i.kg.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,t)}return n?o[e]=n.bind(a.m):n}function l(e){o[e]=void 0}function u(...e){return c("setTimeout")(...e)}},5312:function(e,t,n){"use strict";let r,i,s;n.d(t,{O:function(){return u}});var a=n(1794),o=n(1815),c=n(8910),l=n(9086);function u(e){(0,a.Hj)("dom",e),(0,a.D2)("dom",d)}function d(){if(!l.m.document)return;let e=a.rK.bind(null,"dom"),t=h(e,!0);l.m.document.addEventListener("click",t,!1),l.m.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=l.m[t]&&l.m[t].prototype;if(!!n&&!!n.hasOwnProperty&&!!n.hasOwnProperty("addEventListener"))(0,o.hl)(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){let r=h(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}}),(0,o.hl)(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})})}function h(e,t=!1){return n=>{var a,u;if(!n||n._sentryCaptured)return;let d=function(e){try{return e.target}catch(e){return null}}(n);if(a=n.type,u=d,"keypress"===a&&(!u||!u.tagName||"INPUT"!==u.tagName&&"TEXTAREA"!==u.tagName&&!u.isContentEditable))return;(0,o.xp)(n,"_sentryCaptured",!0),d&&!d._sentryId&&(0,o.xp)(d,"_sentryId",(0,c.DM)());let h="keypress"===n.type?"input":n.type;!function(e){if(e.type!==i)return!1;try{if(!e.target||e.target._sentryId!==s)return!1}catch(e){}return!0}(n)&&(e({event:n,name:h,global:t}),i=n.type,s=d?d._sentryId:void 0),clearTimeout(r),r=l.m.setTimeout(()=>{s=void 0,i=void 0},1e3)}}},6199:function(e,t,n){"use strict";let r;n.d(t,{a:()=>c});var i=n("1794");let s=n("8158").n;var a=n("1815"),o=n("9086");function c(e){let t="history";(0,i.Hj)(t,e),(0,i.D2)(t,l)}function l(){if(!function(){let e=s.chrome,t=e&&e.app&&e.app.runtime,n="history"in s&&!!s.history.pushState&&!!s.history.replaceState;return!t&&n}())return;let e=o.m.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=r,t=String(n);r=t;(0,i.rK)("history",{from:e,to:t})}return e.apply(this,t)}}o.m.onpopstate=function(...t){let n=o.m.location.href,s=r;r=n;if((0,i.rK)("history",{from:s,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,a.hl)(o.m.history,"pushState",t),(0,a.hl)(o.m.history,"replaceState",t)}},1478:function(e,t,n){"use strict";n.d(t,{UK:function(){return c},xU:function(){return o}});var r=n(1794),i=n(8933),s=n(6354),a=n(9086);let o="__sentry_xhr_v3__";function c(e){(0,r.Hj)("xhr",e),(0,r.D2)("xhr",l)}function l(){if(!a.m.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){let a=1e3*(0,i.ph)(),c=(0,s.HD)(n[0])?n[0].toUpperCase():void 0,l=function(e){if((0,s.HD)(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!c||!l)return e.apply(t,n);t[o]={method:c,url:l,request_headers:{}},"POST"===c&&l.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let u=()=>{let e=t[o];if(!!e){if(4===t.readyState){try{e.status_code=t.status}catch(e){}let n={endTimestamp:1e3*(0,i.ph)(),startTimestamp:a,xhr:t};(0,r.rK)("xhr",n)}}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(u(),e.apply(t,n))}):t.addEventListener("readystatechange",u),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){let[r,i]=n,a=t[o];return a&&(0,s.HD)(r)&&(0,s.HD)(i)&&(a.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){let s=t[o];if(!s)return e.apply(t,n);void 0!==n[0]&&(s.body=n[0]);let a={startTimestamp:1e3*(0,i.ph)(),xhr:t};return(0,r.rK)("xhr",a),e.apply(t,n)}})}},9849:function(e,t,n){"use strict";let r,i,s,a,o,c;n.d(t,{$A:()=>Z,_j:()=>en,_4:()=>ee,cN:()=>eh,PR:()=>V,to:()=>Q,YF:()=>et});var l=n("8679"),u=n("6888"),d=n("2623");let h=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",f=(e,t,n,r)=>{let i,s;return a=>{t.value>=0&&(a||r)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,t.rating=h(t.value,n),e(t))}};var p=n("9086");let m=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;var g=n("1974"),y=n("7343");let v=(e,t)=>{let n=(0,y.W)(),r="navigate";return n&&(p.m.document&&p.m.document.prerendering||(0,g.A)()>0?r="prerender":p.m.document&&p.m.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:m(),navigationType:r}},_=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}};var b=n("721");let S=e=>{let t=!1;return n=>{!t&&(e(n),t=!0)}};var E=n("2413");let w=e=>{p.m.document&&p.m.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},k=[1800,3e3],x=(e,t={})=>{w(()=>{let n;let r=(0,E.Y)(),i=v("FCP"),s=_("paint",e=>{e.forEach(e=>{"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-(0,g.A)(),0),i.entries.push(e),n(!0)))})});s&&(n=f(e,i,k,t.reportAllChanges))})},M=[.1,.25],T=(e,t={})=>{x(S(()=>{let n;let r=v("CLS",0),i=0,s=[],a=e=>{e.forEach(e=>{if(!e.hadRecentInput){let t=s[0],n=s[s.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}}),i>r.value&&(r.value=i,r.entries=s,n())},o=_("layout-shift",a);o&&(n=f(e,r,M,t.reportAllChanges),(0,b.u)(()=>{a(o.takeRecords()),n(!0)}),setTimeout(n,0))}))},C=[100,300],I=(e,t={})=>{w(()=>{let n;let r=(0,E.Y)(),i=v("FID"),s=e=>{e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},a=e=>{e.forEach(s)},o=_("first-input",a);n=f(e,i,C,t.reportAllChanges),o&&(0,b.u)(S(()=>{a(o.takeRecords()),o.disconnect()}))})},A=0,R=1/0,D=0,O=e=>{e.forEach(e=>{e.interactionId&&(R=Math.min(R,e.interactionId),A=(D=Math.max(D,e.interactionId))?(D-R)/7+1:0)})},N=()=>r?A:performance.interactionCount||0,$=()=>{!("interactionCount"in performance)&&!r&&(r=_("event",O,{type:"event",buffered:!0,durationThreshold:0}))},P=[200,500],L=()=>N()-0,j=[],U={},F=e=>{let t=j[j.length-1],n=U[e.interactionId];if(n||j.length<10||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};U[t.id]=t,j.push(t)}j.sort((e,t)=>t.latency-e.latency),j.splice(10).forEach(e=>{delete U[e.id]})}},H=()=>{let e=Math.min(j.length-1,Math.floor(L()/50));return j[e]},W=(e,t={})=>{w(()=>{let n;$();let r=v("INP"),i=e=>{e.forEach(e=>{e.interactionId&&F(e),"first-input"===e.entryType&&!j.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))&&F(e)});let t=H();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())},s=_("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});n=f(e,r,P,t.reportAllChanges),s&&("PerformanceEventTiming"in p.m&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),(0,b.u)(()=>{i(s.takeRecords()),r.value<0&&L()>0&&(r.value=0,r.entries=[]),n(!0)}))})},z=[2500,4e3],B={},X=(e,t={})=>{w(()=>{let n;let r=(0,E.Y)(),i=v("LCP"),s=e=>{let t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-(0,g.A)(),0),i.entries=[t],n())},a=_("largest-contentful-paint",s);if(a){n=f(e,i,z,t.reportAllChanges);let r=S(()=>{!B[i.id]&&(s(a.takeRecords()),a.disconnect(),B[i.id]=!0,n(!0))});["keydown","click"].forEach(e=>{p.m.document&&addEventListener(e,()=>setTimeout(r,0),!0)}),(0,b.u)(r)}})},q=[800,1800],J=e=>{p.m.document&&p.m.document.prerendering?w(()=>J(e)):p.m.document&&"complete"!==p.m.document.readyState?addEventListener("load",()=>J(e),!0):setTimeout(e,0)},G=(e,t={})=>{let n=v("TTFB"),r=f(e,n,q,t.reportAllChanges);J(()=>{let e=(0,y.W)();if(e){let t=e.responseStart;if(t<=0||t>performance.now())return;n.value=Math.max(t-(0,g.A)(),0),n.entries=[e],r(!0)}})},Y={},K={};function V(e,t=!1){return el("cls",e,ei,i,t)}function Z(e,t=!1){return el("lcp",e,ea,a,t)}function Q(e){return el("fid",e,es,s)}function ee(e){return el("ttfb",e,eo,o)}function et(e){return el("inp",e,ec,c)}function en(e,t){return eu(e,t),!K[e]&&(function(e){let t={};"event"===e&&(t.durationThreshold=0),_(e,t=>{er(e,{entries:t})},t)}(e),K[e]=!0),ed(e,t)}function er(e,t){let n=Y[e];if(!!n&&!!n.length)for(let r of n)try{r(t)}catch(t){d.X&&l.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,u.$P)(r)}
Error:`,t)}}function ei(){return T(e=>{er("cls",{metric:e}),i=e},{reportAllChanges:!0})}function es(){return I(e=>{er("fid",{metric:e}),s=e})}function ea(){return X(e=>{er("lcp",{metric:e}),a=e},{reportAllChanges:!0})}function eo(){return G(e=>{er("ttfb",{metric:e}),o=e})}function ec(){return W(e=>{er("inp",{metric:e}),c=e})}function el(e,t,n,r,i=!1){let s;return eu(e,t),!K[e]&&(s=n(),K[e]=!0),r&&t({metric:r}),ed(e,t,i?s:void 0)}function eu(e,t){Y[e]=Y[e]||[],Y[e].push(t)}function ed(e,t,n){return()=>{n&&n();let r=Y[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function eh(e){return"duration"in e}},1974:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(7343);let i=()=>{let e=(0,r.W)();return e&&e.activationStart||0}},7343:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(9086);let i=()=>r.m.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},2413:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(9086);let i=-1,s=()=>{i="hidden"!==r.m.document.visibilityState||r.m.document.prerendering?1/0:0},a=e=>{"hidden"===r.m.document.visibilityState&&i>-1&&(i="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",a,!0),removeEventListener("prerenderingchange",a,!0))},o=()=>{addEventListener("visibilitychange",a,!0),addEventListener("prerenderingchange",a,!0)},c=()=>(r.m.document&&i<0&&(s(),o()),{get firstHiddenTime(){return i}})},721:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(9086);let i=e=>{let t=t=>{("pagehide"===t.type||r.m.document&&"hidden"===r.m.document.visibilityState)&&e(t)};r.m.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))}},9086:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});let r=n(8158).n},149:function(e,t,n){"use strict";let r,i,s,a,o,c;n.d(t,{G:()=>nJ});var l,u,d,h,f,p,m,g,y=n("2191"),v=n("3697"),_=n("2382"),b=n("7346");function S(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var E=n("3110"),w=n("6036"),k=n("7354"),x=n("8573"),M=n("6333"),T=n("8158"),C=n("8679"),I=n("1123"),A=n("2996"),R=n("1815"),D=n("3140"),O=n("8933"),N=n("8910"),$=n("3147"),P=n("913"),L=n("340"),j=n("2766"),U=n("3403");function F(){return"undefined"!=typeof window&&(!(!(0,U.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))||function(){return void 0!==T.n.process&&"renderer"===T.n.process.type}())}var H=n("2287"),W=n("9849"),z=n("1478"),B=n("5312"),X=n("6199");let q=T.n,J="sentryReplaySession",G="Unable to send Replay";function Y(e,t){return null!=e?e:t()}function K(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}(l=m||(m={}))[l.Document=0]="Document",l[l.DocumentType=1]="DocumentType",l[l.Element=2]="Element",l[l.Text=3]="Text",l[l.CDATA=4]="CDATA",l[l.Comment=5]="Comment";function V(e){let t=K([e,"optionalAccess",e=>e.host]);return K([t,"optionalAccess",e=>e.shadowRoot])===e}function Z(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Q(e){try{var t;let n=e.rules||e.cssRules;return n?((t=Array.from(n,ee).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function ee(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Q(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){return e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(e.cssText);return t||e.cssText}class et{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){return e?Y(K([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]),()=>-1):-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function en({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function er({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function ei(e){return e.toLowerCase()}function es(e){return e.toUpperCase()}let ea="__rrweb_original__";function eo(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ei(t):null}function ec(e,t,n){return"INPUT"===t&&("radio"===n||"checkbox"===n)?e.getAttribute("value")||"":e.value}function el(e,t){let n;try{n=new URL(e,Y(t,()=>window.location.href))}catch(e){return null}return Y(K([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",e=>e[1]]),()=>null)}let eu={};function ed(e){let t=eu[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return eu[e]=r.bind(window)}function eh(...e){return ed("setTimeout")(...e)}function ef(...e){return ed("clearTimeout")(...e)}let ep=1,em=RegExp("[^a-z0-9-_:]");function eg(){return ep++}let ey=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ev=/^(?:[a-z+]+:)?\/\//i,e_=/^www\..*/i,eb=/^(data:)([^,]*),(.*)/i;function eS(e,t){return(e||"").replace(ey,(e,n,r,i,s,a)=>{let o=r||s||a,c=n||i||"";if(!o)return e;if(ev.test(o)||e_.test(o)||eb.test(o))return`url(${c}${o}${c})`;if("/"===o[0]){var l;let e;return`url(${c}${e="",(e=(e=(l=t).indexOf("//")>-1?l.split("/").slice(0,3).join("/"):l.split("/")[0]).split("?")[0])+o}${c})`}let u=t.split("/"),d=o.split("/");for(let e of(u.pop(),d)){if("."!==e)".."===e?u.pop():u.push(e)}return`url(${c}${u.join("/")}${c})`})}let eE=/^[^ \t\n\r\u000c]+/,ew=/^[, \t\n\r\u000c]+/,ek=new WeakMap;function ex(e,t){return t&&""!==t.trim()?eM(e,t):t}function eM(e,t){let n=ek.get(e);if(!n&&(n=e.createElement("a"),ek.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function eT(e,t,n,r,i,s){if(!r)return r;if("src"===n||"href"===n&&!("use"===t&&"#"===r[0]))return ex(e,r);if("xlink:href"===n&&"#"!==r[0])return ex(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return ex(e,r);else if("srcset"===n)return function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;let i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(ew),!(n>=t.length);){;let s=r(eE);if(","===s.slice(-1))s=ex(e,s.substring(0,s.length-1)),i.push(s);else{let r="";s=ex(e,s);let a=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((s+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,i.push((s+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r);else if("style"===n)return eS(r,eM(e));else if("object"===t&&"data"===n)return ex(e,r);return"function"==typeof s?s(n,r,i):r}function eC(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function eI(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:eI(e.parentNode,t,n,r+1)}function eA(e,t){return n=>{if(null===n)return!1;try{if(e){if("string"==typeof e){if(n.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}(n,e))return!0}if(t&&n.matches(t))return!0;return!1}catch(e){return!1}}}function eR(e,t,n,r,i,s){try{let a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){let e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let o=-1,c=-1;if(s){if((c=eI(a,eA(r,i)))<0)return!0;o=eI(a,eA(t,n),c>=0?c:1/0)}else{if((o=eI(a,eA(t,n)))<0)return!1;c=eI(a,eA(r,i),o>=0?o:1/0)}return o>=0?!(c>=0)||o<=c:!(c>=0)&&!!s}catch(e){}return!!s}function eD(e){return null==e?"":e.toLowerCase()}function eO(e,t){let n;let{doc:s,mirror:a,blockClass:o,blockSelector:c,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:g=!1,inlineStylesheet:y=!0,maskInputOptions:v={},maskAttributeFn:_,maskTextFn:b,maskInputFn:S,slimDOMOptions:E,dataURLOptions:w={},inlineImages:k=!1,recordCanvas:x=!1,onSerialize:M,onIframeLoad:T,iframeLoadTimeout:C=5e3,onStylesheetLoad:I,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:D=!1}=t,{preserveWhiteSpace:O=!0}=t,N=function(e,t){let{doc:n,mirror:s,blockClass:a,blockSelector:o,unblockSelector:c,maskAllText:l,maskAttributeFn:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:y={},maskTextFn:v,maskInputFn:_,dataURLOptions:b={},inlineImages:S,recordCanvas:E,keepIframeSrcFn:w,newlyAddedElement:k=!1}=t,x=function(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return 1===n?void 0:n}(n,s);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:m.Document,childNodes:[],compatMode:e.compatMode};return{type:m.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:m.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return function(e,t){var n;let s;let{doc:a,blockClass:o,blockSelector:c,unblockSelector:l,inlineStylesheet:u,maskInputOptions:d={},maskAttributeFn:h,maskInputFn:f,dataURLOptions:p={},inlineImages:g,recordCanvas:y,keepIframeSrcFn:v,newlyAddedElement:_=!1,rootId:b,maskAllText:S,maskTextClass:E,unmaskTextClass:w,maskTextSelector:k,unmaskTextSelector:x}=t,M=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,o,c,l),T=function(e){if(e instanceof HTMLFormElement)return"form";let t=ei(e.tagName);return em.test(t)?"div":t}(e),C={},I=e.attributes.length;for(let t=0;t<I;t++){let n=e.attributes[t];n.name&&!eC(T,n.name,n.value)&&(C[n.name]=eT(a,T,ei(n.name),n.value,e,h))}if("link"===T&&u){let t=Array.from(a.styleSheets).find(t=>t.href===e.href),n=null;t&&(n=Q(t)),n&&(delete C.rel,delete C.href,C._cssText=eS(n,t.href))}if("style"===T&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=Q(e.sheet);t&&(C._cssText=eS(t,eM(a)))}if("input"===T||"textarea"===T||"select"===T||"option"===T){let t=eo(e),n=ec(e,es(T),t),r=e.checked;if("submit"!==t&&"button"!==t&&n){let r=eR(e,E,k,w,x,en({type:t,tagName:es(T),maskInputOptions:d}));C.value=er({isMasked:r,element:e,value:n,maskInputFn:f})}r&&(C.checked=r)}if("option"===T&&(e.selected&&!d.select?C.selected=!0:delete C.selected),"canvas"===T&&y){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){let i=t.getImageData;if(new Uint32Array((ea in i?i[ea]:i).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(C.rr_dataURL=e.toDataURL(p.type,p.quality));else if(!("__context"in e)){let t=e.toDataURL(p.type,p.quality),n=a.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(p.type,p.quality)&&(C.rr_dataURL=t)}}if("img"===T&&g){!r&&(i=(r=a.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",n=e.crossOrigin,s=()=>{e.removeEventListener("load",s);try{r.width=e.naturalWidth,r.height=e.naturalHeight,i.drawImage(e,0,0),C.rr_dataURL=r.toDataURL(p.type,p.quality)}catch(n){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s);return}console.warn(`Cannot inline img src=${t}! Error: ${n}`)}"anonymous"===e.crossOrigin&&(n?C.crossOrigin=n:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?s():e.addEventListener("load",s)}if(("audio"===T||"video"===T)&&(C.rr_mediaState=e.paused?"paused":"played",C.rr_mediaCurrentTime=e.currentTime),!_&&(e.scrollLeft&&(C.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(C.rr_scrollTop=e.scrollTop)),M){let{width:t,height:n}=e.getBoundingClientRect();C={class:C.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"===T&&!v(C.src)&&(!M&&!e.contentDocument&&(C.rr_src=C.src),delete C.src);try{customElements.get(T)&&(s=!0)}catch(e){}return{type:m.Element,tagName:T,attributes:C,childNodes:[],isSVG:!!("svg"===(n=e).tagName||n.ownerSVGElement)||void 0,needBlock:M,rootId:b,isCustom:s}}(e,{doc:n,blockClass:a,blockSelector:o,unblockSelector:c,inlineStylesheet:g,maskAttributeFn:u,maskInputOptions:y,maskInputFn:_,dataURLOptions:b,inlineImages:S,recordCanvas:E,keepIframeSrcFn:w,newlyAddedElement:k,rootId:x,maskAllText:l,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName,h=e.textContent,f="STYLE"===d||void 0,p="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(f&&h){try{e.nextSibling||e.previousSibling||K([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=Q(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}h=eS(h,eM(t.doc))}p&&(h="SCRIPT_PLACEHOLDER");let y=eR(e,r,s,i,a,n);return!f&&!p&&!g&&h&&y&&(h=o?o(h,e.parentElement):h.replace(/[\S]/g,"*")),g&&h&&(c.textarea||y)&&(h=l?l(h,e.parentNode):h.replace(/[\S]/g,"*")),"OPTION"===d&&h&&(h=er({isMasked:eR(e,r,s,i,a,en({type:null,tagName:d,maskInputOptions:c})),element:e,value:h,maskInputFn:l})),{type:m.Text,textContent:h||"",isStyle:f,rootId:u}}(e,{doc:n,maskAllText:l,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,maskTextFn:v,maskInputOptions:y,maskInputFn:_,rootId:x});case e.CDATA_SECTION_NODE:return{type:m.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:m.Comment,textContent:e.textContent||"",rootId:x};default:return!1}}(e,{doc:s,mirror:a,blockClass:o,blockSelector:c,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:v,maskAttributeFn:_,maskTextFn:b,maskInputFn:S,dataURLOptions:w,inlineImages:k,recordCanvas:x,keepIframeSrcFn:R,newlyAddedElement:D});if(!N)return console.warn(e,"not serialized"),null;n=a.hasNode(e)?a.getId(e):!function(e,t){if(t.comment&&e.type===m.Comment)return!0;if(e.type===m.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===el(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(eD(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===eD(e.attributes.name)||"icon"===eD(e.attributes.rel)||"apple-touch-icon"===eD(e.attributes.rel)||"shortcut icon"===eD(e.attributes.rel))))return!0;else if("meta"===e.tagName){if(t.headMetaDescKeywords&&eD(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(eD(e.attributes.property).match(/^(og|twitter|fb):/)||eD(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===eD(e.attributes.name)))return!0;else if(t.headMetaRobots&&("robots"===eD(e.attributes.name)||"googlebot"===eD(e.attributes.name)||"bingbot"===eD(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===eD(e.attributes.name)||"generator"===eD(e.attributes.name)||"framework"===eD(e.attributes.name)||"publisher"===eD(e.attributes.name)||"progid"===eD(e.attributes.name)||eD(e.attributes.property).match(/^article:/)||eD(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===eD(e.attributes.name)||"yandex-verification"===eD(e.attributes.name)||"csrf-token"===eD(e.attributes.name)||"p:domain_verify"===eD(e.attributes.name)||"verify-v1"===eD(e.attributes.name)||"verification"===eD(e.attributes.name)||"shopify-checkout-api-token"===eD(e.attributes.name)))return!0}}return!1}(N,E)&&(O||N.type!==m.Text||N.isStyle||N.textContent.replace(/^\s+|\s+$/gm,"").length)?eg():-2;let $=Object.assign(N,{id:n});if(a.add(e,$),-2===n)return null;M&&M(e);let P=!g;if($.type===m.Element){P=P&&!$.needBlock,delete $.needBlock;let t=e.shadowRoot;t&&Z(t)&&($.isShadowHost=!0)}if(($.type===m.Document||$.type===m.Element)&&P){var L;E.headWhitespace&&$.type===m.Element&&"head"===$.tagName&&(O=!1);let t={doc:s,mirror:a,blockClass:o,blockSelector:c,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:g,inlineStylesheet:y,maskInputOptions:v,maskAttributeFn:_,maskTextFn:b,maskInputFn:S,slimDOMOptions:E,dataURLOptions:w,inlineImages:k,recordCanvas:x,preserveWhiteSpace:O,onSerialize:M,onIframeLoad:T,iframeLoadTimeout:C,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:R};for(let n of Array.from(e.childNodes)){let e=eO(n,t);e&&$.childNodes.push(e)}if((L=e).nodeType===L.ELEMENT_NODE&&e.shadowRoot)for(let n of Array.from(e.shadowRoot.childNodes)){let r=eO(n,t);r&&(Z(e.shadowRoot)&&(r.isShadow=!0),$.childNodes.push(r))}}return e.parentNode&&V(e.parentNode)&&Z(e.parentNode)&&($.isShadow=!0),$.type===m.Element&&"iframe"===$.tagName&&!function(e,t,n){let r;let i=e.contentWindow;if(!i)return;let s=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){let r=eh(()=>{!s&&(t(),s=!0)},n);e.addEventListener("load",()=>{ef(r),s=!0,t()});return}let a="about:blank";if(i.location.href!==a||e.src===a||""===e.src)return eh(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=e.contentDocument;if(t&&T){let n=eO(t,{doc:t,mirror:a,blockClass:o,blockSelector:c,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:v,maskAttributeFn:_,maskTextFn:b,maskInputFn:S,slimDOMOptions:E,dataURLOptions:w,inlineImages:k,recordCanvas:x,preserveWhiteSpace:O,onSerialize:M,onIframeLoad:T,iframeLoadTimeout:C,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:R});n&&T(e,n)}},C),$.type===m.Element&&"link"===$.tagName&&"string"==typeof $.attributes.rel&&("stylesheet"===$.attributes.rel||"preload"===$.attributes.rel&&"string"==typeof $.attributes.href&&"css"===el($.attributes.href))&&!function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;let s=eh(()=>{!i&&(t(),i=!0)},n);e.addEventListener("load",()=>{ef(s),i=!0,t()})}(e,()=>{if(I){let t=eO(e,{doc:s,mirror:a,blockClass:o,blockSelector:c,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:v,maskAttributeFn:_,maskTextFn:b,maskInputFn:S,slimDOMOptions:E,dataURLOptions:w,inlineImages:k,recordCanvas:x,preserveWhiteSpace:O,onSerialize:M,onIframeLoad:T,iframeLoadTimeout:C,onStylesheetLoad:I,stylesheetLoadTimeout:A,keepIframeSrcFn:R});t&&I(e,t)}},A),$}function eN(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}function e$(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let eP="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",eL={map:{},getId:()=>(console.error(eP),-1),getNode:()=>(console.error(eP),null),removeNodeFromMap(){console.error(eP)},has:()=>(console.error(eP),!1),reset(){console.error(eP)}};function ej(e,t,n={}){let r=null,i=0;return function(...s){let a=Date.now();!i&&!1===n.leading&&(i=a);let o=t-(a-i),c=this;o<=0||o>t?(r&&(function(...e){e1("clearTimeout")(...e)}(r),r=null),i=a,e.apply(c,s)):!r&&!1!==n.trailing&&(r=e3(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(c,s)},o))}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(eL=new Proxy(eL,{get:(e,t,n)=>("map"===t&&console.error(eP),Reflect.get(e,t,n))}));function eU(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}let eF=Date.now;function eH(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:eN([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||eN([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||eN([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:eN([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||eN([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||eN([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function eW(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ez(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function eB(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function eX(e,t,n,r,i){if(!e)return!1;let s=eB(e);if(!s)return!1;let a=eA(t,n);if(!i){let e=r&&s.matches(r);return a(s)&&!e}let o=eI(s,a),c=-1;return!(o<0)&&(r&&(c=eI(s,eA(null,r))),!!(o>-1)&&!!(c<0)||o<c)}!/[1-9][0-9]{12}/.test(Date.now().toString())&&(eF=()=>new Date().getTime());function eq(e,t){return -2===t.getId(e)}function eJ(e){return!!e.changedTouches}function eG(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function eY(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function eK(e){return!!eN([e,"optionalAccess",e=>e.shadowRoot])}class eV{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t,n;return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n()}has(e){return this.styleIDMap.has(e)}add(e,t){let n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function eZ(e){let t=null;return eN([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function eQ(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let n=function(e){let t,n=e;for(;t=eZ(n);)n=t;return n}(e);return t.contains(n)}(e))}let e0={};function e1(e){let t=e0[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return e0[e]=r.bind(window)}function e3(...e){return e1("setTimeout")(...e)}var e2=((u=e2||{})[u.DomContentLoaded=0]="DomContentLoaded",u[u.Load=1]="Load",u[u.FullSnapshot=2]="FullSnapshot",u[u.IncrementalSnapshot=3]="IncrementalSnapshot",u[u.Meta=4]="Meta",u[u.Custom=5]="Custom",u[u.Plugin=6]="Plugin",u);var e5=((d=e5||{})[d.Mutation=0]="Mutation",d[d.MouseMove=1]="MouseMove",d[d.MouseInteraction=2]="MouseInteraction",d[d.Scroll=3]="Scroll",d[d.ViewportResize=4]="ViewportResize",d[d.Input=5]="Input",d[d.TouchMove=6]="TouchMove",d[d.MediaInteraction=7]="MediaInteraction",d[d.StyleSheetRule=8]="StyleSheetRule",d[d.CanvasMutation=9]="CanvasMutation",d[d.Font=10]="Font",d[d.Log=11]="Log",d[d.Drag=12]="Drag",d[d.StyleDeclaration=13]="StyleDeclaration",d[d.Selection=14]="Selection",d[d.AdoptedStyleSheet=15]="AdoptedStyleSheet",d[d.CustomElement=16]="CustomElement",d);var e4=((h=e4||{})[h.MouseUp=0]="MouseUp",h[h.MouseDown=1]="MouseDown",h[h.Click=2]="Click",h[h.ContextMenu=3]="ContextMenu",h[h.DblClick=4]="DblClick",h[h.Focus=5]="Focus",h[h.Blur=6]="Blur",h[h.TouchStart=7]="TouchStart",h[h.TouchMove_Departed=8]="TouchMove_Departed",h[h.TouchEnd=9]="TouchEnd",h[h.TouchCancel=10]="TouchCancel",h);var e6=((f=e6||{})[f.Mouse=0]="Mouse",f[f.Pen=1]="Pen",f[f.Touch=2]="Touch",f);function e8(e){return"__ln"in e}class e9{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=function(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;if(!!this.head)t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--}}let e7=(e,t)=>`${e}@${t}`;class te{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new e9,r=e=>{let t=e,n=-2;for(;-2===n;)n=(t=t&&t.nextSibling)&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!eQ(i))return;let s=V(i.parentNode)?this.mirror.getId(eZ(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===s||-1===a)return n.addNode(i);let o=eO(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{eG(e,this.mirror)&&!eX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),eY(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),eK(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{if(!eX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1))this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});o&&(e.push({parentId:s,nextId:a,node:o}),t.add(o.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet){if(!tn(this.removes,e,this.mirror)||!!this.movedSet.has(e.parentNode))i(e)}for(let e of this.addedSet)tr(this.droppedSet,e)||tn(this.removes,e,this.mirror)?tr(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;n.length;){let e=null;if(s){let t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){let n=t;if(t=t.previous,n){let t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}else{let t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),i(e.value)}let a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};if(!!a.texts.length||!!a.attributes.length||!!a.removes.length||!!a.adds.length)this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a)},this.processMutation=e=>{if(!eq(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;!eX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:eR(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,eB(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){let n=eo(t),i=t.tagName;r=ec(t,i,n);let s=en({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=er({isMasked:eR(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:t,value:r,maskInputFn:this.maskInputFn})}if(eX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(!i&&(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!eC(t.tagName,n)&&(i.attributes[n]=eT(this.doc,ei(t.tagName),ei(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let n=this.unattachedDoc.createElement("span");for(let r of(e.oldValue&&n.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(r),s=t.style.getPropertyPriority(r);e!==n.style.getPropertyValue(r)||s!==n.style.getPropertyPriority(r)?""===s?i.styleDiff[r]=e:i.styleDiff[r]=[e,s]:i._unchangedStyles[r]=[e,s]}for(let e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(eX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{var n;let r=this.mirror.getId(t),i=V(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);if(!(eX(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||eq(t,this.mirror))&&(n=t,-1!==this.mirror.getId(n)))this.addedSet.has(t)?(tt(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||function e(t,n){if(V(t))return!1;let r=n.getId(t);return!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,n))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[e7(r,i)]?tt(this.movedSet,t):this.removes.push({parentId:i,id:r,isShadow:!!(V(e.target)&&Z(e.target))||void 0})),this.mapRemoves.push(t)})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)){if(!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(eq(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[e7(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!eX(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes.forEach(e=>this.genAdds(e)),eK(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function tt(e,t){e.delete(t),t.childNodes.forEach(t=>tt(e,t))}function tn(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){let t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function tr(e,t){return 0!==e.size&&function e(t,n){let{parentNode:r}=n;return!!r&&(!!t.has(r)||e(t,r))}(e,t)}let ti=e=>s?(...t)=>{try{return e(...t)}catch(e){if(s&&!0===s(e))return()=>{};throw e}}:e;function ts(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}let ta=[];function to(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function tc(e,t){let n=new te;ta.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,i=ts([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);let s=new r(ti(t=>{if(!e.onMutation||!1!==e.onMutation(t))n.processMutations.bind(n)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function tl({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:a}){return e$("scroll",ti(ej(ti(a=>{let o=to(a);if(!o||eX(o,r,i,s,!0))return;let c=n.getId(o);if(o===t&&t.defaultView){let n=eH(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:o.scrollLeft,y:o.scrollTop})}),a.scroll||100)),t)}let tu=["INPUT","TEXTAREA","SELECT"],td=new WeakMap;function th(e){return function(e,t){if(tg("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||tg("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||tg("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||tg("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){let n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){let n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function tf(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function tp({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);let i="#document"===n.nodeName?ts([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):ts([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=ts([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(ts([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&s?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return ts([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){let n=ts([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),ti(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})})):()=>{}}function tm(e,t={}){let n;let r=e.doc.defaultView;if(!r)return()=>{};e.recordDOM&&(n=tc(e,e.doc));let i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){let i;if(!1===t.mousemove)return()=>{};let s="number"==typeof t.mousemove?t.mousemove:50,a="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,o=[],c=ej(ti(t=>{let n=Date.now()-i;e(o.map(e=>(e.timeOffset-=n,e)),t),o=[],i=null}),a),l=ti(ej(ti(e=>{let t=to(e),{clientX:n,clientY:s}=eJ(e)?e.changedTouches[0]:e;!i&&(i=eF()),o.push({x:n,y:s,id:r.getId(t),timeOffset:eF()-i}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?e5.Drag:e instanceof MouseEvent?e5.MouseMove:e5.TouchMove)}),s,{trailing:!1})),u=[e$("mousemove",l,n),e$("touchmove",l,n),e$("drag",l,n)];return ti(()=>{u.forEach(e=>e())})}(e),s=function({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:a}){if(!1===a.mouseInteraction)return()=>{};let o=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[],l=null,u=t=>a=>{let o=to(a);if(eX(o,r,i,s,!0))return;let c=null,u=t;if("pointerType"in a){switch(a.pointerType){case"mouse":c=e6.Mouse;break;case"touch":c=e6.Touch;break;case"pen":c=e6.Pen}c===e6.Touch?e4[t]===e4.MouseDown?u="TouchStart":e4[t]===e4.MouseUp&&(u="TouchEnd"):e6.Pen}else eJ(a)&&(c=e6.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===e6.Touch||u.startsWith("Mouse")&&c===e6.Mouse)&&(c=null)):e4[t]===e4.Click&&(c=l,l=null);let d=eJ(a)?a.changedTouches[0]:a;if(!d)return;let h=n.getId(o),{clientX:f,clientY:p}=d;ti(e)({type:e4[u],id:h,x:f,y:p,...null!==c&&{pointerType:c}})};return Object.keys(e4).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e]).forEach(e=>{let n=ei(e),r=u(e);if(window.PointerEvent)switch(e4[e]){case e4.MouseDown:case e4.MouseUp:n=n.replace("mouse","pointer");break;case e4.TouchStart:case e4.TouchEnd:return}c.push(e$(n,r,t))}),ti(()=>{c.forEach(e=>e())})}(e),a=tl(e),o=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return e$("resize",ti(ej(ti(()=>{let t=eW(),i=ez();(n!==t||r!==i)&&(e({width:Number(i),height:Number(t)}),n=t,r=i)}),200)),t)}(e,{win:r}),c=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:a,ignoreSelector:o,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:m}){function g(e){let n=to(e),u=e.isTrusted,g=n&&es(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||0>tu.indexOf(g)||eX(n,r,i,s,!0))return;let v=n;if(v.classList.contains(a)||o&&v.matches(o))return;let _=eo(n),b=ec(v,g,_),S=!1,E=en({maskInputOptions:c,tagName:g,type:_}),w=eR(n,h,p,f,m,E);("radio"===_||"checkbox"===_)&&(S=n.checked),b=er({isMasked:w,element:n,value:b,maskInputFn:l}),y(n,d?{text:b,isChecked:S,userTriggered:u}:{text:b,isChecked:S});let k=n.name;"radio"===_&&k&&S&&t.querySelectorAll(`input[type="radio"][name="${k}"]`).forEach(e=>{if(e!==n){let t=er({isMasked:w,element:e,value:ec(e,g,_),maskInputFn:l});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}})}function y(t,r){let i=td.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){td.set(t,r);let i=n.getId(t);ti(e)({...r,id:i})}}let v=("last"===u.input?["change"]:["input","change"]).map(e=>e$(e,ti(g),t)),_=t.defaultView;if(!_)return()=>{v.forEach(e=>e())};let b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),S=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...S.map(e=>(function e(t,n,r,i,s=window){let a=s.Object.getOwnPropertyDescriptor(t,n);return s.Object.defineProperty(t,n,i?r:{set(e){e3(()=>{r.set.call(this,e)},0),a&&a.set&&a.set.call(this,e)}}),()=>e(t,n,a||{},!0)})(e[0],e[1],{set(){ti(g)({target:this,isTrusted:!1})}},!1,_))),ti(()=>{v.forEach(e=>e())})}(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:a}){let o=ti(a=>ej(ti(s=>{let o=to(s);if(!o||eX(o,t,n,r,!0))return;let{currentTime:c,volume:l,muted:u,playbackRate:d}=o;e({type:a,id:i.getId(o),currentTime:c,volume:l,muted:u,playbackRate:d})}),s.media||500)),c=[e$("play",o(0),a),e$("pause",o(1),a),e$("seeked",o(2),a),e$("volumechange",o(3),a),e$("ratechange",o(4),a)];return ti(()=>{c.forEach(e=>e())})}(e),u=()=>{},d=()=>{},h=()=>{},f=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){let i,s;if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:ti((r,i,s)=>{let[a,o]=s,{id:c,styleId:l}=tf(i,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:o}]}),r.apply(i,s)})});let o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:ti((r,i,s)=>{let[a]=s,{id:o,styleId:c}=tf(i,t,n.styleMirror);return(o&&-1!==o||c&&-1!==c)&&e({id:o,styleId:c,removes:[{index:a}]}),r.apply(i,s)})}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:ti((r,i,s)=>{let[a]=s,{id:o,styleId:c}=tf(i,t,n.styleMirror);return(o&&-1!==o||c&&-1!==c)&&e({id:o,styleId:c,replace:a}),r.apply(i,s)})})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:ti((r,i,s)=>{let[a]=s,{id:o,styleId:c}=tf(i,t,n.styleMirror);return(o&&-1!==o||c&&-1!==c)&&e({id:o,styleId:c,replaceSync:a}),r.apply(i,s)})}));let c={};ty("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ty("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ty("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ty("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let l={};return Object.entries(c).forEach(([r,i])=>{l[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(l[r].insertRule,{apply:ti((r,i,s)=>{let[a,o]=s,{id:c,styleId:l}=tf(i.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:[...th(i),o||0]}]}),r.apply(i,s)})}),i.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:ti((r,i,s)=>{let[a]=s,{id:o,styleId:c}=tf(i.parentStyleSheet,t,n.styleMirror);return(o&&-1!==o||c&&-1!==c)&&e({id:o,styleId:c,removes:[{index:[...th(i),a]}]}),r.apply(i,s)})})}),ti(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach(([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule})})}(e,{win:r}),d=tp(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){let s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ti((i,a,o)=>{let[c,l,u]=o;if(n.has(c))return s.apply(a,[c,l,u]);let{id:d,styleId:h}=tf(ts([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:c,value:l,priority:u},index:th(a.parentRule)}),i.apply(a,o)})});let a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:ti((i,s,o)=>{let[c]=o;if(n.has(c))return a.apply(s,[c]);let{id:l,styleId:u}=tf(ts([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:th(s.parentRule)}),i.apply(s,o)})}),ti(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=a})}(e,{win:r}),e.collectFonts&&(f=function({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(e,t,n){let r=new s(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};let a=eU(t.fonts,"add",function(t){return function(n){return e3(ti(()=>{let t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=s}),r.push(a),ti(()=>{r.forEach(e=>e())})}(e)));let p=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:a}=e,o=!0,c=ti(()=>{let e=t.getSelection();if(!e||o&&ts([e,"optionalAccess",e=>e.isCollapsed]))return;o=e.isCollapsed||!1;let c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){let{startContainer:a,startOffset:o,endContainer:l,endOffset:u}=e.getRangeAt(t);!(eX(a,r,i,s,!0)||eX(l,r,i,s,!0))&&c.push({start:n.getId(a),startOffset:o,end:n.getId(l),endOffset:u})}a({ranges:c})});return c(),e$("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){let n=e.defaultView;return n&&n.customElements?eU(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,i])}}):()=>{}}(e),g=[];for(let t of e.plugins)g.push(t.observer(t.callback,r,t.options));return ti(()=>{ta.forEach(e=>e.reset()),ts([n,"optionalAccess",e=>e.disconnect,"call",e=>e()]),i(),s(),a(),o(),c(),l(),u(),d(),h(),f(),p(),m(),g.forEach(e=>e())})}function tg(e){return void 0!==window[e]}function ty(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class tv{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){let i=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e),a=i.get(t);return!a&&(a=this.generateIdFn(),i.set(t,a),s.set(a,t)),a}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;let i=r.get(t);return i?i:-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return!t&&(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return!t&&(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function t_(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}class tb{constructor(){this.crossOriginIframeMirror=new tv(eg),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class tS{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new tv(eg),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new tv(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),t_([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case e2.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:e2.IncrementalSnapshot,data:{source:e5.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case e2.Meta:case e2.Load:case e2.DomContentLoaded:break;case e2.Plugin:return t;case e2.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case e2.IncrementalSnapshot:switch(t.data.source){case e5.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case e5.Drag:case e5.TouchMove:case e5.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case e5.ViewportResize:return!1;case e5.MediaInteraction:case e5.MouseInteraction:case e5.Scroll:case e5.CanvasMutation:case e5.Input:return this.replaceIds(t.data,e,["id"]),t;case e5.StyleSheetRule:case e5.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case e5.Font:return t;case e5.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case e5.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t_([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"])})]),t}}return!1}replace(e,t,n,r){for(let i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type!==m.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class tE{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class tw{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Z(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=tc({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(tl({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),e3(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(tp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(eU(e.prototype,"attachShadow",function(e){return function(r){let i=e.call(this,r);return this.shadowRoot&&eQ(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class tk{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class tx{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new eV,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){!this.trackedLinkElements.has(e)&&(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let n={id:t,styleIds:[]},r=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:ee(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class tM{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){!this.active&&(this.active=!0,!function(...e){e1("requestAnimationFrame")(...e)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=(0,y.x)([e,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let tT=new et;function tC(e={}){let t;let{emit:n,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:c="rr-block",blockSelector:l=null,unblockSelector:u=null,ignoreClass:d="rr-ignore",ignoreSelector:h=null,maskAllText:f=!1,maskTextClass:p="rr-mask",unmaskTextClass:m=null,maskTextSelector:g=null,unmaskTextSelector:v=null,inlineStylesheet:_=!0,maskAllInputs:b,maskInputOptions:S,slimDOMOptions:E,maskAttributeFn:w,maskInputFn:k,maskTextFn:x,maxCanvasSize:M=null,packFn:T,sampling:C={},dataURLOptions:I={},mousemoveWait:A,recordDOM:R=!0,recordCanvas:D=!1,recordCrossOriginIframes:O=!1,recordAfter:N="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:$=!1,collectFonts:P=!1,inlineImages:L=!1,plugins:j,keepIframeSrcFn:U=()=>!1,ignoreCSSAttributes:F=new Set([]),errorHandler:H,onMutation:W,getCanvasManager:z}=e;s=H;let B=!O||window.parent===window,X=!1;if(!B)try{window.parent.document&&(X=!1)}catch(e){X=!0}if(B&&!n)throw Error("emit function is required");if(!B&&!X)return()=>{};void 0!==A&&void 0===C.mousemove&&(C.mousemove=A),tT.reset();let q=!0===b?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==S?S:{},J=!0===E||"all"===E?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===E,headMetaDescKeywords:"all"===E}:E||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),!Node.prototype.contains&&(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw TypeError("1 argument is required");do if(this===t)return!0;while(t=t&&t.parentNode);return!1})}();let G=0,Y=e=>{for(let t of j||[])t.eventProcessor&&(e=t.eventProcessor(e));return T&&!X&&(e=T(e)),e};a=(e,s)=>{if(e.timestamp=eF(),(0,y.x)([ta,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])&&e.type!==e2.FullSnapshot&&!(e.type===e2.IncrementalSnapshot&&e.data.source===e5.Mutation)&&ta.forEach(e=>e.unfreeze()),B)(0,y.x)([n,"optionalCall",t=>t(Y(e),s)]);else if(X){let t={type:"rrweb",event:Y(e),origin:window.location.origin,isCheckout:s};window.parent.postMessage(t,"*")}if(e.type===e2.FullSnapshot)t=e,G=0;else if(e.type===e2.IncrementalSnapshot){if(e.data.source===e5.Mutation&&e.data.isAttachIframe)return;G++;let n=i&&G>=i,s=r&&t&&e.timestamp-t.timestamp>r;(n||s)&&es(!0)}};let K=e=>{a({type:e2.IncrementalSnapshot,data:{source:e5.Mutation,...e}})},V=e=>a({type:e2.IncrementalSnapshot,data:{source:e5.Scroll,...e}}),Z=e=>a({type:e2.IncrementalSnapshot,data:{source:e5.CanvasMutation,...e}}),Q=new tx({mutationCb:K,adoptedStyleSheetCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.AdoptedStyleSheet,...e}})}),ee="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new tb:new tS({mirror:tT,mutationCb:K,stylesheetManager:Q,recordCrossOriginIframes:O,wrappedEmit:a});for(let e of j||[])e.getMirror&&e.getMirror({nodeMirror:tT,crossOriginIframeMirror:ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:ee.crossOriginIframeStyleMirror});let en=new tM,er=function(e,t){try{return e?e(t):new tk}catch(e){return console.warn("Unable to initialize CanvasManager"),new tk}}(z,{mirror:tT,win:window,mutationCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.CanvasMutation,...e}}),recordCanvas:D,blockClass:c,blockSelector:l,unblockSelector:u,maxCanvasSize:M,sampling:C.canvas,dataURLOptions:I,errorHandler:H}),ei="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new tE:new tw({mutationCb:K,scrollCb:V,bypassOptions:{onMutation:W,blockClass:c,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:v,inlineStylesheet:_,maskInputOptions:q,dataURLOptions:I,maskAttributeFn:w,maskTextFn:x,maskInputFn:k,recordCanvas:D,inlineImages:L,sampling:C,slimDOMOptions:J,iframeManager:ee,stylesheetManager:Q,canvasManager:er,keepIframeSrcFn:U,processedNodeManager:en},mirror:tT}),es=(e=!1)=>{if(!R)return;a({type:e2.Meta,data:{href:window.location.href,width:ez(),height:eW()}},e),Q.reset(),ei.init(),ta.forEach(e=>e.lock());let t=function(e,t){let{mirror:n=new et,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:w,onStylesheetLoad:k,stylesheetLoadTimeout:x,keepIframeSrcFn:M=()=>!1}=t||{};return eO(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:o,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:_,inlineImages:h,recordCanvas:f,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:w,onStylesheetLoad:k,stylesheetLoadTimeout:x,keepIframeSrcFn:M,newlyAddedElement:!1})}(document,{mirror:tT,blockClass:c,blockSelector:l,unblockSelector:u,maskAllText:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:v,inlineStylesheet:_,maskAllInputs:q,maskAttributeFn:w,maskInputFn:k,maskTextFn:x,slimDOM:J,dataURLOptions:I,recordCanvas:D,inlineImages:L,onSerialize:e=>{eG(e,tT)&&ee.addIframe(e),eY(e,tT)&&Q.trackLinkElement(e),eK(e)&&ei.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{ee.attachIframe(e,t),e.contentWindow&&er.addWindow(e.contentWindow),ei.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Q.attachLinkElement(e,t)},keepIframeSrcFn:U});if(!t)return console.warn("Failed to snapshot the document");a({type:e2.FullSnapshot,data:{node:t,initialOffset:eH(window)}}),ta.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,tT.getId(document))};o=es;try{let e=[],t=e=>ti(tm)({onMutation:W,mutationCb:K,mousemoveCb:(e,t)=>a({type:e2.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.MouseInteraction,...e}}),scrollCb:V,viewportResizeCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.ViewportResize,...e}}),inputCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.Input,...e}}),mediaInteractionCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.MediaInteraction,...e}}),styleSheetRuleCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.StyleSheetRule,...e}}),styleDeclarationCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.StyleDeclaration,...e}}),canvasMutationCb:Z,fontCb:e=>a({type:e2.IncrementalSnapshot,data:{source:e5.Font,...e}}),selectionCb:e=>{a({type:e2.IncrementalSnapshot,data:{source:e5.Selection,...e}})},customElementCb:e=>{a({type:e2.IncrementalSnapshot,data:{source:e5.CustomElement,...e}})},blockClass:c,ignoreClass:d,ignoreSelector:h,maskAllText:f,maskTextClass:p,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:v,maskInputOptions:q,inlineStylesheet:_,sampling:C,recordDOM:R,recordCanvas:D,inlineImages:L,userTriggeredOnInput:$,collectFonts:P,doc:e,maskAttributeFn:w,maskInputFn:k,maskTextFn:x,keepIframeSrcFn:U,blockSelector:l,unblockSelector:u,slimDOMOptions:J,dataURLOptions:I,mirror:tT,iframeManager:ee,stylesheetManager:Q,shadowDomManager:ei,processedNodeManager:en,canvasManager:er,ignoreCSSAttributes:F,plugins:(0,y.x)([j,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>a({type:e2.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});ee.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});let n=()=>{es(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(e$("DOMContentLoaded",()=>{a({type:e2.DomContentLoaded,data:{}}),"DOMContentLoaded"===N&&n()})),e.push(e$("load",()=>{a({type:e2.Load,data:{}}),"load"===N&&n()},window))),()=>{e.forEach(e=>e()),en.destroy(),o=void 0,s=void 0}}catch(e){console.warn(e)}}tC.mirror=tT,tC.takeFullSnapshot=function(e){if(!o)throw Error("please take full snapshot after start recording");o(e)};let tI="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,tA=["info","warn","error","log"],tR="[Replay] ";function tD(e,t="info"){(0,v.n)({category:"console",data:{logger:"replay"},level:t,message:`${tR}${e}`},{level:t})}let tO=function(){let e=!1,t=!1,n={exception:()=>void 0,infoTick:()=>void 0,setConfig:n=>{e=n.captureExceptions,t=n.traceInternals}};return tI?(tA.forEach(e=>{n[e]=(...n)=>{C.kg[e](tR,...n),t&&tD(n.join(""),(0,I.V)(e))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),C.kg.error(tR,r),e?(0,_.Tb)(r):t&&tD(r,"error")},n.infoTick=(...e)=>{C.kg.info(tR,...e),t&&setTimeout(()=>tD(e[0]),0)}):tA.forEach(e=>{n[e]=()=>void 0}),n}();function tN(e){return e>0x2540be3ff?e:1e3*e}function t$(e){return e>0x2540be3ff?e/1e3:e}function tP(e,t){if("sentry.transaction"!==t.category)["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:e2.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:(0,A.Fv)(t,10,1e3)}}),"console"===t.category))}function tL(e){return e.closest("button,a")||e}function tj(e){let t=tU(e);return t&&t instanceof Element?tL(t):t}function tU(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let tF=new Set([e5.Mutation,e5.StyleSheetRule,e5.StyleDeclaration,e5.AdoptedStyleSheet,e5.CanvasMutation,e5.Selection,e5.MediaInteraction]);class tH{constructor(e,t,n=tP){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){var e;let t=(e=()=>{this._lastMutation=tz()},!c&&(c=[],function(){(0,R.hl)(q,"open",function(e){return function(...t){if(c)try{c.forEach(e=>e())}catch(e){}return e.apply(q,t)}})}()),c.push(e),()=>{let t=c?c.indexOf(e):-1;t>-1&&c.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){return!!(!tW.includes(e.tagName)||"INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||"")||"A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target"))||t&&e.matches(t))||!1}(t,this._ignoreSelector)||!function(e){return!!(e.data&&"number"==typeof e.data.nodeId&&e.timestamp)}(e))return;let n={timestamp:t$(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};if(!this._clicks.some(e=>e.node===n.node&&1>Math.abs(e.timestamp-n.timestamp)))this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks()}registerMutation(e=Date.now()){this._lastMutation=t$(e)}registerScroll(e=Date.now()){this._lastScroll=t$(e)}registerClick(e){let t=tL(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=tz();for(let n of(this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}),e)){let e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:s}=e;if(!n&&!r){let n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:q.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,a);return}if(i>1){let e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:q.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=(0,H.iK)(()=>this._checkClicks(),1e3)}}let tW=["A","BUTTON","INPUT"];function tz(){return Date.now()/1e3}function tB(e){return{timestamp:Date.now()/1e3,type:"default",...e}}(p=g||(g={}))[p.Document=0]="Document",p[p.DocumentType=1]="DocumentType",p[p.Element=2]="Element",p[p.Text=3]="Text",p[p.CDATA=4]="CDATA",p[p.Comment=5]="Comment";let tX=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]),tq=e=>t=>{if(!e.isEnabled())return;let n=function(e){let{target:t,message:n}=function(e){let t;let n="click"===e.name,r=null;try{r=n?tj(e.event):tU(e.event),t=(0,D.Rt)(r,{maxStringLength:200})||"<unknown>"}catch(e){t="<unknown>"}return{target:r,message:t}}(e);return tB({category:`ui.${e.name}`,...tJ(t,n)})}(t);if(!n)return;let r="click"===t.name,i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&!function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,tj(t.event)),tP(e,n)};function tJ(e,t){let n=tC.mirror.getId(e),r=n&&tC.mirror.getNode(n),i=r&&tC.mirror.getMeta(r),s=i&&function(e){return e.type===g.Element}(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(e=>e.type===g.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let n in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(tX.has(n)){let r=n;("data-testid"===n||"data-test-id"===n)&&(r="testId"),t[r]=e[n]}return t}(s.attributes)}}:{}}}let tG={resource:function(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:a,encodedBodySize:o,responseStatus:c,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:tV(s),end:tV(i),name:r,data:{size:l,statusCode:c,decodedBodySize:a,encodedBodySize:o}}},paint:function(e){let{duration:t,entryType:n,name:r,startTime:i}=e,s=tV(i);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:p,type:m}=e;return 0===i?null:{type:`${t}.${m}`,start:tV(f),end:tV(s),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:l,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:s,redirectCount:h}}}};function tY(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function tK(e){let t=tG[e.entryType];return t?t(e):null}function tV(e){return((O.Z1||q.performance.timeOrigin)+e)/1e3}function tZ(e){let t=e.entries[e.entries.length-1];return t3(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0)}function tQ(e){let t=[],n=[];for(let r of e.entries)if(void 0!==r.sources){let e=[];for(let t of r.sources)if(t.node){n.push(t.node);let r=tC.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return t3(e,"cumulative-layout-shift",n,t)}function t0(e){let t=e.entries[e.entries.length-1];return t3(e,"first-input-delay",t&&t.target?[t.target]:void 0)}function t1(e){let t=e.entries[e.entries.length-1];return t3(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0)}function t3(e,t,n,r){let i=e.value,s=e.rating,a=tV(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:s,nodeIds:n?n.map(e=>tC.mirror.getId(e)):void 0,attributions:r}}}class t2 extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class t5{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new t2;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?tN(e):null}}class t4{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})}),this._ensureReadyPromise)}destroy(){tI&&tO.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,i)=>{let s=({data:t})=>{if(t.method===e&&t.id===n){if(this._worker.removeEventListener("message",s),!t.success){tI&&tO.error("Error in compression worker: ",t.response),i(Error("Error in compression worker"));return}r(t.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class t6{constructor(e){this._worker=new t4(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=tN(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return(this._totalSize+=n.length,this._totalSize>2e7)?Promise.reject(new t2):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{tI&&tO.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class t8{constructor(e){this._fallback=new t5,this._compression=new t6(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){tI&&tO.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t}=this._fallback,n=[];for(let t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n),this._fallback.clear()}catch(e){tI&&tO.exception(e,"Failed to add events when switching buffers.")}}}function t9(){try{return"sessionStorage"in q&&!!q.sessionStorage}catch(e){return!1}}function t7(e){return void 0!==e&&Math.random()<e}function ne(e){let t=Date.now(),n=e.id||(0,N.DM)(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,a=e.sampled;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:a,previousSessionId:e.previousSessionId}}function nt(e){if(!!t9())try{q.sessionStorage.setItem(J,JSON.stringify(e))}catch(e){}}function nn({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){var i,s;let a=ne({sampled:(i=e,s=t,t7(i)?"session":!!s&&"buffer"),previousSessionId:r});return n&&nt(a),a}function nr(e,t,n=+new Date){return null===e||void 0===t||!!(t<0)||0!==t&&e+t<=n}function ni(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return nr(e.started,t,r)||nr(e.lastActivity,n,r)}function ns(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!ni(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)||!1}function na({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let i=r.stickySession&&function(){if(!t9())return null;try{let e=q.sessionStorage.getItem(J);if(!e)return null;let t=JSON.parse(e);return tI&&tO.infoTick("Loading existing session"),ne(t)}catch(e){return null}}();return i?ns(i,{sessionIdleExpire:e,maxReplayDuration:t})?(tI&&tO.infoTick("Session in sessionStorage is expired, creating new one..."),nn(r,{previousSessionId:i.id})):i:(tI&&tO.infoTick("Creating new session"),nn(r,{previousSessionId:n}))}function no(e,t,n){return!!nl(e,t)&&(nc(e,t,n),!0)}async function nc(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),i=function(e,t){try{if("function"==typeof t&&e.type===e2.Custom)return t(e)}catch(e){return tI&&tO.exception(e,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,r.beforeAddRecordingEvent);if(!i)return;return await e.eventBuffer.addEvent(i)}catch(r){let t=r&&r instanceof t2?"addEventSizeExceeded":"addEvent";e.handleException(r),await e.stop({reason:t});let n=(0,b.s3)();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function nl(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=tN(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(tI&&tO.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function nu(e){return!e.type}function nd(e){return"transaction"===e.type}function nh(e){return"feedback"===e.type}function nf(e){return!!e.category}function np(e,t){return t.map(({type:t,start:n,end:r,name:i,data:s})=>{let a=e.throttledAddEvent({type:e2.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:s}}});return"string"==typeof a?Promise.resolve(null):a})}function nm(e,t){var n,r;if(!e.isEnabled()||null===t)return;if(n=e,r=t.name,!((!tI||!n.getOptions()._experiments.traceInternals)&&function(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){return!!t&&S(e)===S(t)}(e,r)}(r,(0,b.s3)())))e.addUpdate(()=>(np(e,[t]),!0))}function ng(e){if(!e)return;let t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=nk(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function ny(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function nv(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[nk(e)];if(!e)return[void 0]}catch(t){return tI&&tO.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return tI&&tO.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function n_(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function nb(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:a,request:o,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:(0,R.Jr)({method:s,statusCode:a,request:o,response:c})}}function nS(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function nE(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};let t=e.length>15e4,n=function(e){let t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){let t=e.slice(0,15e4);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function nw(e,t){return Object.entries(e).reduce((n,[r,i])=>{let s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function nk(e){return new URLSearchParams(e).toString()}function nx(e,t){let n=function(e,t=q.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(q.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}(e);return(0,$.U0)(n,t)}async function nM(e,t,n){try{let r=await nT(e,t,n),i=nb("resource.fetch",r);nm(n.replay,i)}catch(e){tI&&tO.exception(e,"Failed to capture fetch breadcrumb")}}async function nT(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:a,method:o,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=nx(a,n.networkDetailAllowUrls)&&!nx(a,n.networkDetailDenyUrls),h=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let i=n?function(e,t){return 1===e.length&&"string"!=typeof e[0]?nD(e[0],t):2===e.length?nD(e[1],t):{}}(n,t):{};if(!e)return nE(i,r,void 0);let[s,a]=nv(nA(n)),o=nE(i,r,s);return a?n_(o,a):o}(n,t.input,l):nS(l);return{startTimestamp:i,endTimestamp:s,url:a,method:o,statusCode:c,request:h,response:await nC(d,n,t.response,u)}}async function nC(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return nS(i);let s=r?nR(r.headers,n):{};if(!r||!t&&void 0!==i)return nE(s,i,void 0);let[a,o]=await nI(r),c=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{let s=e&&e.length&&void 0===n?ng(e):n;if(!r)return nS(s);if(t)return nE(i,s,e);return nE(i,s,void 0)}catch(e){return tI&&tO.exception(e,"Failed to serialize response body"),nE(i,n,void 0)}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return o?n_(c,o):c}async function nI(e){let t=function(e){try{return e.clone()}catch(e){tI&&tO.exception(e,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await function(e){return new Promise((t,n)=>{let r=(0,H.iK)(()=>n(Error("Timeout while trying to read response body")),500);nO(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r))})}(t)]}catch(e){if(e instanceof Error&&e.message.indexOf("Timeout")>-1)return tI&&tO.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"];return tI&&tO.exception(e,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}}function nA(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function nR(e,t){let n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function nD(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?nR(n,t):Array.isArray(n)?{}:nw(n,t):{}}async function nO(e){return await e.text()}async function nN(e,t,n){try{let r=function(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:a,xhr:o}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!c)return null;if(!o||!nx(c,n.networkDetailAllowUrls)||nx(c,n.networkDetailDenyUrls)){let e=nS(d);return{startTimestamp:i,endTimestamp:s,url:c,method:l,statusCode:u,request:e,response:nS(h)}}let f=o[z.xU],p=f?nw(f.request_headers,n.networkRequestHeaders):{},m=nw(function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e},{}):{}}(o),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?nv(a):[void 0],[v,_]=n.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return tI&&tO.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return tI&&tO.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return tI&&tO.warn("Failed to get xhr response body",...t),[void 0]}(o):[void 0],b=nE(p,d,g),S=nE(m,h,v);return{startTimestamp:i,endTimestamp:s,url:c,method:l,statusCode:u,request:y?n_(b,y):b,response:_?n_(S,_):S}}(e,t,n),i=nb("resource.xhr",r);nm(n.replay,i)}catch(e){tI&&tO.exception(e,"Failed to capture xhr breadcrumb")}}async function n$(e){try{return Promise.all(np(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}(q.performance.memory)]))}catch(e){return[]}}async function nP({client:e,scope:t,replayId:n,event:r}){let i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);let s=await (0,k.R)(e.getOptions(),r,i,t,e,(0,b.aF)());if(!s)return null;s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:o,version:c}=a&&a.sdk||{};return s.sdk={...s.sdk,name:o||"sentry.javascript.unknown",version:c||"0.0.0"},s}async function nL({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){var a,o,c,l;let u;let d=function({recordingData:e,headers:t}){let n;let r=`${JSON.stringify(t)}
`;if("string"==typeof e)n=`${r}${e}`;else{let t=new TextEncoder().encode(r);(n=new Uint8Array(t.length+e.length)).set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:h,errorIds:f,traceIds:p,initialTimestamp:m}=r,g=(0,b.s3)(),y=(0,b.nZ)(),v=g&&g.getTransport(),_=g&&g.getDsn();if(!g||!v||!_||!s.sampled)return(0,L.WD)({});let S={type:"replay_event",replay_start_timestamp:m/1e3,timestamp:i/1e3,error_ids:f,trace_ids:p,urls:h,replay_id:t,segment_id:n,replay_type:s.sampled},E=await nP({scope:y,client:g,replayId:t,event:S});if(!E)return g.recordDroppedEvent("event_processor","replay",S),tI&&tO.info("An event processor returned `null`, will not send event."),(0,L.WD)({});delete E.sdkProcessingMetadata;let w=(a=E,o=d,c=_,l=g.getOptions().tunnel,(0,P.Jd)((0,P.Cd)(a,(0,P.HY)(a),l,c),[[{type:"replay_event"},a],[{type:"replay_recording",length:"string"==typeof o?new TextEncoder().encode(o).length:o.length},o]]));try{u=await v.send(w)}catch(t){let e=Error(G);try{e.cause=t}catch(e){}throw e}if("number"==typeof u.statusCode&&(u.statusCode<200||u.statusCode>=300))throw new nj(u.statusCode);let k=(0,j.WG)({},u);if((0,j.Q)(k,"replay"))throw new nU(k);return u}class nj extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class nU extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function nF(e,t={count:0,interval:5e3}){let{recordingData:n,onError:r}=e;if(!!n.length)try{return await nL(e),!0}catch(n){if(n instanceof nj||n instanceof nU)throw n;if((0,_.v)("Replays",{_retryCount:t.count}),r&&r(n),t.count>=3){let e=Error(`${G} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise((n,r)=>{(0,H.iK)(async()=>{try{await nF(e,t),n(!0)}catch(e){r(e)}},t.interval)})}}let nH="__THROTTLED";class nW{constructor({options:e,recordingOptions:t}){nW.prototype.__init.call(this),nW.prototype.__init2.call(this),nW.prototype.__init3.call(this),nW.prototype.__init4.call(this),nW.prototype.__init5.call(this),nW.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,s;let a=n&&n.maxWait?Math.max(n.maxWait,t):0;function o(){return c(),r=e()}function c(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function l(){return i&&clearTimeout(i),i=(0,H.iK)(o,t),a&&void 0===s&&(s=(0,H.iK)(o,a)),r}return l.cancel=c,l.flush=function(){return void 0!==i||void 0!==s?o():r},l}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function(e,t,n){let r=new Map,i=e=>{let t=e-5;r.forEach((e,n)=>{n<t&&r.delete(n)})},s=()=>[...r.values()].reduce((e,t)=>e+t,0),a=!1;return(...t)=>{let n=Math.floor(Date.now()/1e3);if(i(n),s()>=300){let e=a;return a=!0,e?"__SKIPPED":nH}a=!1;let o=r.get(n)||0;return r.set(n,o+1),e(...t)}}((e,t)=>{var n,r,i;return n=this,r=e,i=t,nl(n,r)?nc(n,r,i):Promise.resolve(null)},300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new tH(this,i)),tI){let t=e._experiments;tO.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){tI&&tO.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,r)return;if(this._initializeSessionForSampling(e),!this.session){tI&&tO.exception(Error("Unable to initialize and create session"));return}if(!1!==this.session.sampled)this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",tI&&tO.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()}start(){if(this._isEnabled&&"session"===this.recordingMode){tI&&tO.info("Recording is already in progress");return}if(this._isEnabled&&"buffer"===this.recordingMode){tI&&tO.info("Buffering is in progress, call `flush()` to save the replay");return}tI&&tO.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=na({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled){tI&&tO.info("Buffering is in progress, call `flush()` to save the replay");return}tI&&tO.infoTick("Starting replay in buffer mode");let e=na({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t,n=this._canvas;this._stopRecording=tC({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:(e=this,t=!1,(n,r)=>{if(!e.checkAndHandleExpiredSession()){tI&&tO.warn("Received replay event after session expired.");return}let i=r||!t;t=!0,e.clickDetector&&!function(e,t){try{if(!function(e){return 3===e.type}(t))return;let{source:n}=t.data;if(tF.has(n)&&e.registerMutation(t.timestamp),n===e5.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===e5.MouseInteraction}(t)){let{type:n,id:r}=t.data,i=tC.mirror.getNode(r);i instanceof HTMLElement&&n===e4.Click&&e.registerClick(i)}}catch(e){}}(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!no(e,n,i))return!0;if(!i)return!1;let t=e.session;if(function(e,t){if(!!t&&!!e.session&&0===e.session.segmentId)no(e,function(e){let t=e.getOptions();return{type:e2.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer){let n=e.eventBuffer.getEarliestTimestamp();n&&(tI&&tO.info(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&nt(t))}return!!t&&!!t.previousSessionId||("session"===e.recordingMode&&e.flush(),!0)})}),onMutation:this._onMutationHandler,...n?{recordCanvas:n.recordCanvas,getCanvasManager:n.getCanvasManager,sampling:n.sampling,dataURLOptions:n.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(!!this._isEnabled){this._isEnabled=!1;try{var n;tI&&tO.info(`Stopping Replay${t?` triggered by ${t}`:""}`),!function(){let e=(0,b.nZ)().getPropagationContext().dsc;e&&delete e.replay_id;let t=(0,E.HN)();if(t){let e=(0,w.jC)(t);delete e.replay_id}}(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,n=this,function(){if(!!t9())try{q.sessionStorage.removeItem(J)}catch(e){}}(),n.session=void 0}catch(e){this.handleException(e)}}}pause(){if(!this._isPaused)this._isPaused=!0,this.stopRecording(),tI&&tO.info("Pausing replay")}resume(){if(!!this._isPaused&&!!this._checkSession())this._isPaused=!1,this.startRecording(),tI&&tO.info("Resuming replay")}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();tI&&tO.info("Converting buffer to session"),await this.flushImmediate();let n=this.stopRecording();if(!!e&&!!n&&"session"!==this.recordingMode)this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording()}addUpdate(e){let t=e();if("buffer"!==this.recordingMode&&!0!==t)this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&nr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()||!1}setInitialState(){let e=`${q.location.pathname}${q.location.hash}${q.location.search}`,t=`${q.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===nH){let e=tB({category:"replay.throttled"});this.addUpdate(()=>!no(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||(0,E.HN)(),t=e&&(0,E.Gx)(e),n=(t&&(0,E.XU)(t).data||{})[x.Zj];if(!!t&&!!n&&!!["route","custom"].includes(n))return(0,E.XU)(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:e,workerUrl:t}){if(e&&window.Worker){let e=function(e){try{let t=e||function(){return"undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){let e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}()}();if(!t)return;tI&&tO.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new t8(n)}catch(e){tI&&tO.exception(e,"Failed to create compression worker")}}(t);if(e)return e}return tI&&tO.info("Using simple buffer"),new t5}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=na({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return!ns(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){if(!!this._isEnabled)await this.stop({reason:"refresh session"}),this.initializeSampling(e.id)}_addListeners(){try{q.document.addEventListener("visibilitychange",this._handleVisibilityChange),q.addEventListener("blur",this._handleWindowBlur),q.addEventListener("focus",this._handleWindowFocus),q.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),!this._hasInitializedCoreListeners&&(!function(e){var t,n,r,i;let s=(0,b.s3)();(0,B.O)(tq(e)),(0,X.a)((t=e,e=>{if(!t.isEnabled())return;let n=function(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(e);if(null!==n)t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(np(t,[n]),!1))})),!function(e){let t=(0,b.s3)();if(!!t)t.on("beforeAddBreadcrumb",t=>(function(e,t){if(!e.isEnabled()||!nf(t))return;let n=function(e){return!nf(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:"console"===e.category?function(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return tB(e);let n=!1,r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(n=!0,`${e.slice(0,5e3)}…`):e;if("object"==typeof e)try{let t=(0,A.Fv)(e,7);if(JSON.stringify(t).length>5e3)return n=!0,`${JSON.stringify(t,null,2).slice(0,5e3)}…`;return t}catch(e){}return e});return tB({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e):tB(e)}(t);n&&tP(e,n)})(e,t))}(e),!function(e){let t=(0,b.s3)();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,n){if(!!t.data)try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(!function(e,t){let{xhr:n,input:r}=t;if(!n)return;let i=ng(r),s=n.getResponseHeader("content-length")?ny(n.getResponseHeader("content-length")):function(e,t){try{let n="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return ng(n)}catch(e){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n),nN(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t){let{input:n,response:r}=t,i=ng(n?nA(n):void 0),s=r?ny(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n),nM(t,n,e))}catch(e){tI&&tO.exception(e,"Error when enriching network breadcrumb")}})(o,e,t))}catch(e){}}(e);let a=(n=e,Object.assign((e,t)=>{var r,i,s,a,o,c;if(!n.isEnabled()||n.isPaused())return e;if("replay_event"===e.type)return delete e.breadcrumbs,e;if(e.type&&!nd(e)&&!nh(e)||!n.checkAndHandleExpiredSession())return e;if(nh(e)){;return n.flush(),e.contexts.feedback.replay_id=n.getSessionId(),r=n,i=e,r.triggerUserActivity(),r.addUpdate(()=>!i.timestamp||(r.throttledAddEvent({type:e2.Custom,timestamp:1e3*i.timestamp,data:{tag:"breadcrumb",payload:{timestamp:i.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:i.event_id}}}}),!1)),e}if(s=e,a=t,!s.type&&s.exception&&s.exception.values&&s.exception.values.length&&a.originalException&&a.originalException.__rrweb__&&!n.getOptions()._experiments.captureExceptions)return tI&&tO.log("Ignoring error from rrweb internals",e),null;return o=n,c=e,("buffer"===o.recordingMode&&c.message!==G&&c.exception&&!c.type&&t7(o.getOptions().errorSampleRate)||"session"===n.recordingMode)&&(e.tags={...e.tags,replayId:n.getSessionId()}),e},{id:"Replay"}));if((0,_.Qy)(a),s){;s.on("beforeSendEvent",(r=e,e=>{if(!!r.isEnabled()&&!e.type)(function(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if("string"==typeof n)(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&tP(e,tB({category:"replay.hydrate-error",data:{url:(0,D.l4)()}}))})(r,e)})),s.on("afterSendEvent",(i=e,(e,t)=>{if(!i.isEnabled()||e.type&&!nd(e))return;let n=t&&t.statusCode;if(!!n&&!(n<200)&&!(n>=300)){if(nd(e)){(function(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)})(i,e);return}(function(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();if("function"!=typeof r||!!r(t))(0,H.iK)(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}})})(i,e)}})),s.on("createDsc",t=>{let n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),s.on("spanStart",t=>{e.lastActiveSpan=t}),s.on("spanEnd",t=>{e.lastActiveSpan=t}),s.on("beforeSendFeedback",(t,n)=>{let r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})}}(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){!e.performanceEntries.includes(t)&&e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(e=>{r.push((0,W._j)(e,n))}),r.push((0,W.$A)(tY(tZ,e)),(0,W.PR)(tY(tQ,e)),(0,W.to)(tY(t0,e)),(0,W.YF)(tY(t1,e))),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{q.document.removeEventListener("visibilitychange",this._handleVisibilityChange),q.removeEventListener("blur",this._handleWindowBlur),q.removeEventListener("focus",this._handleWindowFocus),q.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===q.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let e=tB({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{let e=tB({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=function(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!s)return null;let o=t||r||i,c=1===s.length;if(!o&&c)return null;let l=(0,D.Rt)(a,{maxStringLength:200})||"<unknown>",u=tJ(a,l);return tB({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}(t);if(!!n)tP(e,n)}(this,e)}}_doChangeToBackgroundTasks(e){if(!(!this.session||ni(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})))e&&this._createCustomBreadcrumb(e),this.conditionalFlush()}_doChangeToForegroundTasks(e){if(!!this.session){if(!this.checkAndHandleExpiredSession()){tI&&tO.info("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:e2.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(tK).filter(Boolean).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(np(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){tI&&tO.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!this.eventBuffer||!this.eventBuffer.hasEvents)return;if(await n$(this),!!this.eventBuffer&&e===this.getSessionId())try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await nF({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});let e=(0,b.s3)();e&&e.recordDroppedEvent(t instanceof nU?"ratelimit_backoff":"send_error","replay")}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){tI&&tO.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i){tI&&tO.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}let s=this.eventBuffer;s&&0===this.session.segmentId&&!s.hasCheckout&&tI&&tO.info("Flushing initial segment without checkout.");let a=!!this._flushLock;!this._flushLock&&(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&nt(this.session)}__init6(){this._onMutationHandler=e=>{let t=e.length,n=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,i=n&&t>n;if(t>r||i){let e=tB({category:"replay.mutations",data:{count:t,limit:i}});this._createCustomBreadcrumb(e)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function nz(e,t){return[...e,...t].join(",")}let nB='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',nX=["content-length","content-type","accept"],nq=!1,nJ=e=>new nG(e);class nG{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:o={},maskAllText:c=!0,maskAllInputs:l=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:d=750,mutationLimit:h=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:p=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:_=[],mask:b=[],maskAttributes:S=["title","placeholder"],unmask:E=[],block:w=[],unblock:k=[],ignore:x=[],maskFn:M,beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:I}={}){this.name=nG.id;let A=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){let s=nz(e,[".sentry-mask","[data-sentry-mask]"]);return{maskTextSelector:s,unmaskTextSelector:nz(t,[]),blockSelector:nz(n,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:nz(r,[]),ignoreSelector:nz(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:E,block:w,unblock:k,ignore:x});if(this._recordingOptions={maskAllInputs:l,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(e,t,n)=>(function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s})({maskAttributes:S,maskAllText:c,privacyOptions:A,key:e,value:t,el:n}),...A,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,36e5),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:u,maskAllInputs:l,maskAllText:c,mutationBreadcrumbLimit:d,mutationLimit:h,slowClickTimeout:f,slowClickIgnoreSelectors:p,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:nY(v),networkResponseHeaders:nY(_),beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:I,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${nB}`:nB),this._isInitialized&&F())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return nq}set _isInitialized(e){nq=e}afterAllSetup(e){if(!!F()&&!this._replay)this._setup(e),this._initialize(e)}start(){if(!!this._replay)this._replay.start()}startBuffering(){if(!!this._replay)this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!!this._replay&&!!this._replay.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(!!this._replay&&!!this._replay.isEnabled())return this._replay.recordingMode}_initialize(e){if(!!this._replay)this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling()}_setup(e){let t=function(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...(0,R.Jr)(e)},i=(0,M.o)(n.replaysSessionSampleRate),s=(0,M.o)(n.replaysOnErrorSampleRate);return null==i&&null==s&&(0,C.Cf)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=i&&(r.sessionSampleRate=i),null!=s&&(r.errorSampleRate=s),r}(this._initialOptions,e);this._replay=new nW({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(e){}}}nG.__initStatic();function nY(e){return[...nX,...e.map(e=>e.toLowerCase())]}},3438:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:function(){return r}})},173:function(e,t,n){"use strict";n.d(t,{Ud:function(){return d},re:function(){return v},sj:function(){return _}});let r=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),c=e=>"object"==typeof e&&null!==e||"function"==typeof e,l=new Map([["proxy",{canHandle:e=>c(e)&&e[r],serialize(e){let{port1:t,port2:n}=new MessageChannel;return function e(t,n=globalThis,r=["*"]){n.addEventListener("message",function i(s){let c;if(!s||!s.data)return;if(!function(e,t){for(let n of e)if(t===n||"*"===n||n instanceof RegExp&&n.test(t))return!0;return!1}(r,s.origin)){console.warn(`Invalid origin '${s.origin}' for comlink proxy`);return}let{id:l,type:d,path:h}=Object.assign({path:[]},s.data),f=(s.data.argumentList||[]).map(S);try{let n=h.slice(0,-1).reduce((e,t)=>e[t],t),r=h.reduce((e,t)=>e[t],t);switch(d){case"GET":c=r;break;case"SET":n[h.slice(-1)[0]]=S(s.data.value),c=!0;break;case"APPLY":c=r.apply(n,f);break;case"CONSTRUCT":{let e=new r(...f);c=_(e)}break;case"ENDPOINT":{let{port1:n,port2:r}=new MessageChannel;e(t,r),c=v(n,[n])}break;case"RELEASE":c=void 0;break;default:return}}catch(e){c={value:e,[o]:0}}Promise.resolve(c).catch(e=>({value:e,[o]:0})).then(e=>{let[r,s]=b(e);n.postMessage(Object.assign(Object.assign({},r),{id:l}),s),"RELEASE"===d&&(n.removeEventListener("message",i),u(n),a in t&&"function"==typeof t[a]&&t[a]())}).catch(e=>{let[t,r]=b({value:TypeError("Unserializable return value"),[o]:0});n.postMessage(Object.assign(Object.assign({},t),{id:l}),r)})}),n.start&&n.start()}(e,t),[n,[n]]},deserialize:e=>(e.start(),d(e))}],["throw",{canHandle:e=>c(e)&&o in e,serialize({value:e}){let t;return[t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function u(e){if("MessagePort"===e.constructor.name)e.close()}function d(e,t){let n=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let r=n.get(t.id);if(!!r)try{r(t)}finally{n.delete(t.id)}}),function e(t,n,r=[],a=function(){}){let o=!1,c=new Proxy(a,{get(i,a){if(h(o),a===s)return()=>{var e;e=c,m&&m.unregister(e),f(t),n.clear(),o=!0};if("then"===a){if(0===r.length)return{then:()=>c};let e=E(t,n,{type:"GET",path:r.map(e=>e.toString())}).then(S);return e.then.bind(e)}return e(t,n,[...r,a])},set(e,i,s){h(o);let[a,c]=b(s);return E(t,n,{type:"SET",path:[...r,i].map(e=>e.toString()),value:a},c).then(S)},apply(s,a,c){h(o);let l=r[r.length-1];if(l===i)return E(t,n,{type:"ENDPOINT"}).then(S);if("bind"===l)return e(t,n,r.slice(0,-1));let[u,d]=g(c);return E(t,n,{type:"APPLY",path:r.map(e=>e.toString()),argumentList:u},d).then(S)},construct(e,i){h(o);let[s,a]=g(i);return E(t,n,{type:"CONSTRUCT",path:r.map(e=>e.toString()),argumentList:s},a).then(S)}});return!function(e,t){let n=(p.get(t)||0)+1;p.set(t,n),m&&m.register(e,t,e)}(c,t),c}(e,n,[],t)}function h(e){if(e)throw Error("Proxy has been released and is not useable")}function f(e){return E(e,new Map,{type:"RELEASE"}).then(()=>{u(e)})}let p=new WeakMap,m="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(p.get(e)||0)-1;p.set(e,t),0===t&&f(e)});function g(e){var t;let n=e.map(b);return[n.map(e=>e[0]),(t=n.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let y=new WeakMap;function v(e,t){return y.set(e,t),e}function _(e){return Object.assign(e,{[r]:!0})}function b(e){for(let[t,n]of l)if(n.canHandle(e)){let[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},y.get(e)||[]]}function S(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function E(e,t,n,r){return new Promise(i=>{let s=function(){return[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}();t.set(s,i),e.start&&e.start(),e.postMessage(Object.assign({id:s},n),r)})}}}]);