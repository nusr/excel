/* 
MIT License

Copyright (c) 2020 Steve Xu

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

*/
import{a as Do}from"./chunk-S76M7AWC.js";import{b as Bs,c as vu,d as Lt}from"./chunk-RBTA6K5V.js";var um=Bs(V=>{"use strict";var ge=typeof Symbol=="function"&&Symbol.for,uu=ge?Symbol.for("react.element"):60103,lu=ge?Symbol.for("react.portal"):60106,Is=ge?Symbol.for("react.fragment"):60107,vs=ge?Symbol.for("react.strict_mode"):60108,xs=ge?Symbol.for("react.profiler"):60114,ws=ge?Symbol.for("react.provider"):60109,Rs=ge?Symbol.for("react.context"):60110,du=ge?Symbol.for("react.async_mode"):60111,Cs=ge?Symbol.for("react.concurrent_mode"):60111,ks=ge?Symbol.for("react.forward_ref"):60112,As=ge?Symbol.for("react.suspense"):60113,Vb=ge?Symbol.for("react.suspense_list"):60120,Os=ge?Symbol.for("react.memo"):60115,Ns=ge?Symbol.for("react.lazy"):60116,Kb=ge?Symbol.for("react.block"):60121,Jb=ge?Symbol.for("react.fundamental"):60117,Xb=ge?Symbol.for("react.responder"):60118,Zb=ge?Symbol.for("react.scope"):60119;function Ue(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uu:switch(e=e.type,e){case du:case Cs:case Is:case xs:case vs:case As:return e;default:switch(e=e&&e.$$typeof,e){case Rs:case ks:case Ns:case Os:case ws:return e;default:return t}}case lu:return t}}}function cm(e){return Ue(e)===Cs}V.AsyncMode=du;V.ConcurrentMode=Cs;V.ContextConsumer=Rs;V.ContextProvider=ws;V.Element=uu;V.ForwardRef=ks;V.Fragment=Is;V.Lazy=Ns;V.Memo=Os;V.Portal=lu;V.Profiler=xs;V.StrictMode=vs;V.Suspense=As;V.isAsyncMode=function(e){return cm(e)||Ue(e)===du};V.isConcurrentMode=cm;V.isContextConsumer=function(e){return Ue(e)===Rs};V.isContextProvider=function(e){return Ue(e)===ws};V.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uu};V.isForwardRef=function(e){return Ue(e)===ks};V.isFragment=function(e){return Ue(e)===Is};V.isLazy=function(e){return Ue(e)===Ns};V.isMemo=function(e){return Ue(e)===Os};V.isPortal=function(e){return Ue(e)===lu};V.isProfiler=function(e){return Ue(e)===xs};V.isStrictMode=function(e){return Ue(e)===vs};V.isSuspense=function(e){return Ue(e)===As};V.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Is||e===Cs||e===xs||e===vs||e===As||e===Vb||typeof e=="object"&&e!==null&&(e.$$typeof===Ns||e.$$typeof===Os||e.$$typeof===ws||e.$$typeof===Rs||e.$$typeof===ks||e.$$typeof===Jb||e.$$typeof===Xb||e.$$typeof===Zb||e.$$typeof===Kb)};V.typeOf=Ue});var dm=Bs((BM,lm)=>{"use strict";lm.exports=um()});var Co=Bs((UM,_m)=>{"use strict";var fu=dm(),Qb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pu={};pu[fu.ForwardRef]=tI;pu[fu.Memo]=hm;function fm(e){return fu.isMemo(e)?hm:pu[e.$$typeof]||Qb}var nI=Object.defineProperty,rI=Object.getOwnPropertyNames,pm=Object.getOwnPropertySymbols,oI=Object.getOwnPropertyDescriptor,iI=Object.getPrototypeOf,mm=Object.prototype;function gm(e,t,n){if(typeof t!="string"){if(mm){var r=iI(t);r&&r!==mm&&gm(e,r,n)}var o=rI(t);pm&&(o=o.concat(pm(t)));for(var i=fm(e),s=fm(t),a=0;a<o.length;++a){var c=o[a];if(!eI[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=oI(t,c);try{nI(e,c,u)}catch{}}}}return e}_m.exports=gm});var xu=Object.prototype.toString;function Qt(e){switch(xu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return De(e,Error)}}function An(e,t){return xu.call(e)===`[object ${t}]`}function On(e){return An(e,"ErrorEvent")}function Lo(e){return An(e,"DOMError")}function Us(e){return An(e,"DOMException")}function Se(e){return An(e,"String")}function Nn(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function en(e){return e===null||Nn(e)||typeof e!="object"&&typeof e!="function"}function et(e){return An(e,"Object")}function tn(e){return typeof Event<"u"&&De(e,Event)}function Hs(e){return typeof Element<"u"&&De(e,Element)}function $s(e){return An(e,"RegExp")}function He(e){return!!(e&&e.then&&typeof e.then=="function")}function Gs(e){return et(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function yr(e){return typeof e=="number"&&e!==e}function De(e,t){try{return e instanceof t}catch{return!1}}function Sr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function ft(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Po(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{Sr(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function wu(e,t,n=!1){return Se(e)?$s(t)?t.test(e):Se(t)?n?e===t:e.includes(t):!1:!1}function pt(e,t=[],n=!1){return t.some(r=>wu(e,r,n))}function Er(e,t,n=250,r,o,i,s){if(!i.exception||!i.exception.values||!s||!De(s.originalException,Error))return;let a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Bm(Ws(e,t,o,s.originalException,r,i.exception.values,a,0),n))}function Ws(e,t,n,r,o,i,s,a){if(i.length>=n+1)return i;let c=[...i];if(De(r[o],Error)){Ru(s,a);let u=e(t,r[o]),l=c.length;Cu(u,o,l,a),c=Ws(e,t,n,r[o],o,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(De(u,Error)){Ru(s,a);let d=e(t,u),f=c.length;Cu(d,`errors[${l}]`,f,a),c=Ws(e,t,n,u,o,[d,...c],d,f)}}),c}function Ru(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Cu(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Bm(e,t){return e.map(n=>(n.value&&(n.value=ft(n.value,t)),n))}function Fo(e){return e&&e.Math==Math?e:void 0}var x=typeof globalThis=="object"&&Fo(globalThis)||typeof window=="object"&&Fo(window)||typeof self=="object"&&Fo(self)||typeof global=="object"&&Fo(global)||function(){return this}()||{};function nn(){return x}function Tr(e,t,n){let r=n||x,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}var Mn=nn(),Um=80;function Le(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],i=0,s=0,a=" > ",c=a.length,u,l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Um;for(;n&&i++<r&&(u=Hm(n,l),!(u==="html"||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Hm(e,t){let n=e,r=[],o,i,s,a,c;if(!n||!n.tagName)return"";if(Mn.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());let u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&Se(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=n.getAttribute(s),a&&r.push(`[${s}="${a}"]`);return r.join("")}function br(){try{return Mn.document.location.href}catch{return""}}function Ir(e){return Mn.document&&Mn.document.querySelector?Mn.document.querySelector(e):null}function vr(e){if(!Mn.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}var $e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var $m="Sentry Logger ",xr=["debug","info","warn","error","log","assert","trace"],Dn={};function Ge(e){if(!("console"in x))return e();let t=x.console,n={},r=Object.keys(Dn);r.forEach(o=>{let i=Dn[o];n[o]=t[o],t[o]=i});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Gm(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return $e?xr.forEach(n=>{t[n]=(...r)=>{e&&Ge(()=>{x.console[n](`${$m}[${n}]:`,...r)})}}):xr.forEach(n=>{t[n]=()=>{}}),t}var p=Gm();var Wm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function jm(e){return e==="http"||e==="https"}function be(e,t=!1){let{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Bo(e){let t=Wm.exec(e);if(!t){Ge(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",i,s="",a]=t.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let d=u.match(/^\d+/);d&&(u=d[0])}return ku({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}function ku(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function zm(e){if(!$e)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(p.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?jm(r)?t&&isNaN(parseInt(t,10))?(p.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(p.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(p.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function wr(e){let t=typeof e=="string"?Bo(e):ku(e);if(!(!t||!zm(t)))return t}var Ee=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};function Q(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&Uo(o,r),e[t]=o}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{$e&&p.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Uo(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Re(e,"__sentry_original__",t)}catch{}}function rn(e){return e.__sentry_original__}function zs(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Ho(e){if(Qt(e))return{message:e.message,name:e.name,stack:e.stack,...Ou(e)};if(tn(e)){let t={type:e.type,target:Au(e.target),currentTarget:Au(e.currentTarget),...Ou(e)};return typeof CustomEvent<"u"&&De(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Au(e){try{return Hs(e)?Le(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ou(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function qs(e,t=40){let n=Object.keys(Ho(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return ft(n[0],t);for(let r=n.length;r>0;r--){let o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:ft(o,t)}return""}function j(e){return js(e,new Map)}function js(e,t){if(qm(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=js(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(js(o,t))}),r}return e}function qm(e){if(!et(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var Du=50,Nu=/\(error: (.*)\)/,Mu=/captureMessage|captureException/;function $o(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{let o=[],i=n.split(`
`);for(let s=r;s<i.length;s++){let a=i[s];if(a.length>1024)continue;let c=Nu.test(a)?a.replace(Nu,"$1"):a;if(!c.match(/\S*Error: /)){for(let u of t){let l=u(c);if(l){o.push(l);break}}if(o.length>=Du)break}}return Lu(o)}}function Vs(e){return Array.isArray(e)?$o(...e):e}function Lu(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Mu.test(t[t.length-1].function||"")&&(t.pop(),Mu.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Du).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}var Ys="<anonymous>";function Ce(e){try{return!e||typeof e!="function"?Ys:e.name||Ys}catch{return Ys}}var Go={},Pu={};function ke(e,t){Go[e]=Go[e]||[],Go[e].push(t)}function Ae(e,t){Pu[e]||(t(),Pu[e]=!0)}function me(e,t){let n=e&&Go[e];if(n)for(let r of n)try{r(t)}catch(o){$e&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ce(r)}
Error:`,o)}}function Ks(e){let t="console";ke(t,e),Ae(t,Ym)}function Ym(){"console"in x&&xr.forEach(function(e){e in x.console&&Q(x.console,e,function(t){return Dn[e]=t,function(...n){me("console",{args:n,level:e});let o=Dn[e];o&&o.apply(x.console,n)}})})}function D(){let e=x,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Fu(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function tt(e){let{message:t,event_id:n}=e;if(t)return t;let r=Fu(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ln(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function xt(e,t){let n=Fu(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let i={...o&&o.data,...t.data};n.mechanism.data=i}}function Wo(e){if(e&&e.__sentry_captured__)return!0;try{Re(e,"__sentry_captured__",!0)}catch{}return!1}function Rr(e){return Array.isArray(e)?e:[e]}var Pn=x,Vm=1e3,Bu,Js,Xs;function Cr(e){let t="dom";ke(t,e),Ae(t,Km)}function Km(){if(!Pn.document)return;let e=me.bind(null,"dom"),t=Uu(e,!0);Pn.document.addEventListener("click",t,!1),Pn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=Pn[n]&&Pn[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Q(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){let d=Uu(e);l.handler=d,o.call(this,i,d,a)}l.refCount++}catch{}return o.call(this,i,s,a)}}),Q(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(o.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function Jm(e){if(e.type!==Js)return!1;try{if(!e.target||e.target._sentryId!==Xs)return!1}catch{}return!0}function Xm(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Uu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=Zm(n);if(Xm(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",D());let o=n.type==="keypress"?"input":n.type;Jm(n)||(e({event:n,name:o,global:t}),Js=n.type,Xs=r?r._sentryId:void 0),clearTimeout(Bu),Bu=Pn.setTimeout(()=>{Xs=void 0,Js=void 0},Vm)}}function Zm(e){try{return e.target}catch{return null}}var Zs=nn();function jo(){if(!("fetch"in Zs))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function kr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Qs(){if(typeof EdgeRuntime=="string")return!0;if(!jo())return!1;if(kr(Zs.fetch))return!0;let e=!1,t=Zs.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=kr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){$e&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function on(e){let t="fetch";ke(t,e),Ae(t,Qm)}function Qm(){Qs()&&Q(x,"fetch",function(e){return function(...t){let{method:n,url:r}=eh(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return me("fetch",{...o}),e.apply(x,t).then(i=>{let s={...o,endTimestamp:Date.now(),response:i};return me("fetch",s),i},i=>{let s={...o,endTimestamp:Date.now(),error:i};throw me("fetch",s),i})}})}function ea(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Hu(e){return typeof e=="string"?e:e?ea(e,"url")?e.url:e.toString?e.toString():"":""}function eh(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Hu(n),method:ea(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Hu(t),method:ea(t,"method")?String(t.method).toUpperCase():"GET"}}var zo=null;function Ar(e){let t="error";ke(t,e),Ae(t,th)}function th(){zo=x.onerror,x.onerror=function(e,t,n,r,o){return me("error",{column:r,error:o,line:n,msg:e,url:t}),zo&&!zo.__SENTRY_LOADER__?zo.apply(this,arguments):!1},x.onerror.__SENTRY_INSTRUMENTED__=!0}var qo=null;function Or(e){let t="unhandledrejection";ke(t,e),Ae(t,nh)}function nh(){qo=x.onunhandledrejection,x.onunhandledrejection=function(e){return me("unhandledrejection",e),qo&&!qo.__SENTRY_LOADER__?qo.apply(this,arguments):!0},x.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Yo=nn();function $u(){let e=Yo.chrome,t=e&&e.app&&e.app.runtime,n="history"in Yo&&!!Yo.history.pushState&&!!Yo.history.replaceState;return!t&&n}var Nr=x,Vo;function nt(e){let t="history";ke(t,e),Ae(t,rh)}function rh(){if(!$u())return;let e=Nr.onpopstate;Nr.onpopstate=function(...n){let r=Nr.location.href,o=Vo;if(Vo=r,me("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let i=Vo,s=String(o);Vo=s,me("history",{from:i,to:s})}return n.apply(this,r)}}Q(Nr.history,"pushState",t),Q(Nr.history,"replaceState",t)}var oh=x,We="__sentry_xhr_v3__";function sn(e){let t="xhr";ke(t,e),Ae(t,ih)}function ih(){if(!oh.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;Q(e,"open",function(t){return function(...n){let r=Date.now(),o=Se(n[0])?n[0].toUpperCase():void 0,i=sh(n[1]);if(!o||!i)return t.apply(this,n);this[We]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[We];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}let c={args:[o,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};me("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Q(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),Q(this,"setRequestHeader",function(a){return function(...c){let[u,l]=c,d=this[We];return d&&Se(u)&&Se(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),Q(e,"send",function(t){return function(...n){let r=this[We];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);let o={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return me("xhr",o),t.apply(this,n)}})}function sh(e){if(Se(e))return e;try{return e.toString()}catch{}}function ta(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function na(){return"npm"}function Gu(){return!ta()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Fn(){return typeof window<"u"&&(!Gu()||ah())}function ah(){return x.process!==void 0&&x.process.type==="renderer"}function Wu(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let i=0;i<t.length;i++)if(t[i]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let i=0;i<t.length;i++)if(t[i]===o){t.splice(i,1);break}}return[n,r]}function Oe(e,t=100,n=1/0){try{return Ko("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Jo(e,t=3,n=100*1024){let r=Oe(e,t);return dh(r)>n?Jo(e,t-1,n):r}function Ko(e,t,n=1/0,r=1/0,o=Wu()){let[i,s]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!yr(t))return t;let a=ch(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Ko("",m,c-1,r,o)}catch{}let l=Array.isArray(t)?[]:{},d=0,f=Ho(t);for(let m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=r){l[m]="[MaxProperties ~]";break}let h=f[m];l[m]=Ko(m,h,c-1,r,o),d++}return s(t),l}function ch(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Sr(t))return"[VueViewModel]";if(Gs(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ce(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=uh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function uh(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function lh(e){return~-encodeURI(e).split(/%..|./).length}function dh(e){return lh(JSON.stringify(e))}var wt;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(wt||(wt={}));function rt(e){return new Pe(t=>{t(e)})}function an(e){return new Pe((t,n)=>{n(e)})}var Pe=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=wt.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){o(s)}},i=>{if(!n)o(i);else try{r(n(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,i;return this.then(s=>{i=!1,o=s,t&&t()},s=>{i=!0,o=s,t&&t()}).then(()=>{if(i){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(wt.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(wt.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===wt.PENDING){if(He(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===wt.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===wt.RESOLVED&&n[1](this._value),this._state===wt.REJECTED&&n[2](this._value),n[0]=!0)})}}};function ra(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]}function o(s){if(!n())return an(new Ee("Not adding Promise because buffer limit was reached."));let a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(s){return new Pe((a,c)=>{let u=t.length;if(!u)return a(!0);let l=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{rt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:o,drain:i}}function cn(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Xo(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}var ju=["fatal","error","warning","log","info","debug"];function oa(e){return e==="warn"?"warning":ju.includes(e)?e:"log"}var zu=1e3;function mt(){return Date.now()/zu}function fh(){let{performance:e}=x;if(!e||!e.now)return mt;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/zu}var de=fh();var Mr,ne=(()=>{let{performance:e}=x;if(!e||!e.now){Mr="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+n-r):t,u=c<t;return i||u?o<=c?(Mr="timeOrigin",e.timeOrigin):(Mr="navigationStart",s):(Mr="dateNow",r)})();var Bn="baggage",ia="sentry-",Yu=/^sentry-/,Vu=8192;function Zo(e){if(!Se(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,o)=>{let i=qu(o);for(let s of Object.keys(i))r[s]=i[s];return r},{});else{if(!e)return;t=qu(e)}let n=Object.entries(t).reduce((r,[o,i])=>{if(o.match(Yu)){let s=o.slice(ia.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Dr(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${ia}${r}`]=o),n),{});return ph(t)}function qu(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function ph(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=o===0?i:`${t},${i}`;return s.length>Vu?($e&&p.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Ku=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Lr(e){if(!e)return;let t=e.match(Ku);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function sa(e,t){let n=Lr(e),r=Zo(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||D(),parentSpanId:i||D().substring(16),spanId:D().substring(16),sampled:s,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||D(),spanId:D().substring(16)}}}function Pr(e,t){let n=Lr(e),r=Zo(t),{traceId:o,parentSpanId:i,parentSampled:s}=n||{};return n?{traceId:o||D(),parentSpanId:i||D().substring(16),spanId:D().substring(16),sampled:s,dsc:r||{}}:{traceId:o||D(),spanId:D().substring(16)}}function un(e=D(),t=D().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Te(e,t=[]){return[e,t]}function ca(e,t){let[n,r]=e;return[n,[...r,t]]}function ot(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function ua(e,t){return ot(e,(n,r)=>t.includes(r))}function aa(e,t){return(t||new TextEncoder).encode(e)}function Fr(e,t){let[n,r]=e,o=JSON.stringify(n);function i(s){typeof o=="string"?o=typeof s=="string"?o+s:[aa(o,t),s]:o.push(typeof s=="string"?aa(s,t):s)}for(let s of r){let[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Oe(c))}i(u)}}return typeof o=="string"?o:mh(o)}function mh(e){let t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function la(e,t,n){let r=typeof e=="string"?t.encode(e):e;function o(c){let u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(o(c)))}let s=i(),a=[];for(;r.length;){let c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?o(u):i()])}return[s,a]}function da(e,t){let n=typeof e.data=="string"?aa(e.data,t):e.data;return[j({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var hh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"statsd"};function Qo(e){return hh[e]}function Un(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Br(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:be(r)},...o&&{trace:j({...o})}}}function fa(e,t,n){let r=[{type:"client_report"},{timestamp:n||mt(),discarded_events:e}];return Te(t?{dsn:t}:{},[r])}function ei(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Ju(e,t){return e[t]||e.all||0}function Ur(e,t,n=Date.now()){return Ju(e,t)>n}function Hr(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(let a of i.trim().split(",")){let[c,u]=a.split(":",2),l=parseInt(c,10),d=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+d;else for(let f of u.split(";"))o[f]=r+d}else s?o.all=r+ei(s,r):t===429&&(o.all=r+60*1e3);return o}function Xu(e,t){return e(t.stack||"",1)}function pa(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=Xu(e,t);return r.length&&(n.stacktrace={frames:r}),n}function ma(e,t){return e??t()}function ln(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var E=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var it="production";function $r(){return Tr("globalEventProcessors",()=>[])}function ti(e){$r().push(e)}function dn(e,t,n,r=0){return new Pe((o,i)=>{let s=e[r];if(t===null||typeof s!="function")o(t);else{let a=s({...t},n);E&&s.id&&a===null&&p.log(`Event processor "${s.id}" dropped event`),He(a)?a.then(c=>dn(e,c,n,r+1).then(o)).then(null,i):dn(e,a,n,r+1).then(o).then(null,i)}})}function ni(e){let t=de(),n={sid:D(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>gh(n)};return e&&st(n,e),n}function st(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||de(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:D()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ri(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),st(e,n)}function gh(e){return j({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var Qu=0,ha=1;function fn(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:s,tags:a,origin:c}=A(e);return j({data:r,op:o,parent_span_id:i,span_id:t,status:s,tags:a,trace_id:n,origin:c})}function Rt(e){let{traceId:t,spanId:n}=e.spanContext(),r=Hn(e);return un(t,n,r)}function Pt(e){return typeof e=="number"?Zu(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Zu(e.getTime()):de()}function Zu(e){return e>9999999999?e/1e3:e}function A(e){return _h(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function _h(e){return typeof e.getSpanJSON=="function"}function Hn(e){let{traceFlags:t}=e.spanContext();return!!(t&ha)}function pn(e,t,n,r,o,i){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||D(),timestamp:t.timestamp||mt()},u=n.integrations||e.integrations.map(y=>y.name);yh(c,e),Th(c,u),t.type===void 0&&Sh(c,e.stackParser);let l=Ih(r,n.captureContext);n.mechanism&&xt(c,n.mechanism);let d=o&&o.getEventProcessors?o.getEventProcessors():[],f=Gr().getScopeData();if(i){let y=i.getScopeData();ga(f,y)}if(l){let y=l.getScopeData();ga(f,y)}let m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),oi(c,f);let h=[...d,...$r(),...f.eventProcessors];return dn(h,c,n).then(y=>(y&&Eh(y),typeof s=="number"&&s>0?bh(y,s,a):y))}function yh(e,t){let{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:it),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=ft(e.message,i));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=ft(s.value,i));let a=e.request;a&&a.url&&(a.url=ft(a.url,i))}var el=new WeakMap;function Sh(e,t){let n=x._sentryDebugIds;if(!n)return;let r,o=el.get(t);o?r=o:(r=new Map,el.set(t,r));let i=Object.keys(n).reduce((s,a)=>{let c,u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){let d=c[l];if(d.filename){s[d.filename]=n[a];break}}return s},{});try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function Eh(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function Th(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function bh(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Oe(o.data,t,n)}}))},...e.user&&{user:Oe(e.user,t,n)},...e.contexts&&{contexts:Oe(e.contexts,t,n)},...e.extra&&{extra:Oe(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Oe(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>{let i=A(o).data;return i&&(o.data=Oe(i,t,n)),o})),r}function Ih(e,t){if(!t)return e;let n=e?e.clone():new at;return n.update(t),n}function tl(e){if(e)return vh(e)?{captureContext:e}:wh(e)?{captureContext:e}:e}function vh(e){return e instanceof at||typeof e=="function"}var xh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function wh(e){return Object.keys(e).some(t=>xh.includes(t))}function Ct(e,t){return B().captureException(e,tl(t))}function nl(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return B().captureMessage(e,n,r)}function Wr(e,t){return B().captureEvent(e,t)}function rl(e){B().configureScope(e)}function je(e,t){B().addBreadcrumb(e,t)}function ii(e,t){B().setContext(e,t)}function ol(e){B().setExtras(e)}function il(e,t){B().setExtra(e,t)}function sl(e){B().setTags(e)}function al(e,t){B().setTag(e,t)}function cl(e){B().setUser(e)}function ze(...e){let t=B();if(e.length===2){let[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function ul(e){return mn(()=>e(he()))}function jr(e,t){return ze(n=>(n.setSpan(e),t(n)))}function ll(e,t){return B().startTransaction({...e},t)}async function dl(e){let t=I();return t?t.flush(e):(E&&p.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function fl(e){let t=I();return t?t.close(e):(E&&p.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function pl(){return B().lastEventId()}function I(){return B().getClient()}function ml(){return!!I()}function $(){return B().getScope()}function zr(e){let t=I(),n=he(),r=$(),{release:o,environment:i=it}=t&&t.getOptions()||{},{userAgent:s}=x.navigator||{},a=ni({release:o,environment:i,user:r.getUser()||n.getUser(),...s&&{userAgent:s},...e}),c=n.getSession();return c&&c.status==="ok"&&st(c,{status:"exited"}),si(),n.setSession(a),r.setSession(a),a}function si(){let e=he(),t=$(),n=t.getSession()||e.getSession();n&&ri(n),hl(),e.setSession(),t.setSession()}function hl(){let e=he(),t=$(),n=I(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function qr(e=!1){if(e){si();return}hl()}function qe(e){return e.transaction}function Ft(e,t,n){let r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=j({environment:r.environment||it,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function Ye(e){let t=I();if(!t)return{};let n=Ft(A(e).trace_id||"",t,$()),r=qe(e);if(!r)return n;let o=r&&r._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:i,source:s}=r.metadata;i!=null&&(n.sample_rate=`${i}`);let a=A(r);return s&&s!=="url"&&(n.transaction=a.description),n.sampled=String(Hn(r)),t.emit&&t.emit("createDsc",n),n}function oi(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;Rh(e,t),r&&Ah(e,r),Oh(e,n),Ch(e,o),kh(e,i)}function ga(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:m,span:h}=t;Yr(e,"extra",n),Yr(e,"tags",r),Yr(e,"user",o),Yr(e,"contexts",i),Yr(e,"sdkProcessingMetadata",a),s&&(e.level=s),m&&(e.transactionName=m),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function Yr(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Rh(e,t){let{extra:n,tags:r,user:o,contexts:i,level:s,transactionName:a}=t,c=j(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let u=j(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});let l=j(o);l&&Object.keys(l).length&&(e.user={...l,...e.user});let d=j(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),s&&(e.level=s),a&&(e.transaction=a)}function Ch(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function kh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Ah(e,t){e.contexts={trace:fn(t),...e.contexts};let n=qe(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ye(t),...e.sdkProcessingMetadata};let r=A(n).description;r&&(e.tags={transaction:r,...e.tags})}}function Oh(e,t){e.fingerprint=e.fingerprint?Rr(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}var Nh=100,_a,at=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=gl()}static clone(t){return t?t.clone():new e}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&st(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t;if(n instanceof e){let r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(et(n)){let r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=gl(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Nh;if(r<=0)return this;let o={timestamp:mt(),...t},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:o,_extra:i,_user:s,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:m}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:o,extra:i,user:s,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:m}}applyToEvent(t,n={},r=[]){oi(t,this.getScopeData());let o=[...r,...$r(),...this._eventProcessors];return dn(o,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:D();if(!this._client)return p.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:D();if(!this._client)return p.warn("No client configured on scope - will not capture message!"),o;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:D();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(p.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Gr(){return _a||(_a=new at),_a}function gl(){return{traceId:D(),spanId:D().substring(16)}}var hn="7.109.0";var _l=parseFloat(hn),Mh=100,$n=class{constructor(t,n,r,o=_l){this._version=o;let i;n?i=n:(i=new at,i.setClient(t));let s;r?s=r:(s=new at,s.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=s}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){let n=this.pushScope(),r;try{r=t(n)}catch(o){throw this.popScope(),o}return He(r)?r.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:D(),o=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:o,...n,event_id:r}),r}captureMessage(t,n,r){let o=this._lastEventId=r&&r.event_id?r.event_id:D(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:o}),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:D();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:r,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Mh}=o.getOptions&&o.getOptions()||{};if(s<=0)return;let c={timestamp:mt(),...t},u=i?Ge(()=>i(c,n)):c;u!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,s))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){let{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){let n=ai(this);try{t(this)}finally{ai(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return E&&p.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){let r=this._callExtensionMethod("startTransaction",t,n);return E&&!r&&(this.getClient()?p.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):p.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let n=this.getStackTop().scope,r=n.getSession();r&&ri(r),this._sendSessionUpdate(),n.setSession()}startSession(t){let{scope:n,client:r}=this.getStackTop(),{release:o,environment:i=it}=r&&r.getOptions()||{},{userAgent:s}=x.navigator||{},a=ni({release:o,environment:i,user:n.getUser(),...s&&{userAgent:s},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&st(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){let o=Bt().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,n);E&&p.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function Bt(){return x.__SENTRY__=x.__SENTRY__||{extensions:{},hub:void 0},x}function ai(e){let t=Bt(),n=Vr(t);return ya(t,e),n}function B(){let e=Bt();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Dh(e)}function he(){return B().getIsolationScope()}function Dh(e=Bt()){return(!Lh(e)||Vr(e).isOlderThan(_l))&&ya(e,new $n),Vr(e)}function mn(e,t={}){let n=Bt();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Lh(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Vr(e){return Tr("hub",()=>new $n,e)}function ya(e,t){if(!e)return!1;let n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function _e(e){return(e||B()).getScope().getTransaction()}var yl=Lr;var Sl=!1;function El(){Sl||(Sl=!0,Ar(Sa),Or(Sa))}function Sa(){let e=_e();if(e){let t="internal_error";E&&p.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Sa.tag="sentry_tracingErrorCallback";var Ea;(function(e){let t="ok";e.Ok=t;let n="deadline_exceeded";e.DeadlineExceeded=n;let r="unauthenticated";e.Unauthenticated=r;let o="permission_denied";e.PermissionDenied=o;let i="not_found";e.NotFound=i;let s="resource_exhausted";e.ResourceExhausted=s;let a="invalid_argument";e.InvalidArgument=a;let c="unimplemented";e.Unimplemented=c;let u="unavailable";e.Unavailable=u;let l="internal_error";e.InternalError=l;let d="unknown_error";e.UnknownError=d;let f="cancelled";e.Cancelled=f;let m="already_exists";e.AlreadyExists=m;let h="failed_precondition";e.FailedPrecondition=h;let _="aborted";e.Aborted=_;let y="out_of_range";e.OutOfRange=y;let g="data_loss";e.DataLoss=g})(Ea||(Ea={}));function ci(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var Tl=ci;function Ut(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let n=ci(t);n!=="unknown_error"&&e.setStatus(n)}function ui(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Ph(r,t,n)}function Ph(e,t,n){return He(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Ve(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=I(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function bl(e,t,n=()=>{},r=()=>{}){let o=B(),i=$(),s=i.getSpan(),a=di(e),c=li(o,{parentSpan:s,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),ui(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(s),r()})}function Il(e,t){let n=di(e);return mn(()=>ze(e.scope,r=>{let o=B(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:li(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return ui(()=>t(a),()=>{if(a){let{status:c}=A(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function vl(e,t){let n=di(e);return mn(()=>ze(e.scope,r=>{let o=B(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:li(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return ui(()=>t(a,c),()=>{if(a&&a.isRecording()){let{status:u}=A(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function Ke(e){if(!Ve())return;let t=di(e),n=B(),r=e.scope?e.scope.getSpan():Je();if(e.onlyIfParent&&!r)return;let s=(e.scope||$()).clone();return li(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}function Je(){return $().getSpan()}var xl=({sentryTrace:e,baggage:t},n)=>{let r=$(),{traceparentData:o,dynamicSamplingContext:i,propagationContext:s}=sa(e,t);r.setPropagationContext(s),E&&o&&p.log(`[Tracing] Continuing trace ${o.traceId}.`);let a={...o,metadata:j({dynamicSamplingContext:i})};return n?mn(()=>n(a)):a};function li(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!Ve())return;let i=he(),s;if(t&&!r)s=t.startChild(n);else if(t){let a=Ye(t),{traceId:c,spanId:u}=t.spanContext(),l=Hn(t);s=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{let{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...o.getPropagationContext()};s=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return o.setSpan(s),Fh(s,o,i),s}function di(e){if(e.startTime){let t={...e};return t.startTimestamp=Pt(e.startTime),delete t.startTime,t}return e}var wl="_sentryScope",Rl="_sentryIsolationScope";function Fh(e,t,n){e&&(Re(e,Rl,n),Re(e,wl,t))}function Cl(e){return{scope:e[wl],isolationScope:e[Rl]}}var Kr;function kl(e){return Kr?Kr.get(e):void 0}function fi(e){let t=kl(e);if(!t)return;let n={};for(let[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push(j(o));return n}function Al(e,t,n,r,o,i){let s=Je();if(s){let a=kl(s)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){let[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:o}]);Kr||(Kr=new WeakMap),Kr.set(s,a)}}var z="sentry.source",ht="sentry.sample_rate",ye="sentry.op",ue="sentry.origin",Ta="profile_id";var Gn=class{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}},gn=class e{constructor(t={}){this._traceId=t.traceId||D(),this._spanId=t.spanId||D().substring(16),this._startTime=t.startTimestamp||de(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[ue]:t.origin||"manual",[ye]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[ye]}set op(t){this.setAttribute(ye,t)}get origin(){return this._attributes[ue]}set origin(t){this.setAttribute(ue,t)}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ha:Qu}}startChild(t){let n=new e({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);let r=qe(this);if(n.transaction=r,E&&r){let o=t&&t.op||"< unknown op >",i=A(n).description||"< unknown name >",s=r.spanContext().spanId,a=`[Tracing] Starting '${o}' span on transaction '${i}' (${s}).`;p.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Ut(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;let n=qe(this);if(E&&n&&n.spanContext().spanId!==this._spanId){let r=this._logMessage;r&&p.log(r.replace("Starting","Finishing"))}this._endTime=Pt(t)}toTraceparent(){return Rt(this)}toContext(){return j({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return fn(this)}getSpanJSON(){return j({data:this._getData(),description:this._name,op:this._attributes[ye],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ue],_metrics_summary:fi(this),profile_id:this._attributes[Ta],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:t,_attributes:n}=this,r=Object.keys(t).length>0,o=Object.keys(n).length>0;if(!(!r&&!o))return r&&o?{...t,...n}:r?t:n}};var Wn=class extends gn{constructor(t,n){super(t),this._contexts={},this._hub=n||B(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;let r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[z]&&{source:this._attributes[z]},...this._attributes[ht]&&{sampleRate:this._attributes[ht]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(z,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Gn(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){let n=Pt(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){let t=super.toContext();return j({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Ye(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(E&&p.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);let n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){E&&p.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&A(l).timestamp):[];if(this._trimEnd&&r.length>0){let l=r.map(d=>A(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}let{scope:o,isolationScope:i}=Cl(this),{metadata:s}=this,{source:a}=s,c={contexts:{...this._contexts,trace:fn(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...s,capturedSpanScope:o,capturedSpanIsolationScope:i,...j({dynamicSamplingContext:Ye(this)})},_metrics_summary:fi(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(E&&p.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),E&&p.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}};var Ht={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Bh="finishReason",jn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],ba=class extends Gn{constructor(t,n,r,o){super(o),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){let n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),A(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}},Jr=class extends Wn{constructor(t,n,r=Ht.idleTimeout,o=Ht.finalTimeout,i=Ht.heartbeatInterval,s=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=jn[4],this._autoFinishAllowed=!a,s&&(E&&p.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=jn[3],this.end())},this._finalTimeout)}end(t){let n=Pt(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Bh,this._finishReason),this.spanRecorder){E&&p.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;A(r).timestamp||(r.setStatus("cancelled"),r.end(n),E&&p.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let{start_timestamp:o,timestamp:i}=A(r),s=o&&o<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&o&&i-o<a;if(E){let u=JSON.stringify(r,void 0,2);s?c||p.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):p.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return s&&c}),E&&p.log("[Tracing] flushing IdleTransaction")}else E&&p.log("[Tracing] No active IdleTransaction");if(this._onScope){let r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){let n=o=>{this._finished||this._pushActivity(o)},r=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new ba(n,r,this.spanContext().spanId,t),E&&p.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=jn[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(E&&p.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=jn[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),E&&p.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,E&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(E&&p.log(`[Tracing] popActivity ${t}`),delete this.activities[t],E&&p.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let n=de();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=jn[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(E&&p.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=jn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){E&&p.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function Ia(e,t,n){if(!Ve(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(ht,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(ht,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(ht,Number(r))):(r=1,e.setAttribute(ht,r)),pi(r)?r?(e.sampled=Math.random()<r,e.sampled?(E&&p.log(`[Tracing] starting ${e.op} transaction - ${A(e).description}`),e):(E&&p.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(E&&p.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(E&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function pi(e){return yr(e)||!(typeof e=="number"||typeof e=="boolean")?(E&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(E&&p.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Uh(){let t=this.getScope().getSpan();return t?{"sentry-trace":Rt(t)}:{}}function Hh(e,t){let n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(E&&p.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let s=new Wn(e,this);return s=Ia(s,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),s.isRecording()&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function _n(e,t,n,r,o,i,s,a=!1){let c=e.getClient(),u=c&&c.getOptions()||{},l=new Jr(t,e,n,r,s,o,a);return l=Ia(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function zn(){let e=Bt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Hh),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Uh),El())}function mi(e,t,n){let r=_e();r&&r.setMeasurement(e,t,n)}function $h(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function va(e,t,n,r){let o=Un(n),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:be(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Te(i,[s])}function Xr(e,t,n,r){let o=Un(n),i=e.type&&e.type!=="replay_event"?e.type:"event";$h(e,n&&n.sdk);let s=Br(e,o,r,t);return delete e.sdkProcessingMetadata,Te(s,[[{type:i},e]])}var Gh="7";function Ol(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Wh(e){return`${Ol(e)}${e.projectId}/envelope/`}function jh(e,t){return zs({sentry_key:e.publicKey,sentry_version:Gh,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Zr(e,t={}){let n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Wh(e)}?${jh(e,r)}`}function xa(e,t){let n=wr(e);if(!n)return"";let r=`${Ol(n)}embed/error-page/`,o=`dsn=${be(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(o+=`&name=${encodeURIComponent(s.name)}`),s.email&&(o+=`&email=${encodeURIComponent(s.email)}`)}else o+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${o}`}var Nl=[];function zh(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function wa(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Rr(n(t)):r=t;let o=zh(r),i=qh(o,s=>s.name==="Debug");if(i!==-1){let[s]=o.splice(i,1);o.push(s)}return o}function Ml(e,t){let n={};return t.forEach(r=>{r&&Ca(e,r,n)}),n}function Ra(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ca(e,t,n){if(n[t.name]){E&&p.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Nl.indexOf(t.name)===-1&&(t.setupOnce(ti,B),Nl.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,i)=>r(o,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(o)}E&&p.log(`Integration installed: ${t.name}`)}function Dl(e){let t=I();if(!t||!t.addIntegration){E&&p.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function qh(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function X(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}var hi="c",gi="g",qn="s",_i="d",yi=/[^a-zA-Z0-9_/.-]+/g,Ll=/[^\w\d\s_:/@.{}[\]$-]+/g;function Pl(e,t,n,r){let o=Object.entries(j(r)).sort((i,s)=>i[0].localeCompare(s[0]));return`${e}${t}${n}${o}`}function Fl(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Bl(e){let t="";for(let n of e){let r=Object.entries(n.tags),o=r.length>0?`|#${r.map(([i,s])=>`${i}:${s}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}
`}return t}function Ul(e){let t={};for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=n.replace(yi,"_");t[r]=String(e[n]).replace(Ll,"")}return t}function Hl(e,t,n,r){let o={sent_at:new Date().toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=be(t));let i=Yh(e);return Te(o,[i])}function Yh(e){let t=Bl(e);return[{type:"statsd",length:t.length},t]}var $l="Not capturing exception because it's already been captured.",Qr=class{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=wr(t.dsn):E&&p.warn("No DSN provided, client will not send events."),this._dsn){let n=Zr(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Wo(t)){E&&p.log($l);return}let o=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{o=i})),o}captureMessage(t,n,r,o){let i=r&&r.event_id,s=Nn(t)?t:String(t),a=en(t)?this.eventFromMessage(s,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,o)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&Wo(n.originalException)){E&&p.log($l);return}let o=n&&n.event_id,s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,s||r).then(a=>{o=a})),o}captureSession(t){typeof t.release!="string"?E&&p.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),st(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):rt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return E&&p.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){let n=this._integrations[t.name];Ca(this,t,this._integrations),n||Ra(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Xr(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=ca(r,da(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(r);o&&o.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let n=va(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let o=`${t}:${n}`;E&&p.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}captureAggregateMetrics(t){E&&p.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let n=Hl(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Ml(this,t),Ra(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,o=!1,i=n.exception&&n.exception.values;if(i){o=!0;for(let c of i){let u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(st(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Pe(n=>{let r=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=o,t&&r>=t&&(clearInterval(i),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o=he()){let i=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),pn(i,t,n,r,this,o).then(a=>{if(a===null)return a;let c={...o.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){let{traceId:l,spanId:d,parentSpanId:f,dsc:m}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};let h=m||Ft(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(E){let i=o;i.logLevel==="log"?p.log(i.message):p.warn(i)}})}_processEvent(t,n,r){let o=this.getOptions(),{sampleRate:i}=o,s=Wl(t),a=Gl(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),an(new Ee(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",l,t),new Ee("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;let _=Kh(o,m,n);return Vh(_,u)}).then(m=>{if(m===null)throw this.recordDroppedEvent("before_send",l,t),new Ee(`${u} returned \`null\`, will not send event.`,"log");let h=r&&r.getSession();!s&&h&&this._updateSessionFromEvent(h,m);let _=m.transaction_info;if(s&&_&&m.transaction!==t.transaction){let y="custom";m.transaction_info={..._,source:y}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Ee?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Ee(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{E&&p.error("Error while sending event:",n)});E&&p.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[r,o]=n.split(":");return{reason:r,category:o,quantity:t[n]}})}};function Vh(e,t){let n=`${t} must return \`null\` or a valid event.`;if(He(e))return e.then(r=>{if(!et(r)&&r!==null)throw new Ee(n);return r},r=>{throw new Ee(`${t} rejected with ${r}`)});if(!et(e)&&e!==null)throw new Ee(n);return e}function Kh(e,t,n){let{beforeSend:r,beforeSendTransaction:o}=e;return Gl(t)&&r?r(t,n):Wl(t)&&o?o(t,n):t}function Gl(e){return e.type===void 0}function Wl(e){return e.type==="transaction"}function Si(e){let t=I();!t||!t.addEventProcessor||t.addEventProcessor(e)}var ka=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},Aa=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},Oa=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},Na=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Fl(t):t).join(":")}},jl={[hi]:ka,[gi]:Aa,[_i]:Oa,[qn]:Na};function Ma(e,t){t.debug===!0&&(E?p.enable():Ge(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),$().update(t.initialScope);let r=new e(t);Da(r),Jh(r)}function Da(e){let n=B().getStackTop();n.client=e,n.scope.setClient(e)}function Jh(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}var Xh=30;function Yn(e,t,n=ra(e.bufferSize||Xh)){let r={},o=s=>n.drain(s);function i(s){let a=[];if(ot(s,(d,f)=>{let m=Qo(f);if(Ur(r,m)){let h=zl(d,f);e.recordDroppedEvent("ratelimit_backoff",m,h)}else a.push(d)}),a.length===0)return rt();let c=Te(s[0],a),u=d=>{ot(c,(f,m)=>{let h=zl(f,m);e.recordDroppedEvent(d,Qo(m),h)})},l=()=>t({body:Fr(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&E&&p.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Hr(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Ee)return E&&p.error("Skipped sending event because buffer is full."),u("queue_overflow"),rt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:o}}function zl(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}var Zh=100,ql=5e3,Qh=36e5;function La(e,t){E&&p.info(`[Offline]: ${e}`,t)}function Pa(e){return t=>{let n=e(t),r=t.createStore?t.createStore(t):void 0,o=ql,i;function s(l,d,f){return ua(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;let d=await r.pop();d&&(La("Attempting to send previously queued event"),u(d).catch(f=>{La("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(o),o=Math.min(o*2,Qh))}async function u(l){try{let d=await n.send(l),f=Zh;if(d){if(d.headers&&d.headers["retry-after"])f=ei(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),o=ql,d}catch(d){if(r&&await s(l,d,o))return await r.insert(l),c(),La("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function Yl(e,t){let n;return ot(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function eg(e,t){return n=>{let r=e(n);return{send:async o=>{let i=Yl(o,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(o)},flush:o=>r.flush(o)}}}function Vl(e,t){return n=>{let r=e(n),o={};function i(c,u){let l=u?`${c}:${u}`:c;if(!o[l]){let d=Bo(c);if(!d)return;let f=Zr(d);o[l]=u?eg(e,u)({...n,url:f}):e({...n,url:f})}return o[l]}async function s(c){function u(f){let m=f&&f.length?f:["event"];return Yl(c,m)}let l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(r),(await Promise.all(l.map(f=>f.send(c))))[0]}async function a(c){let u=[...Object.keys(o).map(d=>o[d]),r];return(await Promise.all(u.map(d=>d.flush(c)))).every(d=>d)}return{send:s,flush:a}}}function Fa(e,t){let n={sent_at:new Date().toISOString()};t&&(n.dsn=be(t));let r=e.map(tg);return Te(n,r)}function tg(e){return[{type:"span"},e]}function Ba(e,t){let n=t&&og(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return rg(e,r)||ng(e,o)}function ng(e,t){return t?Kl(e)===Kl(t):!1}function rg(e,t){return t?e.includes(t.host):!1}function Kl(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function og(e){return e.getClient!==void 0}function Jl(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function eo(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:hn})),version:hn}),e._metadata=o}var Zl=new Map,Xl=new Set;function ig(e){if(x._sentryModuleMetadata)for(let t of Object.keys(x._sentryModuleMetadata)){let n=x._sentryModuleMetadata[t];if(Xl.has(t))continue;Xl.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){Zl.set(o.filename,n);break}}}function sg(e,t){return ig(e),Zl.get(t)}function Ql(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename)continue;let o=sg(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function ed(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var td="ModuleMetadata",ag=()=>({name:td,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{ot(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(ed(o),n[1]=o)}})})},processEvent(e,t,n){let r=n.getOptions().stackParser;return Ql(r,e),e}}),Ua=ag,nd=X(td,Ua);var cg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],ug=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],rd="InboundFilters",lg=(e={})=>({name:rd,setupOnce(){},processEvent(t,n,r){let o=r.getOptions(),i=dg(e,o);return fg(t,i)?null:t}}),to=lg,Ti=X(rd,to);function dg(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:cg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:ug],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function fg(e,t){return t.ignoreInternal&&yg(e)?(E&&p.warn(`Event dropped due to being internal Sentry Error.
Event: ${tt(e)}`),!0):pg(e,t.ignoreErrors)?(E&&p.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${tt(e)}`),!0):mg(e,t.ignoreTransactions)?(E&&p.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${tt(e)}`),!0):hg(e,t.denyUrls)?(E&&p.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${tt(e)}.
Url: ${Ei(e)}`),!0):gg(e,t.allowUrls)?!1:(E&&p.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${tt(e)}.
Url: ${Ei(e)}`),!0)}function pg(e,t){return e.type||!t||!t.length?!1:_g(e).some(n=>pt(n,t))}function mg(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?pt(n,t):!1}function hg(e,t){if(!t||!t.length)return!1;let n=Ei(e);return n?pt(n,t):!1}function gg(e,t){if(!t||!t.length)return!0;let n=Ei(e);return n?pt(n,t):!0}function _g(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),E&&t.length===0&&p.error(`Could not extract message for event ${tt(e)}`),t}function yg(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Sg(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ei(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Sg(t):null}catch{return E&&p.error(`Cannot extract url for event ${tt(e)}`),null}}var od,sd="FunctionToString",id=new WeakMap,Eg=()=>({name:sd,setupOnce(){od=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=rn(this),n=id.has(I())&&t!==void 0?t:this;return od.apply(n,e)}}catch{}},setup(e){id.set(e,!0)}}),no=Eg,bi=X(sd,no);var Tg="cause",bg=5,ad="LinkedErrors",Ig=(e={})=>{let t=e.limit||bg,n=e.key||Tg;return{name:ad,setupOnce(){},preprocessEvent(r,o,i){let s=i.getOptions();Er(pa,s.stackParser,s.maxValueLength,n,t,r,o)}}},vg=Ig,cd=X(ad,vg);var Ha={};vu(Ha,{FunctionToString:()=>bi,InboundFilters:()=>Ti,LinkedErrors:()=>cd});var Ii=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,n,r,o="none",i={},s=de()){let a=Math.floor(s),c=n.replace(yi,"_"),u=Ul(i),l=Pl(t,c,o,u),d=this._buckets.get(l),f=d&&t===qn?d.metric.weight:0;d?(d.metric.add(r),d.timestamp<a&&(d.timestamp=a)):(d={metric:new jl[t](r),timestamp:a,metricType:t,name:c,unit:o,tags:u},this._buckets.set(l,d));let m=typeof r=="string"?d.metric.weight-f:r;Al(t,c,m,o,i,l)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};var ud="MetricsAggregator",wg=()=>({name:ud,setupOnce(){},setup(e){e.metricsAggregator=new Ii(e)}}),$a=wg,ld=X(ud,$a);function vi(e,t,n,r={}){let o=I(),i=$();if(o){if(!o.metricsAggregator){E&&p.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:s,tags:a,timestamp:c}=r,{release:u,environment:l}=o.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=A(d).description||""),E&&p.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,s,{...f,...a},c)}}function Rg(e,t=1,n){vi(hi,e,t,n)}function Cg(e,t,n){vi(_i,e,t,n)}function kg(e,t,n){vi(qn,e,t,n)}function Ag(e,t,n){vi(gi,e,t,n)}var dd={increment:Rg,distribution:Cg,set:kg,gauge:Ag,MetricsAggregator:ld,metricsAggregatorIntegration:$a};var fd=Ha;var L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var R=x;function xi(){R&&R.document?R.document.addEventListener("visibilitychange",()=>{let e=_e();if(R.document.hidden&&e){let t="cancelled",{op:n,status:r}=A(e);L&&p.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):L&&p.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var gt=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||r===void 0)&&(r=t.value,t.delta=o,e(t)))}};var pd=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var Og=()=>{let e=R.performance.timing,t=R.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(let r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},$t=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Og()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Vn=()=>{let e=$t();return e&&e.activationStart||0};var _t=(e,t)=>{let n=$t(),r="navigate";return n&&(R.document.prerendering||Vn()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:pd(),navigationType:r}};var Xe=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{t(o.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var yt=(e,t)=>{let n=r=>{(r.type==="pagehide"||R.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};var md=e=>{let t=_t("CLS",0),n,r=0,o=[],i=a=>{a.forEach(c=>{if(!c.hadRecentInput){let u=o[0],l=o[o.length-1];r&&o.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,o.push(c)):(r=c.value,o=[c]),r>t.value&&(t.value=r,t.entries=o,n&&n())}})},s=Xe("layout-shift",i);if(s){n=gt(e,t);let a=()=>{i(s.takeRecords()),n(!0)};return yt(a),a}};var wi=-1,Ng=()=>R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0,Mg=()=>{yt(({timeStamp:e})=>{wi=e},!0)},Kn=()=>(wi<0&&(wi=Ng(),Mg()),{get firstHiddenTime(){return wi}});var hd=e=>{let t=Kn(),n=_t("FID"),r,o=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(o)},s=Xe("first-input",i);r=gt(e,n),s&&yt(()=>{i(s.takeRecords()),s.disconnect()},!0)};var gd=0,Ga=1/0,Ri=0,Dg=e=>{e.forEach(t=>{t.interactionId&&(Ga=Math.min(Ga,t.interactionId),Ri=Math.max(Ri,t.interactionId),gd=Ri?(Ri-Ga)/7+1:0)})},Wa,_d=()=>Wa?gd:performance.interactionCount||0,yd=()=>{"interactionCount"in performance||Wa||(Wa=Xe("event",Dg,{type:"event",buffered:!0,durationThreshold:0}))};var Td=()=>_d(),Sd=10,kt=[],ja={},Ed=e=>{let t=kt[kt.length-1],n=ja[e.interactionId];if(n||kt.length<Sd||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};ja[r.id]=r,kt.push(r)}kt.sort((r,o)=>o.latency-r.latency),kt.splice(Sd).forEach(r=>{delete ja[r.id]})}},Lg=()=>{let e=Math.min(kt.length-1,Math.floor(Td()/50));return kt[e]},bd=(e,t)=>{t=t||{},yd();let n=_t("INP"),r,o=s=>{s.forEach(c=>{c.interactionId&&Ed(c),c.entryType==="first-input"&&!kt.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&Ed(c)});let a=Lg();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=Xe("event",o,{durationThreshold:t.durationThreshold||40});r=gt(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),yt(()=>{o(i.takeRecords()),n.value<0&&Td()>0&&(n.value=0,n.entries=[]),r(!0)}))};var Id={},vd=e=>{let t=Kn(),n=_t("LCP"),r,o=s=>{let a=s[s.length-1];if(a){let c=Math.max(a.startTime-Vn(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=Xe("largest-contentful-paint",o);if(i){r=gt(e,n);let s=()=>{Id[n.id]||(o(i.takeRecords()),i.disconnect(),Id[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),yt(s,!0),s}};var za=e=>{R.document&&(R.document.prerendering?addEventListener("prerenderingchange",()=>za(e),!0):R.document.readyState!=="complete"?addEventListener("load",()=>za(e),!0):setTimeout(e,0))},xd=(e,t)=>{t=t||{};let n=_t("TTFB"),r=gt(e,n,t.reportAllChanges);za(()=>{let o=$t();if(o){if(n.value=Math.max(o.responseStart-Vn(),0),n.value<0||n.value>performance.now())return;n.entries=[o],r(!0)}})};var ro={},Ci={},wd,Rd,Cd,kd,Ad;function qa(e,t=!1){return io("cls",e,Pg,wd,t)}function oo(e,t=!1){return io("lcp",e,Bg,Cd,t)}function Od(e){return io("ttfb",e,Ug,kd)}function Ya(e){return io("fid",e,Fg,Rd)}function Nd(e){return io("inp",e,Hg,Ad)}function Ne(e,t){return Md(e,t),Ci[e]||($g(e),Ci[e]=!0),Dd(e,t)}function Jn(e,t){let n=ro[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(o){L&&p.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ce(r)}
Error:`,o)}}function Pg(){return md(e=>{Jn("cls",{metric:e}),wd=e})}function Fg(){return hd(e=>{Jn("fid",{metric:e}),Rd=e})}function Bg(){return vd(e=>{Jn("lcp",{metric:e}),Cd=e})}function Ug(){return xd(e=>{Jn("ttfb",{metric:e}),kd=e})}function Hg(){return bd(e=>{Jn("inp",{metric:e}),Ad=e})}function io(e,t,n,r,o=!1){Md(e,t);let i;return Ci[e]||(i=n(),Ci[e]=!0),r&&t({metric:r}),Dd(e,t,o?i:void 0)}function $g(e){let t={};e==="event"&&(t.durationThreshold=0),Xe(e,n=>{Jn(e,{entries:n})},t)}function Md(e,t){ro[e]=ro[e]||[],ro[e].push(t)}function Dd(e,t,n){return()=>{n&&n();let r=ro[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function ki(e){return typeof e=="number"&&isFinite(e)}function yn(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}var Gg=2147483647;function fe(e){return e/1e3}function Ka(){return R&&R.addEventListener&&R.performance}var Ld=0,se={},St,so;function Oi(){let e=Ka();if(e&&ne){e.mark&&R.performance.mark("sentry-tracing-init");let t=zg(),n=Wg(),r=jg(),o=qg();return()=>{t(),n(),r(),o()}}return()=>{}}function Ni(){Ne("longtask",({entries:e})=>{for(let t of e){let n=_e();if(!n)return;let r=fe(ne+t.startTime),o=fe(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+o})}})}function Mi(){Ne("event",({entries:e})=>{for(let t of e){let n=_e();if(!n)return;if(t.name==="click"){let r=fe(ne+t.startTime),o=fe(t.duration),i={description:Le(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+o},s=vr(t.target);s&&(i.attributes={"ui.component_name":s}),n.startChild(i)}}})}function Di(e){if(Ka()&&ne){let n=Yg(e);return()=>{n()}}return()=>{}}function Wg(){return qa(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(L&&p.log("[Measurements] Adding CLS"),se.cls={value:e.value,unit:""},so=t)},!0)}function jg(){return oo(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(L&&p.log("[Measurements] Adding LCP"),se.lcp={value:e.value,unit:"millisecond"},St=t)},!0)}function zg(){return Ya(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=fe(ne),r=fe(t.startTime);L&&p.log("[Measurements] Adding FID"),se.fid={value:e.value,unit:"millisecond"},se["mark.fid"]={value:n+r,unit:"second"}})}function qg(){return Od(({metric:e})=>{e.entries[e.entries.length-1]&&(L&&p.log("[Measurements] Adding TTFB"),se.ttfb={value:e.value,unit:"millisecond"})})}var Pd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Yg(e){return Nd(({metric:t})=>{if(t.value===void 0)return;let n=t.entries.find(S=>S.duration===t.value&&Pd[S.name]!==void 0),r=I();if(!n||!r)return;let o=Pd[n.name],i=r.getOptions(),s=fe(ne+n.startTime),a=fe(t.value),c=n.interactionId!==void 0?e[n.interactionId]:void 0;if(c===void 0)return;let{routeName:u,parentContext:l,activeTransaction:d,user:f,replayId:m}=c,h=f!==void 0?f.email||f.id||f.ip_address:void 0,_=d!==void 0?d.getProfileId():void 0,y=new gn({startTimestamp:s,endTimestamp:s+a,op:`ui.interaction.${o}`,name:Le(n.target),attributes:{release:i.release,environment:i.environment,transaction:u,...h!==void 0&&h!==""?{user:h}:{},..._!==void 0?{profile_id:_}:{},...m!==void 0?{replay_id:m}:{}},exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),g=t_(l,i);if(g&&Math.random()<g){let S=y?Fa([y],r.getDsn()):void 0,b=r&&r.getTransport();b&&S&&b.send(S).then(null,k=>{L&&p.error("Error while sending interaction:",k)});return}})}function Li(e){let t=Ka();if(!t||!R.performance.getEntries||!ne)return;L&&p.log("[Tracing] Adding & adjusting spans using Performance API");let n=fe(ne),r=t.getEntries(),{op:o,start_timestamp:i}=A(e);if(r.slice(Ld).forEach(s=>{let a=fe(s.startTime),c=fe(s.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(s.entryType){case"navigation":{Kg(e,s,n);break}case"mark":case"paint":case"measure":{Vg(e,s,a,c,n);let u=Kn(),l=s.startTime<u.firstHiddenTime;s.name==="first-paint"&&l&&(L&&p.log("[Measurements] Adding FP"),se.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&l&&(L&&p.log("[Measurements] Adding FCP"),se.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{Xg(e,s,s.name,a,c,n);break}}}),Ld=Math.max(r.length-1,0),Zg(e),o==="pageload"){e_(se),["fcp","fp","lcp"].forEach(a=>{if(!se[a]||!i||n>=i)return;let c=se[a].value,u=n+fe(c),l=Math.abs((u-i)*1e3),d=l-c;L&&p.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),se[a].value=l});let s=se["mark.fid"];s&&se.fid&&(yn(e,{description:"first input delay",endTimestamp:s.value+fe(se.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:s.value}),delete se["mark.fid"]),"fcp"in se||delete se.cls,Object.keys(se).forEach(a=>{mi(a,se[a].value,se[a].unit)}),Qg(e)}St=void 0,so=void 0,se={}}function Vg(e,t,n,r,o){let i=o+n,s=i+r;return yn(e,{description:t.name,endTimestamp:s,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Kg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ai(e,t,r,n)}),Ai(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Ai(e,t,"fetch",n,"cache","domainLookupStart"),Ai(e,t,"domainLookup",n,"DNS"),Jg(e,t,n)}function Ai(e,t,n,r,o,i){let s=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!s||yn(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+fe(a),endTimestamp:r+fe(s)})}function Jg(e,t,n){t.responseEnd&&(yn(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+fe(t.requestStart),endTimestamp:n+fe(t.responseEnd)}),yn(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+fe(t.responseStart),endTimestamp:n+fe(t.responseEnd)}))}function Xg(e,t,n,r,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=cn(n),a={};Va(a,t,"transferSize","http.response_transfer_size"),Va(a,t,"encodedBodySize","http.response_content_length"),Va(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(R.location.origin);let c=i+r,u=c+o;yn(e,{description:n.replace(R.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function Zg(e){let t=R.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ki(n.rtt)&&(se["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ki(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),ki(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Qg(e){St&&(L&&p.log("[Measurements] Adding LCP Data"),St.element&&e.setTag("lcp.element",Le(St.element)),St.id&&e.setTag("lcp.id",St.id),St.url&&e.setTag("lcp.url",St.url.trim().slice(0,200)),e.setTag("lcp.size",St.size)),so&&so.sources&&(L&&p.log("[Measurements] Adding CLS Data"),so.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Le(t.node))))}function Va(e,t,n,r){let o=t[n];o!=null&&o<Gg&&(e[r]=o)}function e_(e){let t=$t();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(L&&p.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function t_(e,t){if(!Ve(t))return!1;let n;return e!==void 0&&typeof t.tracesSampler=="function"?n=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:R.location}):e!==void 0&&e.sampled!==void 0?n=e.sampled:typeof t.tracesSampleRate<"u"?n=t.tracesSampleRate:n=1,pi(n)?n:(L&&p.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}function Fd(e,t,n,r,o="auto.http.browser"){if(!Ve()||!e.fetchData)return;let i=t(e.fetchData.url);if(e.endTimestamp&&i){let d=e.fetchData.__span;if(!d)return;let f=r[d];if(f){if(e.response){Ut(f,e.response.status);let m=e.response&&e.response.headers&&e.response.headers.get("content-length");if(m){let h=parseInt(m);h>0&&f.setAttribute("http.response_content_length",h)}}else e.error&&f.setStatus("internal_error");f.end(),delete r[d]}return}let s=$(),a=I(),{method:c,url:u}=e.fetchData,l=i?Ke({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,[ue]:o},op:"http.client"}):void 0;if(l&&(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l),n(e.fetchData.url)&&a){let d=e.args[0];e.args[1]=e.args[1]||{};let f=e.args[1];f.headers=n_(d,a,s,f,l)}return l}function n_(e,t,n,r,o){let i=o||n.getSpan(),s=he(),{traceId:a,spanId:c,sampled:u,dsc:l}={...s.getPropagationContext(),...n.getPropagationContext()},d=i?Rt(i):un(a,c,u),f=Dr(l||(i?Ye(i):Ft(a,t,n))),m=r.headers||(typeof Request<"u"&&De(e,Request)?e.headers:void 0);if(m)if(typeof Headers<"u"&&De(m,Headers)){let h=new Headers(m);return h.append("sentry-trace",d),f&&h.append(Bn,f),h}else if(Array.isArray(m)){let h=[...m,["sentry-trace",d]];return f&&h.push([Bn,f]),h}else{let h="baggage"in m?m.baggage:void 0,_=[];return Array.isArray(h)?_.push(...h):h&&_.push(h),f&&_.push(f),{...m,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}var Ja=["localhost",/^\/(?!\/)/],Gt={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Ja,tracePropagationTargets:Ja};function Xn(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s}={traceFetch:Gt.traceFetch,traceXHR:Gt.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>s_(l,r||o),u={};t&&on(l=>{let d=Fd(l,a,c,u);s&&d&&Bd(d)}),n&&sn(l=>{let d=a_(l,a,c,u);s&&d&&Bd(d)})}function r_(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Bd(e){let{url:t}=A(e).data||{};if(!t||typeof t!="string")return;let n=Ne("resource",({entries:r})=>{r.forEach(o=>{r_(o)&&o.name.endsWith(t)&&(i_(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function o_(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Et(e=0){return((ne||performance.timeOrigin)+e)/1e3}function i_(e){let{name:t,version:n}=o_(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ne?[...r,["http.request.redirect_start",Et(e.redirectStart)],["http.request.fetch_start",Et(e.fetchStart)],["http.request.domain_lookup_start",Et(e.domainLookupStart)],["http.request.domain_lookup_end",Et(e.domainLookupEnd)],["http.request.connect_start",Et(e.connectStart)],["http.request.secure_connection_start",Et(e.secureConnectionStart)],["http.request.connection_end",Et(e.connectEnd)],["http.request.request_start",Et(e.requestStart)],["http.request.response_start",Et(e.responseStart)],["http.request.response_end",Et(e.responseEnd)]]:r}function s_(e,t){return pt(e,t||Ja)}function a_(e,t,n,r){let o=e.xhr,i=o&&o[We];if(!Ve()||!o||o.__sentry_own_request__||!i)return;let s=t(i.url);if(e.endTimestamp&&s){let d=o.__sentry_xhr_span_id__;if(!d)return;let f=r[d];f&&i.status_code!==void 0&&(Ut(f,i.status_code),f.end(),delete r[d]);return}let a=$(),c=he(),u=s?Ke({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,url:i.url,[ue]:"auto.http.browser"},op:"http.client"}):void 0;u&&(o.__sentry_xhr_span_id__=u.spanContext().spanId,r[o.__sentry_xhr_span_id__]=u);let l=I();if(o.setRequestHeader&&n(i.url)&&l){let{traceId:d,spanId:f,sampled:m,dsc:h}={...c.getPropagationContext(),...a.getPropagationContext()},_=u?Rt(u):un(d,f,m),y=Dr(h||(u?Ye(u):Ft(d,l,a)));c_(o,_,y)}return u}function c_(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Bn,n)}catch{}}function Ud(e,t=!0,n=!0){if(!R||!R.location){L&&p.warn("Could not initialize routing instrumentation due to invalid location");return}let r=R.location.href,o;t&&(o=e({name:R.location.pathname,startTimestamp:ne?ne/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&nt(({to:i,from:s})=>{if(s===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}s!==i&&(r=void 0,o&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=e({name:R.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}var Gd="BrowserTracing",u_={...Ht,markBackgroundTransactions:!0,routingInstrumentation:Ud,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...Gt},Hd=10,Pi=class{constructor(t){this.name=Gd,this._hasSetTracePropagationTargets=!1,zn(),L&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...u_,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Oi(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Di(this._interactionIdToRouteNameMapping),this.options.enableLongTask&&Ni(),this.options._experiments.enableInteractions&&Mi(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,n){this._getCurrentHub=n;let o=n().getClient(),i=o&&o.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:m,_experiments:h}=this.options,_=i&&i.tracePropagationTargets,y=_||this.options.tracePropagationTargets;L&&this._hasSetTracePropagationTargets&&_&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(g=>{let S=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,g,n),S},c,a),u&&xi(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Xn({traceFetch:l,traceXHR:d,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:m})}_createRouteTransaction(t){if(!this._getCurrentHub){L&&p.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:o,finalTimeout:i,heartbeatInterval:s}=this.options,a=t.op==="pageload",c;if(a){let m=a?$d("sentry-trace"):"",h=a?$d("baggage"):void 0,{traceId:_,dsc:y,parentSpanId:g,sampled:S}=Pr(m,h);c={traceId:_,parentSpanId:g,parentSampled:S,...t,metadata:{...t.metadata,dynamicSamplingContext:y},trimEnd:!0}}else c={trimEnd:!0,...t};let u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&L&&p.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),L&&p.log(`[Tracing] Starting ${l.op} transaction on scope`);let{location:d}=R,f=_n(n,l,o,i,!0,{location:d},s,a);return a&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(m=>{this._collectWebVitals(),Li(m)}),f}_registerInteractionListener(){let t,n=()=>{let{idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,s="ui.action.click",a=_e();if(a&&a.op&&["navigation","pageload"].includes(a.op)){L&&p.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){L&&p.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){L&&p.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=R,l={name:this._latestRoute.name,op:s,trimEnd:!0,data:{[z]:this._latestRoute.context?l_(this._latestRoute.context):"url"}};t=_n(c,l,r,o,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){let t=({entries:n})=>{let r=I(),o=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=o!==void 0?o.getReplayId():void 0,s=_e(),a=$(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(d_(u)){let l=u.interactionId;if(l===void 0)return;let d=this._interactionIdToRouteNameMapping[l],f=u.duration,m=u.startTime,h=Object.keys(this._interactionIdToRouteNameMapping),_=h.length>0?h.reduce((y,g)=>this._interactionIdToRouteNameMapping[y].duration<this._interactionIdToRouteNameMapping[g].duration?y:g):void 0;if(u.entryType==="first-input"&&h.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===f&&g.startTime===m)||!l)return;if(d)d.duration=Math.max(d.duration,f);else if(h.length<Hd||_===void 0||f>this._interactionIdToRouteNameMapping[_].duration){let y=this._latestRoute.name,g=this._latestRoute.context;y&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=Hd&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:y,duration:f,parentContext:g,user:c,activeTransaction:s,replayId:i,startTime:m})}}})};Ne("event",t),Ne("first-input",t)}};function $d(e){let t=Ir(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function l_(e){let t=e.attributes&&e.attributes[z],n=e.data&&e.data[z],r=e.metadata&&e.metadata.source;return t||n||r}function d_(e){return"duration"in e}var f_="BrowserTracing",p_={...Ht,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...Gt},At=(e={})=>{let t=L?!!(e.tracePropagationTargets||e.tracingOrigins):!1;zn(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let n={...p_,...e},r=Oi(),o={};n.enableInp&&Di(o),n.enableLongTask&&Ni(),n._experiments.enableInteractions&&Mi();let i={name:void 0,context:void 0};function s(a){let c=B(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,m=a.op==="pageload",h;if(m){let S=m?Wd("sentry-trace"):"",b=m?Wd("baggage"):void 0,{traceId:k,dsc:U,parentSpanId:C,sampled:v}=Pr(S,b);h={traceId:k,parentSpanId:C,parentSampled:v,...a,metadata:{...a.metadata,dynamicSamplingContext:U},trimEnd:!0}}else h={trimEnd:!0,...a};let _=u?u(h):h;_.metadata=_.name!==h.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&L&&p.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),L&&p.log(`[Tracing] Starting ${_.op} transaction on scope`);let{location:y}=R,g=_n(c,_,l,d,!0,{location:y},f,m);return m&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(S=>{r(),Li(S)}),g}return{name:f_,setupOnce:()=>{},afterAllSetup(a){let c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:m,_experiments:h}=n,_=c&&c.tracePropagationTargets,y=_||n.tracePropagationTargets;L&&t&&_&&p.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,S=R.location&&R.location.href;if(a.on&&(a.on("startNavigationSpan",b=>{g&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${A(g).op}`),g.end()),g=s({op:"navigation",...b})}),a.on("startPageLoadSpan",b=>{g&&(L&&p.log(`[Tracing] Finishing current transaction with op: ${A(g).op}`),g.end()),g=s({op:"pageload",...b})})),n.instrumentPageLoad&&a.emit&&R.location){let b={name:R.location.pathname,startTimestamp:ne?ne/1e3:void 0,origin:"auto.pageload.browser",attributes:{[z]:"url"}};Tt(a,b)}n.instrumentNavigation&&a.emit&&R.location&&nt(({to:b,from:k})=>{if(k===void 0&&S&&S.indexOf(b)!==-1){S=void 0;return}if(k!==b){S=void 0;let U={name:R.location.pathname,origin:"auto.navigation.browser",attributes:{[z]:"url"}};bt(a,U)}}),u&&xi(),h.enableInteractions&&m_(n,i),n.enableInp&&g_(o,i),Xn({traceFetch:l,traceXHR:d,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:m})},options:n}};function Tt(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let n=Je();return(n&&A(n).op)==="pageload"?n:void 0}function bt(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let n=Je();return(n&&A(n).op)==="navigation"?n:void 0}function Wd(e){let t=Ir(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function m_(e,t){let n,r=()=>{let{idleTimeout:o,finalTimeout:i,heartbeatInterval:s}=e,a="ui.action.click",c=_e();if(c&&c.op&&["navigation","pageload"].includes(c.op)){L&&p.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){L&&p.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let{location:u}=R,l={name:t.name,op:a,trimEnd:!0,data:{[z]:t.context?__(t.context):"url"}};n=_n(B(),l,o,i,!0,{location:u},s)};["click"].forEach(o=>{addEventListener(o,r,{once:!1,capture:!0})})}function h_(e){return"duration"in e}var jd=10;function g_(e,t){let n=({entries:r})=>{let o=I(),i=o!==void 0&&o.getIntegrationByName!==void 0?o.getIntegrationByName("Replay"):void 0,s=i!==void 0?i.getReplayId():void 0,a=_e(),c=$(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(h_(l)){let d=l.interactionId;if(d===void 0)return;let f=e[d],m=l.duration,h=l.startTime,_=Object.keys(e),y=_.length>0?_.reduce((g,S)=>e[g].duration<e[S].duration?g:S):void 0;if(l.entryType==="first-input"&&_.map(S=>e[S]).some(S=>S.duration===m&&S.startTime===h)||!d)return;if(f)f.duration=Math.max(f.duration,m);else if(_.length<jd||y===void 0||m>e[y].duration){let g=t.name,S=t.context;g&&S&&(y&&Object.keys(e).length>=jd&&delete e[y],e[d]={routeName:g,duration:m,parentContext:S,user:u,activeTransaction:a,replayId:s,startTime:h})}}})};Ne("event",n),Ne("first-input",n)}function __(e){let t=e.attributes&&e.attributes[z],n=e.data&&e.data[z],r=e.metadata&&e.metadata.source;return t||n||r}var T=x,Xa=0;function Za(){return Xa>0}function y_(){Xa++,setTimeout(()=>{Xa--})}function Ot(e,t={},n){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return o;if(rn(e))return e}catch{return e}let r=function(){let o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let i=o.map(s=>Ot(s,t));return e.apply(this,i)}catch(i){throw y_(),ze(s=>{s.addEventProcessor(a=>(t.mechanism&&(Ln(a,void 0,void 0),xt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),Ct(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}Uo(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Fi(e,t){let n=tc(e,t),r={type:t&&t.name,value:b_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function S_(e,t,n,r){let o=I(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:tn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:I_(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Jo(t,i)}};if(n){let a=tc(e,n);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function Qa(e,t){return{exception:{values:[Fi(e,t)]}}}function tc(e,t){let n=t.stacktrace||t.stack||"",r=T_(t);try{return e(n,r)}catch{}return[]}var E_=/Minified React error #\d+;/i;function T_(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(E_.test(e.message))return 1}return 0}function b_(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function nc(e,t,n,r){let o=n&&n.syntheticException||void 0,i=Bi(e,t,o,r);return xt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),rt(i)}function rc(e,t,n="info",r,o){let i=r&&r.syntheticException||void 0,s=ec(e,t,i,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),rt(s)}function Bi(e,t,n,r,o){let i;if(On(t)&&t.error)return Qa(e,t.error);if(Lo(t)||Us(t)){let s=t;if("stack"in t)i=Qa(e,t);else{let a=s.name||(Lo(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=ec(e,c,n,r),Ln(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Qt(t)?Qa(e,t):et(t)||tn(t)?(i=S_(e,t,n,o),xt(i,{synthetic:!0}),i):(i=ec(e,t,n,r),Ln(i,`${t}`,void 0),xt(i,{synthetic:!0}),i)}function ec(e,t,n,r){let o={};if(r&&n){let i=tc(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(Nn(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function I_(e,{isUnhandledRejection:t}){let n=qs(e),r=t?"promise rejection":"exception";return On(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:tn(e)?`Event \`${v_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function v_(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function oc(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:be(r)}},i=x_(e);return Te(o,[i])}function x_(e){return[{type:"user_report"},e]}var ao=class extends Qr{constructor(t){let n=T.SENTRY_SDK_SOURCE||na();eo(t,"browser",["browser"],n),super(t),t.sendClientReports&&T.document&&T.document.addEventListener("visibilitychange",()=>{T.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return nc(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return rc(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){N&&p.warn("SDK not enabled, will not capture user feedback.");return}let n=oc(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(t.length===0){N&&p.log("No outcomes to send");return}if(!this._dsn){N&&p.log("No dsn provided, will not send outcomes");return}N&&p.log("Sending outcomes:",t);let n=fa(t,this._options.tunnel&&be(this._dsn));this._sendEnvelope(n)}};var co;function zd(){if(co)return co;if(kr(T.fetch))return co=T.fetch.bind(T);let e=T.document,t=T.fetch;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){N&&p.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return co=t.bind(T)}function qd(){co=void 0}function ic(e,t=zd()){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return qd(),n-=s,r--,an(c)}}return Yn(e,o)}var w_=4;function sc(e){function t(n){return new Pe((r,o)=>{let i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=()=>{i.readyState===w_&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(let s in e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&i.setRequestHeader(s,e.headers[s]);i.send(n.body)})}return Yn(e,t)}var Zn="?",R_=10,C_=20,k_=30,A_=40,O_=50;function uo(e,t,n,r){let o={filename:e,function:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var N_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,M_=/\((\S*)(?::(\d+))(?::(\d+))\)/,D_=e=>{let t=N_.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){let i=M_.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}let[r,o]=Xd(t[1]||Zn,t[2]);return uo(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Yd=[k_,D_],L_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,P_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,F_=e=>{let t=L_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=P_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||Zn;return[o,r]=Xd(o,r),uo(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Vd=[O_,F_],B_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,U_=e=>{let t=B_.exec(e);return t?uo(t[2],t[1]||Zn,+t[3],t[4]?+t[4]:void 0):void 0},Kd=[A_,U_],H_=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,$_=e=>{let t=H_.exec(e);return t?uo(t[2],t[3]||Zn,+t[1]):void 0},G_=[R_,$_],W_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,j_=e=>{let t=W_.exec(e);return t?uo(t[5],t[3]||t[4]||Zn,+t[1],+t[2]):void 0},z_=[C_,j_],Jd=[Yd,Vd,Kd],ac=$o(...Jd),Xd=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Zn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var Ui=1024,Zd="Breadcrumbs",q_=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Zd,setupOnce(){},setup(n){t.console&&Ks(K_(n)),t.dom&&Cr(V_(n,t.dom)),t.xhr&&sn(J_(n)),t.fetch&&on(X_(n)),t.history&&nt(Z_(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Y_(n))}}},Hi=q_,cc=X(Zd,Hi);function Y_(e){return function(n){I()===e&&je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:tt(n)},{event:n})}}function V_(e,t){return function(r){if(I()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Ui&&(N&&p.warn(`\`dom.maxStringLength\` cannot exceed ${Ui}, but a value of ${a} was configured. Sentry will use ${Ui} instead.`),a=Ui),typeof s=="string"&&(s=[s]);try{let u=r.event,l=Q_(u)?u.target:u;o=Le(l,{keyAttrs:s,maxStringLength:a}),i=vr(l)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),je(c,{event:r.event,name:r.name,global:r.global})}}function K_(e){return function(n){if(I()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:oa(n.level),message:Po(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Po(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;je(r,{input:n.args,level:n.level})}}function J_(e){return function(n){if(I()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[We];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:u}=i,l={method:s,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o};je({category:"xhr",data:l,type:"http"},d)}}function X_(e){return function(n){if(I()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};je({category:"fetch",data:i,level:"error",type:"http"},s)}else{let i=n.response,s={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:o};je({category:"fetch",data:s,type:"http"},a)}}}function Z_(e){return function(n){if(I()!==e)return;let r=n.from,o=n.to,i=cn(T.location.href),s=r?cn(r):void 0,a=cn(o);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),je({category:"navigation",data:{from:r,to:o}})}}function Q_(e){return!!e&&!!e.target}var tf="Dedupe",ey=()=>{let e;return{name:tf,setupOnce(){},processEvent(t){if(t.type)return t;try{if(ty(t,e))return N&&p.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},$i=ey,uc=X(tf,$i);function ty(e,t){return t?!!(ny(e,t)||ry(e,t)):!1}function ny(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!rf(e,t)||!nf(e,t))}function ry(e,t){let n=Qd(t),r=Qd(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!rf(e,t)||!nf(e,t))}function nf(e,t){let n=ef(e),r=ef(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let i=r[o],s=n[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function rf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Qd(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ef(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var sf="GlobalHandlers",oy=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:sf,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(iy(n),of("onerror")),t.onunhandledrejection&&(sy(n),of("onunhandledrejection"))}}},Gi=oy,lc=X(sf,Gi);function iy(e){Ar(t=>{let{stackParser:n,attachStacktrace:r}=cf();if(I()!==e||Za())return;let{msg:o,url:i,line:s,column:a,error:c}=t,u=c===void 0&&Se(o)?uy(o,i,s,a):af(Bi(n,c||o,void 0,r,!1),i,s,a);u.level="error",Wr(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function sy(e){Or(t=>{let{stackParser:n,attachStacktrace:r}=cf();if(I()!==e||Za())return;let o=ay(t),i=en(o)?cy(o):Bi(n,o,void 0,r,!0);i.level="error",Wr(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function ay(e){if(en(e))return e;let t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function cy(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function uy(e,t,n,r){let o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,i=On(e)?e.message:e,s="Error",a=i.match(o);return a&&(s=a[1],i=a[2]),af({exception:{values:[{type:s,value:i}]}},t,n,r)}function af(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Se(t)&&t.length>0?t:br();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function of(e){N&&p.log(`Global Handler attached: ${e}`)}function cf(){let e=I();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var uf="HttpContext",ly=()=>({name:uf,setupOnce(){},preprocessEvent(e){if(!T.navigator&&!T.location&&!T.document)return;let t=e.request&&e.request.url||T.location&&T.location.href,{referrer:n}=T.document||{},{userAgent:r}=T.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),Wi=ly,dc=X(uf,Wi);var dy="cause",fy=5,lf="LinkedErrors",py=(e={})=>{let t=e.limit||fy,n=e.key||dy;return{name:lf,setupOnce(){},preprocessEvent(r,o,i){let s=i.getOptions();Er(Fi,s.stackParser,s.maxValueLength,n,t,r,o)}}},ji=py,fc=X(lf,ji);var my=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ff="TryCatch",hy=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:ff,setupOnce(){t.setTimeout&&Q(T,"setTimeout",df),t.setInterval&&Q(T,"setInterval",df),t.requestAnimationFrame&&Q(T,"requestAnimationFrame",gy),t.XMLHttpRequest&&"XMLHttpRequest"in T&&Q(XMLHttpRequest.prototype,"send",_y);let n=t.eventTarget;n&&(Array.isArray(n)?n:my).forEach(yy)}}},zi=hy,pc=X(ff,zi);function df(e){return function(...t){let n=t[0];return t[0]=Ot(n,{mechanism:{data:{function:Ce(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function gy(e){return function(t){return e.apply(this,[Ot(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ce(e)},handled:!1,type:"instrument"}})])}}function _y(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&Q(n,o,function(i){let s={mechanism:{data:{function:o,handler:Ce(i)},handled:!1,type:"instrument"}},a=rn(i);return a&&(s.mechanism.data.handler=Ce(a)),Ot(i,s)})}),e.apply(this,t)}}function yy(e){let t=T,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Q(n,"addEventListener",function(r){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ot(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ce(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,Ot(i,{mechanism:{data:{function:"addEventListener",handler:Ce(i),target:e},handled:!1,type:"instrument"}}),s])}}),Q(n,"removeEventListener",function(r){return function(o,i,s){let a=i;try{let c=a&&a.__sentry_wrapped__;c&&r.call(this,o,c,s)}catch{}return r.call(this,o,a,s)}}))}var pf=[to(),no(),zi(),Hi(),Gi(),ji(),$i(),Wi()];function mf(e){return[...pf]}function mc(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=mf()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),T.SENTRY_RELEASE&&T.SENTRY_RELEASE.id&&(e.release=T.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);let t={...e,stackParser:Vs(e.stackParser||ac),integrations:wa(e),transport:e.transport||(jo()?ic:sc)};Ma(ao,t),e.autoSessionTracking&&by()}var qi=(e={},t=B())=>{if(!T.document){N&&p.error("Global document not defined in showReportDialog call");return}let{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o){N&&p.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());let i=T.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=xa(o,e),e.onLoad&&(i.onload=e.onLoad);let{onClose:s}=e;if(s){let c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{s()}finally{T.removeEventListener("message",c)}};T.addEventListener("message",c)}let a=T.document.head||T.document.body;a?a.appendChild(i):N&&p.error("Not injecting report dialog. No injection point found in HTML")};function Sy(){}function Ey(e){e()}function Ty(e){return Ot(e)()}function by(){if(typeof T.document>"u"){N&&p.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}zr({ignoreDuration:!0}),qr(),nt(({from:e,to:t})=>{e!==void 0&&e!==t&&(zr({ignoreDuration:!0}),qr())})}function Iy(e){let t=I();t&&t.captureUserFeedback(e)}var hc={};vu(hc,{Breadcrumbs:()=>cc,Dedupe:()=>uc,GlobalHandlers:()=>lc,HttpContext:()=>dc,LinkedErrors:()=>fc,TryCatch:()=>pc});var te=x,$c="sentryReplaySession",vy="replay_event",Gc="Unable to send Replay",xy=3e5,wy=9e5,Ry=5e3,Cy=5500,ky=6e4,Ay=5e3,Oy=3,hf=15e4,Yi=5e3,Ny=3e3,My=300,Wc=2e7,Dy=4999,Ly=15e3,gf=36e5;function Py(e,t){return e??t()}function Ji(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var pe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(pe||(pe={}));function Fy(e){return e.nodeType===e.ELEMENT_NODE}function fo(e){let t=Ji([e,"optionalAccess",n=>n.host]);return Ji([t,"optionalAccess",n=>n.shadowRoot])===e}function po(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function By(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Uy(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Xi(e){try{let t=e.rules||e.cssRules;return t?By(Array.from(t,Pf).join("")):null}catch{return null}}function Pf(e){let t;if($y(e))try{t=Xi(e.styleSheet)||Uy(e)}catch{}else if(Gy(e)&&e.selectorText.includes(":"))return Hy(e.cssText);return t||e.cssText}function Hy(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function $y(e){return"styleSheet"in e}function Gy(e){return"selectorText"in e}var Zi=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=Ji([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Py(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Wy(){return new Zi}function ds({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function ho({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function sr(e){return e.toLowerCase()}function Ec(e){return e.toUpperCase()}var _f="__rrweb_original__";function jy(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=_f in i?i[_f]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function jc(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?sr(t):null}function Qi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}var zy=1,qy=new RegExp("[^a-z0-9-_:]"),go=-2;function zc(){return zy++}function Yy(e){if(e instanceof HTMLFormElement)return"form";let t=sr(e.tagName);return qy.test(t)?"div":t}function Vy(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Qn,yf,Ky=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Jy=/^(?:[a-z+]+:)?\/\//i,Xy=/^www\..*/i,Zy=/^(data:)([^,]*),(.*)/i;function es(e,t){return(e||"").replace(Ky,(n,r,o,i,s,a)=>{let c=o||s||a,u=r||i||"";if(!c)return n;if(Jy.test(c)||Xy.test(c))return`url(${u}${c}${u})`;if(Zy.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Vy(t)+c}${u})`;let l=t.split("/"),d=c.split("/");l.pop();for(let f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}var Qy=/^[^ \t\n\r\u000c]+/,eS=/^[, \t\n\r\u000c]+/;function tS(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(eS),!(n>=t.length);){let i=r(Qy);if(i.slice(-1)===",")i=tr(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=tr(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}function tr(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function nS(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function qc(){let e=document.createElement("a");return e.href="",e.href}function Ff(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?tr(e,r):n==="srcset"?tS(e,r):n==="style"?es(r,qc()):t==="object"&&n==="data"?tr(e,r):typeof i=="function"?i(n,r,o):r)}function Bf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function rS(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function oS(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Sn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Sn(e.parentNode,t,n,r+1)}function nr(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(oS(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function ar(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=Sn(s,nr(r,o)),c<0)return!0;a=Sn(s,nr(t,n),c>=0?c:1/0)}else{if(a=Sn(s,nr(t,n)),a<0)return!1;c=Sn(s,nr(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function iS(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=setTimeout(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function sS(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function aS(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:_,maskInputFn:y,dataURLOptions:g={},inlineImages:S,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:U=!1}=t,C=cS(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:pe.Document,childNodes:[],compatMode:e.compatMode}:{type:pe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:pe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return lS(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:g,inlineImages:S,recordCanvas:b,keepIframeSrcFn:k,newlyAddedElement:U,rootId:C,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return uS(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:h,maskInputFn:y,rootId:C});case e.CDATA_SECTION_NODE:return{type:pe.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:pe.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function cS(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function uS(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,m=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||Ji([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=Xi(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}f=es(f,qc())}h&&(f="SCRIPT_PLACEHOLDER");let y=ar(e,r,i,o,s,n);if(!m&&!h&&!_&&f&&y&&(f=a?a(f):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){let g=ds({type:null,tagName:d,maskInputOptions:c});f=ho({isMasked:ar(e,r,i,o,s,g),element:e,value:f,maskInputFn:u})}return{type:pe.Text,textContent:f||"",isStyle:m,rootId:l}}function lS(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:_,maskAllText:y,maskTextClass:g,unmaskTextClass:S,maskTextSelector:b,unmaskTextSelector:k}=t,U=rS(e,r,o,i),C=Yy(e),v={},H=e.attributes.length;for(let w=0;w<H;w++){let O=e.attributes[w];O.name&&!Bf(C,O.name,O.value)&&(v[O.name]=Ff(n,C,sr(O.name),O.value,e,c))}if(C==="link"&&s){let w=Array.from(n.styleSheets).find(q=>q.href===e.href),O=null;w&&(O=Xi(w)),O&&(delete v.rel,delete v.href,v._cssText=es(O,w.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let w=Xi(e.sheet);w&&(v._cssText=es(w,qc()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){let w=e,O=jc(w),q=Qi(w,Ec(C),O),oe=w.checked;if(O!=="submit"&&O!=="button"&&q){let ae=ar(w,g,b,S,k,ds({type:O,tagName:Ec(C),maskInputOptions:a}));v.value=ho({isMasked:ae,element:w,value:q,maskInputFn:u})}oe&&(v.checked=oe)}if(C==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),C==="canvas"&&f){if(e.__context==="2d")jy(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){let w=e.toDataURL(l.type,l.quality),O=document.createElement("canvas");O.width=e.width,O.height=e.height;let q=O.toDataURL(l.type,l.quality);w!==q&&(v.rr_dataURL=w)}}if(C==="img"&&d){Qn||(Qn=n.createElement("canvas"),yf=Qn.getContext("2d"));let w=e,O=w.crossOrigin;w.crossOrigin="anonymous";let q=()=>{w.removeEventListener("load",q);try{Qn.width=w.naturalWidth,Qn.height=w.naturalHeight,yf.drawImage(w,0,0),v.rr_dataURL=Qn.toDataURL(l.type,l.quality)}catch(oe){console.warn(`Cannot inline img src=${w.currentSrc}! Error: ${oe}`)}O?v.crossOrigin=O:w.removeAttribute("crossorigin")};w.complete&&w.naturalWidth!==0?q():w.addEventListener("load",q)}if((C==="audio"||C==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),U){let{width:w,height:O}=e.getBoundingClientRect();v={class:v.class,rr_width:`${w}px`,rr_height:`${O}px`}}C==="iframe"&&!m(v.src)&&(e.contentDocument||(v.rr_src=v.src),delete v.src);let K;try{customElements.get(C)&&(K=!0)}catch{}return{type:pe.Element,tagName:C,attributes:v,childNodes:[],isSVG:nS(e)||void 0,needBlock:U,rootId:_,isCustom:K}}function ee(e){return e==null?"":e.toLowerCase()}function dS(e,t){if(t.comment&&e.type===pe.Comment)return!0;if(e.type===pe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ee(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ee(e.attributes.name)==="application-name"||ee(e.attributes.rel)==="icon"||ee(e.attributes.rel)==="apple-touch-icon"||ee(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ee(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ee(e.attributes.property).match(/^(og|twitter|fb):/)||ee(e.attributes.name).match(/^(og|twitter):/)||ee(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ee(e.attributes.name)==="robots"||ee(e.attributes.name)==="googlebot"||ee(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ee(e.attributes.name)==="author"||ee(e.attributes.name)==="generator"||ee(e.attributes.name)==="framework"||ee(e.attributes.name)==="publisher"||ee(e.attributes.name)==="progid"||ee(e.attributes.property).match(/^article:/)||ee(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ee(e.attributes.name)==="google-site-verification"||ee(e.attributes.name)==="yandex-verification"||ee(e.attributes.name)==="csrf-token"||ee(e.attributes.name)==="p:domain_verify"||ee(e.attributes.name)==="verify-v1"||ee(e.attributes.name)==="verification"||ee(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function rr(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:b={},inlineImages:k=!1,recordCanvas:U=!1,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:H=5e3,onStylesheetLoad:K,stylesheetLoadTimeout:w=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:q=!1}=t,{preserveWhiteSpace:oe=!0}=t,ae=aS(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,dataURLOptions:b,inlineImages:k,recordCanvas:U,keepIframeSrcFn:O,newlyAddedElement:q});if(!ae)return console.warn(e,"not serialized"),null;let Me;r.hasNode(e)?Me=r.getId(e):dS(ae,S)||!oe&&ae.type===pe.Text&&!ae.isStyle&&!ae.textContent.replace(/^\s+|\s+$/gm,"").length?Me=go:Me=zc();let J=Object.assign(ae,{id:Me});if(r.add(e,J),Me===go)return null;C&&C(e);let lt=!f;if(J.type===pe.Element){lt=lt&&!J.needBlock,delete J.needBlock;let ie=e.shadowRoot;ie&&po(ie)&&(J.isShadowHost=!0)}if((J.type===pe.Document||J.type===pe.Element)&&lt){S.headWhitespace&&J.type===pe.Element&&J.tagName==="head"&&(oe=!1);let ie={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:b,inlineImages:k,recordCanvas:U,preserveWhiteSpace:oe,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:K,stylesheetLoadTimeout:w,keepIframeSrcFn:O};for(let we of Array.from(e.childNodes)){let dt=rr(we,ie);dt&&J.childNodes.push(dt)}if(Fy(e)&&e.shadowRoot)for(let we of Array.from(e.shadowRoot.childNodes)){let dt=rr(we,ie);dt&&(po(e.shadowRoot)&&(dt.isShadow=!0),J.childNodes.push(dt))}}return e.parentNode&&fo(e.parentNode)&&po(e.parentNode)&&(J.isShadow=!0),J.type===pe.Element&&J.tagName==="iframe"&&iS(e,()=>{let ie=e.contentDocument;if(ie&&v){let we=rr(ie,{doc:ie,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:b,inlineImages:k,recordCanvas:U,preserveWhiteSpace:oe,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:K,stylesheetLoadTimeout:w,keepIframeSrcFn:O});we&&v(e,we)}},H),J.type===pe.Element&&J.tagName==="link"&&J.attributes.rel==="stylesheet"&&sS(e,()=>{if(K){let ie=rr(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S,dataURLOptions:b,inlineImages:k,recordCanvas:U,preserveWhiteSpace:oe,onSerialize:C,onIframeLoad:v,iframeLoadTimeout:H,onStylesheetLoad:K,stylesheetLoadTimeout:w,keepIframeSrcFn:O});ie&&K(e,ie)}},w),J}function fS(e,t){let{mirror:n=new Zi,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOM:S=!1,dataURLOptions:b,preserveWhiteSpace:k,onSerialize:U,onIframeLoad:C,iframeLoadTimeout:v,onStylesheetLoad:H,stylesheetLoadTimeout:K,keepIframeSrcFn:w=()=>!1}=t||{};return rr(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:_,maskTextFn:y,maskInputFn:g,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:b,inlineImages:f,recordCanvas:m,preserveWhiteSpace:k,onSerialize:U,onIframeLoad:C,iframeLoadTimeout:v,onStylesheetLoad:H,stylesheetLoadTimeout:K,keepIframeSrcFn:w,newlyAddedElement:!1})}function Wt(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function xe(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var er=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Sf={map:{},getId(){return console.error(er),-1},getNode(){return console.error(er),null},removeNodeFromMap(){console.error(er)},has(){return console.error(er),!1},reset(){console.error(er)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Sf=new Proxy(Sf,{get(e,t,n){return t==="map"&&console.error(er),Reflect.get(e,t,n)}}));function _o(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Uf(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Uf(e,t,i||{},!0)}function Yc(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var ts=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ts=()=>new Date().getTime());function Hf(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Wt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Wt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Wt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Wt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Wt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Wt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function $f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ut(e,t,n,r,o){if(!e)return!1;let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;let s=nr(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=Sn(i,s),c=-1;return a<0?!1:(r&&(c=Sn(i,nr(null,r))),a>-1&&c<0?!0:a<c)}function pS(e,t){return t.getId(e)!==-1}function gc(e,t){return t.getId(e)===go}function Wf(e,t){if(fo(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Wf(e.parentNode,t):!0:!0}function Tc(e){return!!e.changedTouches}function mS(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function jf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function zf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function bc(e){return!!Wt([e,"optionalAccess",t=>t.shadowRoot])}var Ic=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return ma(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function qf(e){let t=null;return Wt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function hS(e){let t=e,n;for(;n=qf(t);)t=n;return t}function gS(e){let t=e.ownerDocument;if(!t)return!1;let n=hS(e);return t.contains(n)}function Yf(e){let t=e.ownerDocument;return t?t.contains(e)||gS(e):!1}var _c;function _S(){if(_c)return _c;let e=window.document,t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return _c=t.bind(window)}function yS(...e){return _S()(...e)}var P=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(P||{}),F=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(F||{}),Ie=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ie||{}),Nt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Nt||{});function SS(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function Ef(e){return"__ln"in e}var vc=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=SS([n,"optionalAccess",o=>o.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Ef(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Ef(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},Tf=(e,t)=>`${e}@${t}`,xc=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new vc,o=c=>{let u=c,l=go;for(;l===go;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Yf(c))return;let u=fo(c.parentNode)?this.mirror.getId(qf(c)):this.mirror.getId(c.parentNode),l=o(c);if(u===-1||l===-1)return r.addNode(c);let d=rr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{jf(f,this.mirror)&&this.iframeManager.addIframe(f),zf(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),bc(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{this.iframeManager.attachIframe(f,m),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)bf(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!If(this.droppedSet,c)&&!bf(this.removes,c,this.mirror)||If(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let u=this.mirror.getId(s.value.parentNode),l=o(s.value);u!==-1&&l!==-1&&(c=s)}if(!c){let u=r.tail;for(;u;){let l=u;if(u=u.previous,l){let d=this.mirror.getId(l.value.parentNode);if(o(l.value)===-1)continue;if(d!==-1){c=l;break}else{let m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(gc(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{let r=t.target.textContent;!ut(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:ar(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,o=t.attributeName,i=t.target.getAttribute(o);if(o==="value"){let a=jc(r),c=r.tagName;i=Qi(r,c,a);let u=ds({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),l=ar(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);i=ho({isMasked:l,element:r,value:i,maskInputFn:this.maskInputFn})}if(ut(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&o==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)o="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),o==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Bf(r.tagName,o)&&(s.attributes[o]=Ff(this.doc,sr(r.tagName),sr(o),i,r,this.maskAttributeFn),o==="style")){let a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(let c of Array.from(r.style)){let u=r.style.getPropertyValue(c),l=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||l!==a.style.getPropertyPriority(c)?l===""?s.styleDiff[c]=u:s.styleDiff[c]=[u,l]:s._unchangedStyles[c]=[u,l]}for(let c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(s.styleDiff[c]=!1)}break}case"childList":{if(ut(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let o=this.mirror.getId(r),i=fo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ut(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||gc(r,this.mirror)||!pS(r,this.mirror)||(this.addedSet.has(r)?(wc(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&o===-1||Wf(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Tf(o,i)]?wc(this.movedSet,r):this.removes.push({parentId:i,id:o,isShadow:fo(t.target)&&po(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(gc(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Tf(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ut(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),bc(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function wc(e,t){e.delete(t),t.childNodes.forEach(n=>wc(e,n))}function bf(e,t,n){return e.length===0?!1:Vf(e,t,n)}function Vf(e,t,n){let{parentNode:r}=t;if(!r)return!1;let o=n.getId(r);return e.some(i=>i.id===o)?!0:Vf(e,r,n)}function If(e,t){return e.size===0?!1:Kf(e,t)}function Kf(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Kf(e,n):!1}var mo;function ES(e){mo=e}function TS(){mo=void 0}var G=e=>mo?(...n)=>{try{return e(...n)}catch(r){if(mo&&mo(r)===!0)return()=>{};throw r}}:e;function It(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var or=[];function bo(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Jf(e,t){let n=new xc;or.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=It([window,"optionalAccess",s=>s.Zone,"optionalAccess",s=>s.__symbol__,"optionalCall",s=>s("MutationObserver")]);o&&window[o]&&(r=window[o]);let i=new r(G(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function bS({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=_o(G(d=>{let f=Date.now()-a;e(s.map(m=>(m.timeOffset-=f,m)),d),s=[],a=null}),i),u=G(_o(G(d=>{let f=bo(d),{clientX:m,clientY:h}=Tc(d)?d.changedTouches[0]:d;a||(a=ts()),s.push({x:m,y:h,id:r.getId(f),timeOffset:ts()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?F.Drag:d instanceof MouseEvent?F.MouseMove:F.TouchMove)}),o,{trailing:!1})),l=[xe("mousemove",u,n),xe("touchmove",u,n),xe("drag",u,n)];return G(()=>{l.forEach(d=>d())})}function IS({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],u=null,l=d=>f=>{let m=bo(f);if(ut(m,r,o,i,!0))return;let h=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Nt.Mouse;break;case"touch":h=Nt.Touch;break;case"pen":h=Nt.Pen;break}h===Nt.Touch?Ie[d]===Ie.MouseDown?_="TouchStart":Ie[d]===Ie.MouseUp&&(_="TouchEnd"):Nt.Pen}else Tc(f)&&(h=Nt.Touch);h!==null?(u=h,(_.startsWith("Touch")&&h===Nt.Touch||_.startsWith("Mouse")&&h===Nt.Mouse)&&(h=null)):Ie[d]===Ie.Click&&(h=u,u=null);let y=Tc(f)?f.changedTouches[0]:f;if(!y)return;let g=n.getId(m),{clientX:S,clientY:b}=y;G(e)({type:Ie[_],id:g,x:S,y:b,...h!==null&&{pointerType:h}})};return Object.keys(Ie).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=sr(d),m=l(d);if(window.PointerEvent)switch(Ie[d]){case Ie.MouseDown:case Ie.MouseUp:f=f.replace("mouse","pointer");break;case Ie.TouchStart:case Ie.TouchEnd:return}c.push(xe(f,m,t))}),G(()=>{c.forEach(d=>d())})}function Xf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=G(_o(G(c=>{let u=bo(c);if(!u||ut(u,r,o,i,!0))return;let l=n.getId(u);if(u===t&&t.defaultView){let d=Hf(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return xe("scroll",a,t)}function vS({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=G(_o(G(()=>{let i=$f(),s=Gf();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return xe("resize",o,t)}var xS=["INPUT","TEXTAREA","SELECT"],vf=new WeakMap;function wS({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:_}){function y(v){let H=bo(v),K=v.isTrusted,w=H&&Ec(H.tagName);if(w==="OPTION"&&(H=H.parentElement),!H||!w||xS.indexOf(w)<0||ut(H,r,o,i,!0))return;let O=H;if(O.classList.contains(s)||a&&O.matches(a))return;let q=jc(H),oe=Qi(O,w,q),ae=!1,Me=ds({maskInputOptions:c,tagName:w,type:q}),J=ar(H,f,h,m,_,Me);(q==="radio"||q==="checkbox")&&(ae=H.checked),oe=ho({isMasked:J,element:H,value:oe,maskInputFn:u}),g(H,d?{text:oe,isChecked:ae,userTriggered:K}:{text:oe,isChecked:ae});let lt=H.name;q==="radio"&&lt&&ae&&t.querySelectorAll(`input[type="radio"][name="${lt}"]`).forEach(ie=>{if(ie!==H){let we=ho({isMasked:J,element:ie,value:Qi(ie,w,q),maskInputFn:u});g(ie,d?{text:we,isChecked:!ae,userTriggered:!1}:{text:we,isChecked:!ae})}})}function g(v,H){let K=vf.get(v);if(!K||K.text!==H.text||K.isChecked!==H.isChecked){vf.set(v,H);let w=n.getId(v);G(e)({...H,id:w})}}let b=(l.input==="last"?["change"]:["input","change"]).map(v=>xe(v,G(y),t)),k=t.defaultView;if(!k)return()=>{b.forEach(v=>v())};let U=k.Object.getOwnPropertyDescriptor(k.HTMLInputElement.prototype,"value"),C=[[k.HTMLInputElement.prototype,"value"],[k.HTMLInputElement.prototype,"checked"],[k.HTMLSelectElement.prototype,"value"],[k.HTMLTextAreaElement.prototype,"value"],[k.HTMLSelectElement.prototype,"selectedIndex"],[k.HTMLOptionElement.prototype,"selected"]];return U&&U.set&&b.push(...C.map(v=>Uf(v[0],v[1],{set(){G(y)({target:this,isTrusted:!1})}},!1,k))),G(()=>{b.forEach(v=>v())})}function ns(e){let t=[];function n(r,o){if(Vi("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vi("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vi("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vi("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function jt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function RS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:G((l,d,f)=>{let[m,h]=f,{id:_,styleId:y}=jt(d,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,adds:[{rule:m,index:h}]}),l.apply(d,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:G((l,d,f)=>{let[m]=f,{id:h,styleId:_}=jt(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,removes:[{index:m}]}),l.apply(d,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:G((l,d,f)=>{let[m]=f,{id:h,styleId:_}=jt(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replace:m}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:G((l,d,f)=>{let[m]=f,{id:h,styleId:_}=jt(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replaceSync:m}),l.apply(d,f)})}));let c={};Ki("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ki("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ki("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ki("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:G((f,m,h)=>{let[_,y]=h,{id:g,styleId:S}=jt(m.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:_,index:[...ns(m),y||0]}]}),f.apply(m,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:G((f,m,h)=>{let[_]=h,{id:y,styleId:g}=jt(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,removes:[{index:[...ns(m),_]}]}),f.apply(m,h)})})}),G(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Zf({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?It([n,"access",s=>s.defaultView,"optionalAccess",s=>s.Document]):It([n,"access",s=>s.ownerDocument,"optionalAccess",s=>s.defaultView,"optionalAccess",s=>s.ShadowRoot]),i=It([o,"optionalAccess",s=>s.prototype])?Object.getOwnPropertyDescriptor(It([o,"optionalAccess",s=>s.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return It([i,"access",s=>s.get,"optionalAccess",s=>s.call,"call",s=>s(this)])},set(s){let a=It([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,s)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),G(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function CS({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:G((a,c,u)=>{let[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);let{id:m,styleId:h}=jt(It([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:d,priority:f},index:ns(c.parentRule)}),a.apply(c,u)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:G((a,c,u)=>{let[l]=u;if(n.has(l))return s.apply(c,[l]);let{id:d,styleId:f}=jt(It([c,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:ns(c.parentRule)}),a.apply(c,u)})}),G(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function kS({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=G(u=>_o(G(l=>{let d=bo(l);if(!d||ut(d,t,n,r,!0))return;let{currentTime:f,volume:m,muted:h,playbackRate:_}=d;e({type:u,id:o.getId(d),currentTime:f,volume:m,muted:h,playbackRate:_})}),i.media||500)),c=[xe("play",a(0),s),xe("pause",a(1),s),xe("seeked",a(2),s),xe("volumechange",a(3),s),xe("ratechange",a(4),s)];return G(()=>{c.forEach(u=>u())})}function AS({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){let d=new i(c,u,l);return o.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};let s=Yc(t.fonts,"add",function(a){return function(c){return setTimeout(G(()=>{let u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),G(()=>{r.forEach(a=>a())})}function OS(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=G(()=>{let u=t.getSelection();if(!u||a&&It([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;let l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){let m=u.getRangeAt(f),{startContainer:h,startOffset:_,endContainer:y,endOffset:g}=m;ut(h,r,o,i,!0)||ut(y,r,o,i,!0)||l.push({start:n.getId(h),startOffset:_,end:n.getId(y),endOffset:g})}s({ranges:l})});return c(),xe("selectionchange",c)}function NS({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Yc(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function MS(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r=Jf(e,e.doc),o=bS(e),i=IS(e),s=Xf(e),a=vS(e,{win:n}),c=wS(e),u=kS(e),l=RS(e,{win:n}),d=Zf(e,e.doc),f=CS(e,{win:n}),m=e.collectFonts?AS(e):()=>{},h=OS(e),_=NS(e),y=[];for(let g of e.plugins)y.push(g.observer(g.callback,n,g.options));return G(()=>{or.forEach(g=>g.reset()),r.disconnect(),o(),i(),s(),a(),c(),u(),l(),d(),f(),m(),h(),_(),y.forEach(g=>g())})}function Vi(e){return typeof window[e]<"u"}function Ki(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var yo=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function xf(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var Rc=class{constructor(){this.crossOriginIframeMirror=new yo(zc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Cc=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new yo(zc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new yo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),xf([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case P.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:P.IncrementalSnapshot,data:{source:F.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case P.Meta:case P.Load:case P.DomContentLoaded:return!1;case P.Plugin:return n;case P.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case P.IncrementalSnapshot:switch(n.data.source){case F.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case F.Drag:case F.TouchMove:case F.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case F.ViewportResize:return!1;case F.MediaInteraction:case F.MouseInteraction:case F.Scroll:case F.CanvasMutation:case F.Input:return this.replaceIds(n.data,t,["id"]),n;case F.StyleSheetRule:case F.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case F.Font:return n;case F.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case F.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),xf([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(o=>{this.replaceStyleIds(o,t,["styleId"])})]),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==pe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},kc=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Ac=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!po(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let r=Jf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Xf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Zf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Yc(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&Yf(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}},rs=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}},Oc=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ic,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Pf(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Nc=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){yS(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function le(e){let t=e;return t.timestamp=ts(),t}var os,ct=Wy();function qt(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:_,maskInputOptions:y,slimDOMOptions:g,maskAttributeFn:S,maskInputFn:b,maskTextFn:k,packFn:U,sampling:C={},dataURLOptions:v={},mousemoveWait:H,recordCanvas:K=!1,recordCrossOriginIframes:w=!1,recordAfter:O=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:q=!1,collectFonts:oe=!1,inlineImages:ae=!1,plugins:Me,keepIframeSrcFn:J=()=>!1,ignoreCSSAttributes:lt=new Set([]),errorHandler:ie,onMutation:we,getCanvasManager:dt}=e;ES(ie);let gr=w?window.parent===window:!0,Vt=!1;if(!gr)try{window.parent.document&&(Vt=!1)}catch{Vt=!0}if(gr&&!t)throw new Error("emit function is required");H!==void 0&&C.mousemove===void 0&&(C.mousemove=H),ct.reset();let Kt=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},kn=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};mS();let _r,Ls=0,Tu=M=>{for(let Ze of Me||[])Ze.eventProcessor&&(M=Ze.eventProcessor(M));return U&&!Vt&&(M=U(M)),M},ce=(M,Ze)=>{if(ln([or,"access",W=>W[0],"optionalAccess",W=>W.isFrozen,"call",W=>W()])&&M.type!==P.FullSnapshot&&!(M.type===P.IncrementalSnapshot&&M.data.source===F.Mutation)&&or.forEach(W=>W.unfreeze()),gr)ln([t,"optionalCall",W=>W(Tu(M),Ze)]);else if(Vt){let W={type:"rrweb",event:Tu(M),origin:window.location.origin,isCheckout:Ze};window.parent.postMessage(W,"*")}if(M.type===P.FullSnapshot)_r=M,Ls=0;else if(M.type===P.IncrementalSnapshot){if(M.data.source===F.Mutation&&M.data.isAttachIframe)return;Ls++;let W=r&&Ls>=r,Qe=n&&_r&&M.timestamp-_r.timestamp>n;(W||Qe)&&Fs(!0)}},No=M=>{ce(le({type:P.IncrementalSnapshot,data:{source:F.Mutation,...M}}))},bu=M=>ce(le({type:P.IncrementalSnapshot,data:{source:F.Scroll,...M}})),Lm=M=>ce(le({type:P.IncrementalSnapshot,data:{source:F.CanvasMutation,...M}})),Pm=M=>ce(le({type:P.IncrementalSnapshot,data:{source:F.AdoptedStyleSheet,...M}})),Jt=new Oc({mutationCb:No,adoptedStyleSheetCb:Pm}),Xt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Rc:new Cc({mirror:ct,mutationCb:No,stylesheetManager:Jt,recordCrossOriginIframes:w,wrappedEmit:ce});for(let M of Me||[])M.getMirror&&M.getMirror({nodeMirror:ct,crossOriginIframeMirror:Xt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Xt.crossOriginIframeStyleMirror});let Ps=new Nc,Iu=LS(dt,{mirror:ct,win:window,mutationCb:M=>ce(le({type:P.IncrementalSnapshot,data:{source:F.CanvasMutation,...M}})),recordCanvas:K,blockClass:o,blockSelector:i,unblockSelector:s,sampling:C.canvas,dataURLOptions:v,errorHandler:ie}),Mo=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new kc:new Ac({mutationCb:No,scrollCb:bu,bypassOptions:{onMutation:we,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:Kt,dataURLOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:b,recordCanvas:K,inlineImages:ae,sampling:C,slimDOMOptions:kn,iframeManager:Xt,stylesheetManager:Jt,canvasManager:Iu,keepIframeSrcFn:J,processedNodeManager:Ps},mirror:ct}),Fs=(M=!1)=>{ce(le({type:P.Meta,data:{href:window.location.href,width:Gf(),height:$f()}}),M),Jt.reset(),Mo.init(),or.forEach(W=>W.lock());let Ze=fS(document,{mirror:ct,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:Kt,maskAttributeFn:S,maskInputFn:b,maskTextFn:k,slimDOM:kn,dataURLOptions:v,recordCanvas:K,inlineImages:ae,onSerialize:W=>{jf(W,ct)&&Xt.addIframe(W),zf(W,ct)&&Jt.trackLinkElement(W),bc(W)&&Mo.addShadowRoot(W.shadowRoot,document)},onIframeLoad:(W,Qe)=>{Xt.attachIframe(W,Qe),Mo.observeAttachShadow(W)},onStylesheetLoad:(W,Qe)=>{Jt.attachLinkElement(W,Qe)},keepIframeSrcFn:J});if(!Ze)return console.warn("Failed to snapshot the document");ce(le({type:P.FullSnapshot,data:{node:Ze,initialOffset:Hf(window)}})),or.forEach(W=>W.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Jt.adoptStyleSheets(document.adoptedStyleSheets,ct.getId(document))};os=Fs;try{let M=[],Ze=Qe=>G(MS)({onMutation:we,mutationCb:No,mousemoveCb:(Y,Zt)=>ce(le({type:P.IncrementalSnapshot,data:{source:Zt,positions:Y}})),mouseInteractionCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.MouseInteraction,...Y}})),scrollCb:bu,viewportResizeCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.ViewportResize,...Y}})),inputCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.Input,...Y}})),mediaInteractionCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.MediaInteraction,...Y}})),styleSheetRuleCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.StyleSheetRule,...Y}})),styleDeclarationCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.StyleDeclaration,...Y}})),canvasMutationCb:Lm,fontCb:Y=>ce(le({type:P.IncrementalSnapshot,data:{source:F.Font,...Y}})),selectionCb:Y=>{ce(le({type:P.IncrementalSnapshot,data:{source:F.Selection,...Y}}))},customElementCb:Y=>{ce(le({type:P.IncrementalSnapshot,data:{source:F.CustomElement,...Y}}))},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:Kt,inlineStylesheet:h,sampling:C,recordCanvas:K,inlineImages:ae,userTriggeredOnInput:q,collectFonts:oe,doc:Qe,maskAttributeFn:S,maskInputFn:b,maskTextFn:k,keepIframeSrcFn:J,blockSelector:i,unblockSelector:s,slimDOMOptions:kn,dataURLOptions:v,mirror:ct,iframeManager:Xt,stylesheetManager:Jt,shadowDomManager:Mo,processedNodeManager:Ps,canvasManager:Iu,ignoreCSSAttributes:lt,plugins:ln([Me,"optionalAccess",Y=>Y.filter,"call",Y=>Y(Zt=>Zt.observer),"optionalAccess",Y=>Y.map,"call",Y=>Y(Zt=>({observer:Zt.observer,options:Zt.options,callback:Fm=>ce(le({type:P.Plugin,data:{plugin:Zt.name,payload:Fm}}))}))])||[]},{});Xt.addLoadListener(Qe=>{try{M.push(Ze(Qe.contentDocument))}catch(Y){console.warn(Y)}});let W=()=>{Fs(),M.push(Ze(document))};return document.readyState==="interactive"||document.readyState==="complete"?W():(M.push(xe("DOMContentLoaded",()=>{ce(le({type:P.DomContentLoaded,data:{}})),O==="DOMContentLoaded"&&W()})),M.push(xe("load",()=>{ce(le({type:P.Load,data:{}})),O==="load"&&W()},window))),()=>{M.forEach(Qe=>Qe()),Ps.destroy(),os=void 0,TS()}}catch(M){console.warn(M)}}function DS(e){if(!os)throw new Error("please take full snapshot after start recording");os(e)}qt.mirror=ct;qt.takeFullSnapshot=DS;function LS(e,t){try{return e?e(t):new rs}catch{return console.warn("Unable to initialize CanvasManager"),new rs}}var PS=3,FS=5;function Vc(e){return e>9999999999?e:e*1e3}function yc(e){return e>9999999999?e/1e3:e}function Io(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:P.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Oe(t,10,1e3)}}),t.category==="console")))}var BS="button,a";function Qf(e){return e.closest(BS)||e}function ep(e){let t=tp(e);return!t||!(t instanceof Element)?t:Qf(t)}function tp(e){return US(e)?e.target:e}function US(e){return typeof e=="object"&&!!e&&"target"in e}var zt;function HS(e){return zt||(zt=[],$S()),zt.push(e),()=>{let t=zt?zt.indexOf(e):-1;t>-1&&zt.splice(t,1)}}function $S(){Q(te,"open",function(e){return function(...t){if(zt)try{zt.forEach(n=>n())}catch{}return e.apply(te,t)}})}function GS(e,t,n){e.handleClick(t,n)}var Mc=class{constructor(t,n,r=Io){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=HS(()=>{this._lastMutation=wf()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(jS(n,this._ignoreSelector)||!zS(t))return;let r={timestamp:yc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=yc(t)}registerScroll(t=Date.now()){this._lastScroll=yc(t)}registerClick(t){let n=Qf(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=wf();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:te.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,l);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:te.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}},WS=["A","BUTTON","INPUT"];function jS(e,t){return!!(!WS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function zS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function wf(){return Date.now()/1e3}function qS(e,t){try{if(!YS(t))return;let{source:n}=t.data;if(n===F.Mutation&&e.registerMutation(t.timestamp),n===F.Scroll&&e.registerScroll(t.timestamp),VS(t)){let{type:r,id:o}=t.data,i=qt.mirror.getNode(o);i instanceof HTMLElement&&r===Ie.Click&&e.registerClick(i)}}catch{}}function YS(e){return e.type===PS}function VS(e){return e.data.source===F.MouseInteraction}function vt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var is;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(is||(is={}));var KS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function JS(e){let t={};for(let n in e)if(KS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var XS=e=>t=>{if(!e.isEnabled())return;let n=ZS(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&GS(e.clickDetector,n,ep(t.event)),Io(e,n)};function np(e,t){let n=qt.mirror.getId(e),r=n&&qt.mirror.getNode(n),o=r&&qt.mirror.getMeta(r),i=o&&eE(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===is.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:JS(i.attributes)}}:{}}}function ZS(e){let{target:t,message:n}=QS(e);return vt({category:`ui.${e.name}`,...np(t,n)})}function QS(e){let t=e.name==="click",n,r=null;try{r=t?ep(e.event):tp(e.event),n=Le(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function eE(e){return e.type===is.Element}function tE(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=nE(t);n&&Io(e,n)}function nE(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||rE(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let u=Le(s,{maxStringLength:200})||"<unknown>",l=np(s,u);return vt({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function rE(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Rf={resource:cE,paint:sE,navigation:aE};function oE(e){return e.map(iE).filter(Boolean)}function iE(e){return Rf[e.entryType]?Rf[e.entryType](e):null}function cr(e){return((ne||te.performance.timeOrigin)+e)/1e3}function sE(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=cr(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function aE(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:m,transferSize:h,type:_}=e;return o===0?null:{type:`${t}.${_}`,start:cr(m),end:cr(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function cE(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:cr(i),end:cr(o),name:r,data:{size:u,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function uE(e){let t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=cr(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?qt.mirror.getId(r):void 0}}}function lE(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push(Ne(o,n))}),r.push(oo(({metric:o})=>{e.replayPerformanceEntries.push(uE(o))})),()=>{r.forEach(o=>o())}}var Z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,dE='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function fE(){let e=new Blob([dE]);return URL.createObjectURL(e)}function ve(e,t){Z&&(p.info(e),t&&rp(e))}function ir(e,t){Z&&(p.info(e),t&&setTimeout(()=>{rp(e)},0))}function rp(e){je({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var So=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Wc}.`)}},ss=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Wc)throw new So;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?Vc(t):null}},Dc=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ve("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){Z&&p.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},Lc=class{constructor(t){this._worker=new Dc(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=Vc(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Wc?Promise.reject(new So):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Z&&p.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},Pc=class{constructor(t){this._fallback=new ss,this._compression=new Lc(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ve("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let o of t)r.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(o){Z&&p.warn("[Replay] Failed to add events when switching buffers.",o)}}};function pE({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=mE(t);if(n)return n}return ve("[Replay] Using simple buffer"),new ss}function mE(e){try{let t=e||hE();if(!t)return;ve(`[Replay] Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new Pc(n)}catch{ve("[Replay] Failed to create compression worker")}}function hE(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?fE():""}function Kc(){try{return"sessionStorage"in te&&!!te.sessionStorage}catch{return!1}}function gE(e){_E(),e.session=void 0}function _E(){if(Kc())try{te.sessionStorage.removeItem($c)}catch{}}function op(e){return e===void 0?!1:Math.random()<e}function ip(e){let t=Date.now(),n=e.id||D(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function Jc(e){if(Kc())try{te.sessionStorage.setItem($c,JSON.stringify(e))}catch{}}function yE(e,t){return op(e)?"session":t?"buffer":!1}function Cf({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=yE(e,t),i=ip({sampled:o,previousSessionId:r});return n&&Jc(i),i}function SE(e){if(!Kc())return null;try{let t=te.sessionStorage.getItem($c);if(!t)return null;let n=JSON.parse(t);return ir("[Replay] Loading existing session",e),ip(n)}catch{return null}}function Fc(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function sp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Fc(e.started,t,r)||Fc(e.lastActivity,n,r)}function ap(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!sp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Sc({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){let i=o.stickySession&&SE(e);return i?ap(i,{sessionIdleExpire:t,maxReplayDuration:n})?(ir("[Replay] Session in sessionStorage is expired, creating new one..."),Cf(o,{previousSessionId:i.id})):i:(ir("[Replay] Creating new session",e),Cf(o,{previousSessionId:r}))}function EE(e){return e.type===P.Custom}function Xc(e,t,n){return up(e,t)?(cp(e,t,n),!0):!1}function TE(e,t,n){return up(e,t)?cp(e,t,n):Promise.resolve(null)}async function cp(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),o=bE(t,r.beforeAddRecordingEvent);return o?await e.eventBuffer.addEvent(o):void 0}catch(r){let o=r&&r instanceof So?"addEventSizeExceeded":"addEvent";Z&&p.error(r),await e.stop({reason:o});let i=I();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function up(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Vc(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ve(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function bE(e,t){try{if(typeof t=="function"&&EE(e))return t(e)}catch(n){return Z&&p.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Zc(e){return!e.type}function Bc(e){return e.type==="transaction"}function IE(e){return e.type==="replay_event"}function kf(e){return e.type==="feedback"}function lp(e){let t=wE();return(n,r)=>{if(!e.isEnabled()||!Zc(n)&&!Bc(n))return;let o=r&&r.statusCode;if(!(t&&(!o||o<200||o>=300))){if(Bc(n)){vE(e,n);return}xE(e,n)}}}function vE(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function xE(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function wE(){let e=I();if(!e)return!1;let t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function RE(e){return t=>{!e.isEnabled()||!Zc(t)||CE(e,t)}}function CE(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=vt({category:"replay.hydrate-error"});Io(e,r)}}function kE(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function AE(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:P.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function OE(e,t){return e.recordingMode!=="buffer"||t.message===Gc||!t.exception||t.type?!1:op(e.getOptions().errorSampleRate)}function NE(e,t=!1){let n=t?lp(e):void 0;return Object.assign((r,o)=>e.isEnabled()?IE(r)?(delete r.breadcrumbs,r):!Zc(r)&&!Bc(r)&&!kf(r)||!e.checkAndHandleExpiredSession()?r:kf(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),AE(e,r),r):kE(r,o)&&!e.getOptions()._experiments.captureExceptions?(Z&&p.log("[Replay] Ignoring error from rrweb internals",r),null):((OE(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function fs(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:P.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function ME(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function DE(e){return t=>{if(!e.isEnabled())return;let n=ME(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(fs(e,[n]),!1)))}}function LE(e,t){return Z&&e.getOptions()._experiments.traceInternals?!1:Ba(t,I())}function ps(e,t){e.isEnabled()&&t!==null&&(LE(e,t.name)||e.addUpdate(()=>(fs(e,[t]),!0)))}function PE(e){let{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;let{method:i,url:s}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:s,data:{method:i,statusCode:o?o.status:void 0}}}function FE(e){return t=>{if(!e.isEnabled())return;let n=PE(t);ps(e,n)}}function BE(e){let{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[We];if(!t||!n||!o)return null;let{method:i,url:s,status_code:a}=o;return s===void 0?null:{type:"resource.xhr",name:s,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function UE(e){return t=>{if(!e.isEnabled())return;let n=BE(t);ps(e,n)}}function ms(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=mp(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function dp(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function fp(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[mp(e)];if(!e)return[void 0]}catch{return Z&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Z&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function as(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function pp(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:j({method:i,statusCode:s,request:a,response:c})}}function Eo(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Yt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=HE(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function Uc(e,t){return Object.keys(e).reduce((n,r)=>{let o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n},{})}function mp(e){return new URLSearchParams(e).toString()}function HE(e){if(!e||typeof e!="string")return{body:e};let t=e.length>hf,n=$E(e);if(t){let r=e.slice(0,hf);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function $E(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function cs(e,t){let n=GE(e);return pt(n,t)}function GE(e,t=te.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(te.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function WE(e,t,n){try{let r=await zE(e,t,n),o=pp("resource.fetch",r);ps(n.replay,o)}catch(r){Z&&p.error("[Replay] Failed to capture fetch breadcrumb",r)}}function jE(e,t,n){let{input:r,response:o}=t,i=r?hp(r):void 0,s=ms(i,n.textEncoder),a=o?dp(o.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),a!==void 0&&(e.data.response_body_size=a)}async function zE(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=cs(s,n.networkDetailAllowUrls)&&!cs(s,n.networkDetailDenyUrls),f=d?qE(n,t.input,u):Eo(u),m=await YE(d,n,t.response,l);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:m}}function qE({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?JE(n,t):{};if(!e)return Yt(o,r,void 0);let i=hp(n),[s,a]=fp(i),c=Yt(o,r,s);return a?as(c,a):c}async function YE(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,i){if(!e&&i!==void 0)return Eo(i);let s=o?gp(o.headers,r):{};if(!o||!t&&i!==void 0)return Yt(s,i,void 0);let[a,c]=await KE(o),u=VE(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:s});return c?as(u,c):u}function VE(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:i}){try{let s=e&&e.length&&r===void 0?ms(e,n):r;return o?t?Yt(i,s,e):Yt(i,s,void 0):Eo(s)}catch(s){return Z&&p.warn("[Replay] Failed to serialize response body",s),Yt(i,r,void 0)}}async function KE(e){let t=XE(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await ZE(t)]}catch(n){return Z&&p.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function hp(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function gp(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function JE(e,t){return e.length===1&&typeof e[0]!="string"?Af(e[0],t):e.length===2?Af(e[1],t):{}}function Af(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?gp(n,t):Array.isArray(n)?{}:Uc(n,t):{}}function XE(e){try{return e.clone()}catch(t){Z&&p.warn("[Replay] Failed to clone response body",t)}}function ZE(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);QE(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function QE(e){return await e.text()}async function eT(e,t,n){try{let r=nT(e,t,n),o=pp("resource.xhr",r);ps(n.replay,o)}catch(r){Z&&p.error("[Replay] Failed to capture xhr breadcrumb",r)}}function tT(e,t,n){let{xhr:r,input:o}=t;if(!r)return;let i=ms(o,n.textEncoder),s=r.getResponseHeader("content-length")?dp(r.getResponseHeader("content-length")):sT(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function nT(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!cs(c,n.networkDetailAllowUrls)||cs(c,n.networkDetailDenyUrls)){let C=Eo(d),v=Eo(f);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:C,response:v}}let m=a[We],h=m?Uc(m.request_headers,n.networkRequestHeaders):{},_=Uc(rT(a),n.networkResponseHeaders),[y,g]=n.networkCaptureBodies?fp(s):[void 0],[S,b]=n.networkCaptureBodies?oT(a):[void 0],k=Yt(h,d,y),U=Yt(_,f,S);return{startTimestamp:o,endTimestamp:i,url:c,method:u,statusCode:l,request:g?as(k,g):k,response:b?as(U,b):U}}function rT(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return n[o.toLowerCase()]=i,n},{}):{}}function oT(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return iT(e.response,e.responseType)}catch(n){t.push(n)}return Z&&p.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function iT(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return Z&&p.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Z&&p.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function sT(e,t,n){try{let r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ms(r,n)}catch{return}}function aT(e){let t=I();try{let n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>cT(c,u,l)):(on(FE(e)),sn(UE(e)))}catch{}}function cT(e,t,n){if(t.data)try{uT(t)&&dT(n)&&(tT(t,n,e),eT(t,n,e)),lT(t)&&fT(n)&&(jE(t,n,e),WE(t,n,e))}catch{Z&&p.warn("Error when enriching network breadcrumb")}}function uT(e){return e.category==="xhr"}function lT(e){return e.category==="fetch"}function dT(e){return e&&e.xhr}function fT(e){return e&&e.response}var Of=null;function pT(e){return!!e.category}var mT=e=>t=>{if(!e.isEnabled())return;let n=hT(t);n&&Io(e,n)};function hT(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Of===t||!t||(Of=t,!pT(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?gT(t):vt(t)}function gT(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return vt(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Yi?(n=!0,`${o.slice(0,Yi)}\u2026`):o;if(typeof o=="object")try{let i=Oe(o,7);return JSON.stringify(i).length>Yi?(n=!0,`${JSON.stringify(i,null,2).slice(0,Yi)}\u2026`):i}catch{}return o});return vt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function _T(e){let t=$(),n=I();t.addScopeListener(mT(e)),Cr(XS(e)),nt(DE(e)),aT(e);let r=NE(e,!Nf(n));n&&n.addEventProcessor?n.addEventProcessor(r):Si(r),Nf(n)&&(n.on("beforeSendEvent",RE(e)),n.on("afterSendEvent",lp(e)),n.on("createDsc",o=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(o.replay_id=i)}),n.on("startTransaction",o=>{e.lastTransaction=o}),n.on("finishTransaction",o=>{e.lastTransaction=o}),n.on("beforeSendFeedback",(o,i)=>{let s=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&s&&o.contexts&&o.contexts.feedback&&(o.contexts.feedback.replay_id=s)}))}function Nf(e){return!!(e&&e.on)}async function yT(e){try{return Promise.all(fs(e,[ST(te.performance.memory)]))}catch{return[]}}function ST(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function ET(e,t,n){let r,o,i,s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function u(){return o!==void 0||i!==void 0?a():r}function l(){return o&&clearTimeout(o),o=setTimeout(a,t),s&&i===void 0&&(i=setTimeout(a,s)),r}return l.cancel=c,l.flush=u,l}function TT(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){Z&&p.warn("[Replay] Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&qS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!Xc(e,n,o))return!0;if(!o)return!1;if(IT(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let i=e.eventBuffer.getEarliestTimestamp();i&&(ve(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&Jc(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function bT(e){let t=e.getOptions();return{type:P.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function IT(e,t){!t||!e.session||e.session.segmentId!==0||Xc(e,bT(e),!1)}function vT(e,t,n,r){return Te(Br(e,Un(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function xT({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function wT({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit&&e.emit("preprocessEvent",r,i);let s=await pn(e.getOptions(),r,i,t,e,he());if(!s)return null;s.platform=s.platform||"javascript";let a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},s}async function RT({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=xT({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=I(),f=$(),m=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!m||!h||!i.sampled)return;let _={type:vy,replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await wT({scope:f,client:d,replayId:t,event:_});if(!y){d.recordDroppedEvent("event_processor","replay",_),ve("An event processor returned `null`, will not send event.");return}delete y.sdkProcessingMetadata;let g=vT(y,s,h,d.getOptions().tunnel),S;try{S=await m.send(g)}catch(k){let U=new Error(Gc);try{U.cause=k}catch{}throw U}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new us(S.statusCode);let b=Hr({},S);if(Ur(b,"replay"))throw new ls(b);return S}var us=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ls=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function _p(e,t={count:0,interval:Ay}){let{recordingData:n,options:r}=e;if(n.length)try{return await RT(e),!0}catch(o){if(o instanceof us||o instanceof ls)throw o;if(ii("Replays",{_retryCount:t.count}),Z&&r._experiments&&r._experiments.captureExceptions&&Ct(o),t.count>=Oy){let i=new Error(`${Gc} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{setTimeout(async()=>{try{await _p(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var yp="__THROTTLED",CT="__SKIPPED";function kT(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let l=s;return s=!0,l?CT:yp}s=!1;let u=r.get(c)||0;return r.set(c,u+1),e(...a)}}var Hc=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:xy,sessionIdleExpire:wy},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=ET(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=kT((s,a)=>TE(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(Ny,r),timeout:r,scrollTimeout:My,ignoreSelector:o?o.join(","):""}:void 0;i&&(this.clickDetector=new Mc(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",ir(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");ir("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);let t=Sc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");ir("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Sc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=qt({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:ky},emit:TT(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ve(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,gE(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ve("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ve("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();ve("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Fc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${te.location.pathname}${te.location.hash}${te.location.search}`,n=`${te.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===yp){let o=vt({category:"replay.throttled"});this.addUpdate(()=>!Xc(this,{type:FS,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastTransaction||$().getTransaction(),r=(t&&A(t).data||{})[z];if(!(!t||!r||!["route","custom"].includes(r)))return A(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=pE({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){Z&&p.error("[Replay]",t),Z&&this._options._experiments&&this._options._experiments.captureExceptions&&Ct(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Sc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return ap(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{te.document.addEventListener("visibilitychange",this._handleVisibilityChange),te.addEventListener("blur",this._handleWindowBlur),te.addEventListener("focus",this._handleWindowFocus),te.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(_T(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=lE(this)}_removeListeners(){try{te.document.removeEventListener("visibilitychange",this._handleVisibilityChange),te.removeEventListener("blur",this._handleWindowBlur),te.removeEventListener("focus",this._handleWindowFocus),te.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{te.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=vt({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=vt({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{tE(this,t)}}_doChangeToBackgroundTasks(t){!this.session||sp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ve("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:P.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=oE(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(fs(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Z&&p.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await yT(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await _p({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=I();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Z&&p.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){ve(`[Replay] Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ve("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){Z&&p.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Jc(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=vt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function lo(e,t,n,r){let o=typeof r=="string"?r.split(","):[],i=[...e,...o,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),Ge(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function AT({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){let l=['base[href="/"]'],d=lo(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=lo(t,[".sentry-unmask","[data-sentry-unmask]"]),m={maskTextSelector:d,unmaskTextSelector:f,blockSelector:lo(n,[".sentry-block","[data-sentry-block]",...l],i,s),unblockSelector:lo(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:lo(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(m.blockClass=i),a instanceof RegExp&&(m.maskTextClass=a),m}function OT({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Mf='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',NT=["content-length","content-type","accept"],Df=!1,MT=e=>new To(e),To=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Ry,flushMaxDelay:n=Cy,minReplayDuration:r=Dy,maxReplayDuration:o=gf,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:h=750,mutationLimit:_=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:b=[],networkCaptureBodies:k=!0,networkRequestHeaders:U=[],networkResponseHeaders:C=[],mask:v=[],maskAttributes:H=["title","placeholder"],unmask:K=[],block:w=[],unblock:O=[],ignore:q=[],maskFn:oe,beforeAddRecordingEvent:ae,beforeErrorSampling:Me,blockClass:J,blockSelector:lt,maskInputOptions:ie,maskTextClass:we,maskTextSelector:dt,ignoreClass:gr}={}){this.name=e.id;let Vt=AT({mask:v,unmask:K,block:w,unblock:O,ignore:q,blockClass:J,blockSelector:lt,maskTextClass:we,maskTextSelector:dt,ignoreClass:gr});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...ie||{},password:!0},maskTextFn:oe,maskInputFn:oe,maskAttributeFn:(Kt,kn,_r)=>OT({maskAttributes:H,maskAllText:d,privacyOptions:Vt,key:Kt,value:kn,el:_r}),...Vt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Kt=>{try{Kt.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Ly),maxReplayDuration:Math.min(o,gf),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:s,workerUrl:a,blockAllMedia:m,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:_,slowClickTimeout:y,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:b,networkCaptureBodies:k,networkRequestHeaders:Lf(U),networkResponseHeaders:Lf(C),beforeAddRecordingEvent:ae,beforeErrorSampling:Me,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Mf}`:Mf),this._isInitialized&&Fn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Df}set _isInitialized(t){Df=t}setupOnce(){Fn()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let t=DT(this._initialOptions);this._replay=new Hc({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let n=I().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};To.__initStatic();function DT(e){let t=I(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...j(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&Ge(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(Ge(()=>{console.warn("SDK client is not available.")}),r)}function Lf(e){return[...NT,...e.map(t=>t.toLowerCase())]}function LT(){let e=I();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var Sp;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Sp||(Sp={}));function PT(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function eu(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:eu(e.parentNode,t,n,r+1)}function Ep(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(PT(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var ur=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Tp={map:{},getId(){return console.error(ur),-1},getNode(){return console.error(ur),null},removeNodeFromMap(){console.error(ur)},has(){return console.error(ur),!1},reset(){console.error(ur)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Tp=new Proxy(Tp,{get(e,t,n){return t==="map"&&console.error(ur),Reflect.get(e,t,n)}}));function nu(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>nu(e,t,i||{},!0)}function ru(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function _s(e,t,n,r,o){if(!e)return!1;let i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!i)return!1;let s=Ep(t,n);if(!o){let u=r&&i.matches(r);return s(i)&&!u}let a=eu(i,s),c=-1;return a<0?!1:(r&&(c=eu(i,Ep(null,r))),a>-1&&c<0?!0:a<c)}var Qc;function FT(){if(Qc)return Qc;let e=window.document,t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return Qc=t.bind(window)}function En(...e){return FT()(...e)}var dr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(dr||{}),hs;function BT(e){hs=e}var bp=e=>hs?(...n)=>{try{return e(...n)}catch(r){if(hs&&hs(r)===!0)return()=>{};throw r}}:e,lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(vo=0;vo<lr.length;vo++)UT[lr.charCodeAt(vo)]=vo;var vo,HT=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=lr[t[n]>>2],o+=lr[(t[n]&3)<<4|t[n+1]>>4],o+=lr[(t[n+1]&15)<<2|t[n+2]>>6],o+=lr[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Ip=new Map;function $T(e,t){let n=Ip.get(e);return n||(n=new Map,Ip.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Rp=(e,t,n)=>{if(!e||!(kp(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=$T(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function gs(e,t,n){if(e instanceof Array)return e.map(r=>gs(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=HT(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[gs(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[gs(e.data,t,n),e.width,e.height]};if(kp(e,t)||typeof e=="object"){let r=e.constructor.name,o=Rp(e,t,n);return{rr_type:r,index:o}}}}return e}var Cp=(e,t,n)=>e.map(r=>gs(r,t,n)),kp=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function GT(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=ru(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return _s(this.canvas,n,r,o,!0)||setTimeout(()=>{let d=Cp(l,t,this);e(this.canvas,{type:dr["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{let u=nu(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:dr["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function WT(e){return e==="experimental-webgl"?"webgl":e}function vp(e,t,n,r,o){let i=[];try{let s=ru(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!_s(this,t,n,r,!0)){let l=WT(c);if("__context"in this||(this.__context=l),o&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){let d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function xp(e,t,n,r,o,i,s,a){let c=[],u=Object.getOwnPropertyNames(e);for(let l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;let d=ru(e,l,function(f){return function(...m){let h=f.apply(this,m);if(Rp(h,a,this),"tagName"in this.canvas&&!_s(this.canvas,r,o,i,!0)){let _=Cp(m,a,this),y={type:t,property:l,args:_};n(this.canvas,y)}return h}});c.push(d)}catch{let f=nu(e,l,{set(m){n(this.canvas,{type:t,property:l,args:[m],setter:!0})}});c.push(f)}return c}function jT(e,t,n,r,o,i){let s=[];return s.push(...xp(t.WebGLRenderingContext.prototype,dr.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...xp(t.WebGL2RenderingContext.prototype,dr.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var zT='for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<64;n++)e[t.charCodeAt(n)]=n;var a=function(e){var n,a=new Uint8Array(e),s=a.length,r="";for(n=0;n<s;n+=3)r+=t[a[n]>>2],r+=t[(3&a[n])<<4|a[n+1]>>4],r+=t[(15&a[n+1])<<2|a[n+2]>>6],r+=t[63&a[n+2]];return s%3==2?r=r.substring(0,r.length-1)+"=":s%3==1&&(r=r.substring(0,r.length-2)+"=="),r};const s=new Map,r=new Map;const i=self;i.onmessage=async function(t){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:t.data.id});{const{id:e,bitmap:n,width:o,height:f,dataURLOptions:c}=t.data,g=async function(t,e,n){const s=t+"-"+e;if("OffscreenCanvas"in globalThis){if(r.has(s))return r.get(s);const i=new OffscreenCanvas(t,e);i.getContext("2d");const o=await i.convertToBlob(n),f=await o.arrayBuffer(),c=a(f);return r.set(s,c),c}return""}(o,f,c),d=new OffscreenCanvas(o,f);d.getContext("2d").drawImage(n,0,0),n.close();const u=await d.convertToBlob(c),h=u.type,w=await u.arrayBuffer(),l=a(w);if(!s.has(e)&&await g===l)return s.set(e,l),i.postMessage({id:e});if(s.get(e)===l)return i.postMessage({id:e});i.postMessage({id:e,type:h,base64:l,width:o,height:f}),s.set(e,l)}};';function qT(){let e=new Blob([zT]);return URL.createObjectURL(e)}var tu=class{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,d)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(d)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,recordCanvas:a,dataURLOptions:c,errorHandler:u}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,u&&BT(u),!t.enableManualSnapshot&&bp(()=>{a&&n==="all"&&this.initCanvasMutationObserver(r,o,i,s),a&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,o,i,s,{dataURLOptions:c})})()}initCanvasFPSObserver(t,n,r,o,i,s){let a=vp(n,r,o,i,!0),c=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(c)}}initCanvasMutationObserver(t,n,r,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=vp(t,n,r,o,!1),s=GT(this.processMutation.bind(this),t,n,r,o),a=jT(this.processMutation.bind(this),t,n,r,o,this.mirror);this.resetObservers=()=>{i(),s(),a()}}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,o,i,s,a,c){let u=new Map,l=new Worker(qT());l.onmessage=y=>{let g=y.data,{id:S}=g;if(u.set(S,!1),!("base64"in g))return;let{base64:b,type:k,width:U,height:C}=g;this.mutationCb({id:S,type:dr["2D"],commands:[{property:"clearRect",args:[0,0,U,C]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:b}],type:k}]},0,0]}]})};let d=1e3/n,f=0,m,h=y=>{if(y)return[y];let g=[];return r.document.querySelectorAll("canvas").forEach(S=>{_s(S,o,i,s,!0)||g.push(S)}),g},_=y=>{if(f&&y-f<d){m=En(_);return}f=y,h(c).forEach(g=>{let S=this.mirror.getId(g);if(!u.get(S)&&!(!g.width||!g.height)){if(u.set(S,!0),!t&&["webgl","webgl2"].includes(g.__context)){let b=g.getContext(g.__context);ln([b,"optionalAccess",k=>k.getContextAttributes,"call",k=>k(),"optionalAccess",k=>k.preserveDrawingBuffer])===!1&&b.clear(b.COLOR_BUFFER_BIT)}createImageBitmap(g).then(b=>{l.postMessage({id:S,bitmap:b,width:g.width,height:g.height,dataURLOptions:a},[b])}).catch(b=>{bp(()=>{throw b})()})}}),m=En(_)};return m=En(_),m}startPendingCanvasMutationFlusher(){En(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,En(t)};En(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),En(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}},wp={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Ap="ReplayCanvas",YT=(e={})=>{let t={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot},n,r=new Promise(o=>n=o);return{name:Ap,setupOnce(){},getOptions(){let{quality:o,enableManualSnapshot:i}=t;return{enableManualSnapshot:i,recordCanvas:!0,getCanvasManager:s=>{let a=new tu({...s,enableManualSnapshot:i,errorHandler:c=>{try{typeof c=="object"&&(c.__rrweb__=!0)}catch{}}});return n(a),a},...wp[o||"medium"]||wp.medium}},async snapshot(o){(await r).snapshot(o)}}},Op=YT,VT=X(Ap,Op);var bn=x,ou="#ffffff",Np="inherit",iu="rgba(108, 95, 199, 1)",Mp={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:ou,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"12px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:iu,submitBorder:iu,submitOutlineFocus:"#29232f",submitForeground:ou,submitForegroundHover:ou,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Np,inputForeground:Np,inputBorder:"var(--border)",inputOutlineFocus:iu,formBorderRadius:"20px",formContentBorderRadius:"6px"},Dp={light:Mp,dark:{...Mp,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},KT="Report a Bug",JT="Cancel",XT="Send Bug Report",ZT="Report a Bug",QT="your.email@example.org",eb="Email",tb="What's the bug? What did you expect?",nb="Description",rb="Your Name",ob="Name",ib="(required)",sb="Thank you for your report!",Up="widget",Hp="api";async function ab({client:e,scope:t,event:n}){let r={};e.emit&&e.emit("preprocessEvent",n,r);let o=await pn(e.getOptions(),n,r,t,e,he());return o===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}async function cb({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:i=!0}={}){let s=I(),a=s&&s.getTransport(),c=s&&s.getDsn();if(!s||!a||!c)return;let u={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return ze(async l=>{l.clearBreadcrumbs(),[Hp,Up].includes(String(r))&&l.setLevel("info");let d=await ab({scope:l,client:s,event:u});if(!d)return;s.emit&&s.emit("beforeSendFeedback",d,{includeReplay:!!i});let f=Xr(d,c,s.getOptions()._metadata,s.getOptions().tunnel),m;try{m=await a.send(f)}catch(h){let _=new Error("Unable to send Feedback");try{_.cause=h}catch{}throw _}if(m){if(typeof m.statusCode=="number"&&(m.statusCode<200||m.statusCode>=300))throw new Error("Unable to send Feedback");return m}})}function $p({name:e,email:t,message:n,source:r=Hp,url:o=br()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return cb({feedback:{name:e,email:t,message:n,url:o,source:r}},i)}var Tn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Lp(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function ub(e){let t=e.createElement("style");return t.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function lb(e){let t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function Pp(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function db(e,t,n){let r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Pp(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Pp(n.dark)}
  }
}`:""}
}`,r}function fb({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{let o=bn.document,i=o.createElement("div");i.id=e;let s=i.attachShadow({mode:"open"});return s.appendChild(db(o,t,{dark:n,light:r})),s.appendChild(lb(o)),{shadow:s,host:i}}catch{throw p.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function pb(e,t,n){if(!e)return;let r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await $p({...t,source:Up},n)}catch(o){Tn&&p.error(o),r()}}function Be(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var fr=20,mb="http://www.w3.org/2000/svg";function hb(){let e=a=>bn.document.createElementNS(mb,a),t=Be(e("svg"),{class:"feedback-icon",width:`${fr}`,height:`${fr}`,viewBox:`0 0 ${fr} ${fr}`,fill:"none"}),n=Be(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Be(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=Be(e("clipPath"),{id:"clip0_57_80"}),s=Be(e("rect"),{width:`${fr}`,height:`${fr}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),{get el(){return t}}}function re(e,t,...n){let o=bn.document.createElement(e);t&&Object.entries(t).forEach(([i,s])=>{i==="className"&&typeof s=="string"?o.setAttribute("class",s):typeof s=="boolean"&&s?o.setAttribute(i,""):typeof s=="string"?o.setAttribute(i,s):i.startsWith("on")&&typeof s=="function"&&o.addEventListener(i.substring(2).toLowerCase(),s)});for(let i of n)Gp(o,i);return o}function Gp(e,t){let n=bn.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(let r of t)Gp(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function gb({buttonLabel:e,onClick:t}){function n(o){t&&t(o)}let r=re("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},hb().el,e?re("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function _b({label:e}){return{el:re("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function su(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function yb({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:i,isRequiredLabel:s,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:m,defaultEmail:h,onCancel:_,onSubmit:y}){let{el:g}=_b({label:c});function S(O){if(O.preventDefault(),O.target instanceof HTMLFormElement)try{if(y){let q=new FormData(O.target),oe={name:su(q,"name"),email:su(q,"email"),message:su(q,"message")};y(oe)}}catch{}}let b=re("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function k(O){b.textContent=O,b.classList.remove("form__error-container--hidden"),b.setAttribute("aria-hidden","false")}function U(){b.textContent="",b.classList.add("form__error-container--hidden"),b.setAttribute("aria-hidden","true")}let C=re("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:m}),v=re("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:h}),H=re("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),K=re("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:O=>{_&&_(O)}},a),w=re("form",{className:"form",onSubmit:S},[b,u&&re("label",{htmlFor:"name",className:"form__label"},[re("span",{className:"form__label__text"},e,d&&re("span",{className:"form__label__text--required"},` ${s}`)),C]),!u&&C,l&&re("label",{htmlFor:"email",className:"form__label"},[re("span",{className:"form__label__text"},n,f&&re("span",{className:"form__label__text--required"},` ${s}`)),v]),!l&&v,re("label",{htmlFor:"message",className:"form__label"},[re("span",{className:"form__label__text"},o,re("span",{className:"form__label__text--required"},` ${s}`)),H]),re("div",{className:"btn-group"},[g,K])]);return{get el(){return w},showError:k,hideError:U}}var Sb="http://www.w3.org/2000/svg";function Eb({colorScheme:e}){let t=s=>bn.document.createElementNS(Sb,s),n=Be(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Be(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);let o=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),o.append(i),n.append(o),{get el(){return n}}}function Tb({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:i,colorScheme:s,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let m=null;function h(){_(),u&&u()}function _(){m&&(m.open=!1)}function y(){m&&(m.open=!0)}function g(){return m&&m.open===!0||!1}let{el:S,showError:b,hideError:k}=yb({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return m=re("dialog",{className:"dialog",open:!0,onClick:h},re("div",{className:"dialog__content",onClick:U=>{U.stopPropagation()}},re("h2",{className:"dialog__header"},e,t&&re("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},Eb({colorScheme:s}).el)),S)),{get el(){return m},showError:b,hideError:k,open:y,close:_,checkIsOpen:g}}var ys=16,Fp=17,bb="http://www.w3.org/2000/svg";function Ib(){let e=c=>bn.document.createElementNS(bb,c),t=Be(e("svg"),{class:"success-icon",width:`${ys}`,height:`${Fp}`,viewBox:`0 0 ${ys} ${Fp}`,fill:"none"}),n=Be(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Be(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Be(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=Be(e("clipPath"),{id:"clip0_57_156"}),a=Be(e("rect"),{width:`${ys}`,height:`${ys}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),{get el(){return t}}}function vb({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}let r=re("div",{className:"success-message",onClick:n},Ib().el,e);return{el:r,remove:n}}function Bp({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,i,s=!1;function a(){if(e)try{let g=vb({message:n.successMessageText,onRemove:()=>{S&&clearTimeout(S),l()}});if(!g.el)throw new Error("Unable to show success message");e.appendChild(g.el);let S=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){p.error(g)}}async function c(g){if(!i)return;let S=[];if(n.isNameRequired&&!g.name&&S.push(n.nameLabel),n.isEmailRequired&&!g.email&&S.push(n.emailLabel),g.message||S.push(n.messageLabel),S.length>0){i.showError(`Please enter in the following required fields: ${S.join(", ")}`);return}if(!await pb(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){let g=I(),S=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");S&&S.flush().catch(b=>{Tn&&p.error(b)})}function l(){o&&o.show()}function d(){o&&o.hide()}function f(){o&&o.el&&o.el.remove()}function m(){try{if(i){i.open(),s=!0,n.onFormOpen&&n.onFormOpen(),u();return}let g=n.useSentryUser,S=$(),b=S&&S.getUser();if(i=Tb({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&b&&b[g.name]||"",defaultEmail:g&&b&&b[g.email]||"",onClosed:()=>{l(),s=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){p.error(g)}}function h(){i&&(i.close(),s=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){h();let g=i.el;g&&g.remove(),i=void 0}}function y(){s||m(),d()}return r?r.addEventListener("click",y):t&&(o=gb({buttonLabel:n.buttonLabel,onClick:y}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:m,closeDialog:h,removeDialog:_}}var Ss=bn.document,xb=e=>new xo(e),xo=class e{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:o=!1,showBranding:i=!0,showEmail:s=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=KT,cancelButtonLabel:m=JT,submitButtonLabel:h=XT,formTitle:_=ZT,emailPlaceholder:y=QT,emailLabel:g=eb,messagePlaceholder:S=tb,messageLabel:b=nb,namePlaceholder:k=rb,nameLabel:U=ob,isRequiredLabel:C=ib,successMessageText:v=sb,onFormClose:H,onFormOpen:K,onSubmitError:w,onSubmitSuccess:O}={}){this.name=e.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:o,showEmail:s,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Dp.dark,...u},themeLight:{...Dp.light,...l},buttonLabel:f,cancelButtonLabel:m,submitButtonLabel:h,formTitle:_,emailLabel:g,emailPlaceholder:y,messageLabel:b,messagePlaceholder:S,nameLabel:U,namePlaceholder:k,isRequiredLabel:C,successMessageText:v,onFormClose:H,onFormOpen:K,onSubmitError:w,onSubmitSuccess:O}}setupOnce(){if(Fn())try{this._cleanupWidgetIfExists();let{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){Tn&&p.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{let r=Lp(this.options,n||{});return this._ensureShadowHost(r,({shadow:o})=>{let i=typeof t=="string"?Ss.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return Tn&&p.error("[Feedback] Unable to attach to target element"),null;let s=Bp({shadow:o,options:r,attachTo:i});return this._widgets.add(s),this._widget||(this._widget=s),s})}catch(r){return Tn&&p.error(r),null}}createWidget(t){try{return this._createWidget(Lp(this.options,t||{}))}catch(n){return Tn&&p.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){Tn&&p.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();let t=Ss.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{let r=Bp({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(ub(Ss)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){let{id:i,colorScheme:s,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=fb({id:i,colorScheme:s,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;let o=n({shadow:this._shadow,host:this._host});return r&&Ss.body.appendChild(this._host),o}};xo.__initStatic();function wo(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function wb(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=wo(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function Wp(e){return wo(e.getAllKeys())}function Rb(e,t,n){return e(r=>Wp(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),wo(r.transaction)}))}function Cb(e){return e(t=>Wp(t).then(n=>{if(n.length!==0)return wo(t.get(n[0])).then(r=>(t.delete(n[0]),wo(t.transaction).then(()=>r)))}))}function kb(e){let t;function n(){return t==null&&(t=wb(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{let o=await Fr(r,e.textEncoder);await Rb(n(),o,e.maxQueueSize||30)}catch{}},pop:async()=>{try{let r=await Cb(n());if(r)return la(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function Ab(e){return t=>e({...t,createStore:kb})}function Ob(e){return Ab(Pa(e))}var jp=1e6,Es=String(0),Nb="main",Yp="",Vp="",Kp="",au=T.navigator&&T.navigator.userAgent||"",Jp="",Mb=T.navigator&&T.navigator.language||T.navigator&&T.navigator.languages&&T.navigator.languages[0]||"";function Db(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var zp=T.navigator&&T.navigator.userAgentData;Db(zp)&&zp.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Yp=e.platform||"",Kp=e.architecture||"",Jp=e.model||"",Vp=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];au=`${t.brand} ${t.version}`}}).catch(e=>{});function Lb(e){return!("thread_metadata"in e)}function Pb(e){return Lb(e)?Ub(e):e}function Fb(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&N&&p.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Bb(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=Fb(r),i=Pb(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||it,runtime:{name:"javascript",version:T.navigator.userAgent},os:{name:Yp,version:Vp,build_number:au},device:{locale:Mb,model:Jp,manufacturer:au,architecture:Kp,is_emulator:!1},debug_meta:{images:Hb(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||D(),trace_id:o,active_thread_id:Es,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function Ts(e){return e.op==="pageload"}function Ub(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Es]:{name:Nb}}};if(!e.samples.length)return r;let o=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:ne||0,s=i-(ne||i);for(let a=0;a<e.samples.length;a++){let c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+s-o)*jp).toFixed(0),stack_id:t,thread_id:Es};continue}let u=e.stacks[c.stackId],l=[];for(;u;){l.push(u.frameId);let f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let d={elapsed_since_start_ns:((c.timestamp+s-o)*jp).toFixed(0),stack_id:n,thread_id:Es};r.stacks[n]=l,r.samples[a]=d,n++}return r}function Xp(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Zp(e){let t=[];return ot(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}var qp=new WeakMap;function Hb(e){let t=x._sentryDebugIds;if(!t)return[];let n=I(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i,s=qp.get(o);s?i=s:(i=new Map,qp.set(o,i));let a=Object.keys(t).reduce((u,l)=>{let d,f=i.get(l);f?d=f:(d=o(l),i.set(l,d));for(let m=d.length-1;m>=0;m--){let h=d[m],_=h&&h.filename;if(h&&_){u[_]=t[l];break}}return u},{}),c=[];for(let u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function $b(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(N&&p.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Gb(e){return e.samples.length<2?(N&&p.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(N&&p.log("[Profiling] Discarding profile because it contains no frames"),!1)}var Qp=!1,cu=3e4;function Wb(e){return typeof e=="function"}function em(){let e=T.Profiler;if(!Wb(e)){N&&p.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(cu/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{N&&(p.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),p.log("[Profiling] Disabling profiling for current user session.")),Qp=!0}}function Ro(e){if(Qp)return N&&p.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return N&&p.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=I(),n=t&&t.getOptions();if(!n)return N&&p.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return $b(r)?r?(r===!0?!0:Math.random()<r)?!0:(N&&p.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(N&&p.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(N&&p.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function tm(e,t,n,r){return Gb(n)?Bb(e,t,n,r):null}var In=new Map;function nm(){return In.size}function rm(e){let t=In.get(e);return t&&In.delete(e),t}function om(e,t){if(In.set(e,t),In.size>30){let n=In.keys().next().value;In.delete(n)}}function jb(e){return e?Ro(e)?bs(e):e:(N&&p.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function bs(e){let t;Ts(e)&&(t=de()*1e3);let n=em();if(!n)return e;N&&p.log(`[Profiling] started profiling transaction: ${A(e).description}`);let r=D();async function o(){return!e||!n?null:n.stop().then(c=>(i&&(T.clearTimeout(i),i=void 0),N&&p.log(`[Profiling] stopped profiling of transaction: ${A(e).description}`),c?(om(r,c),null):(N&&p.log(`[Profiling] profiler returned null profile for: ${A(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(N&&p.log("[Profiling] error while stopping profiler:",c),null))}let i=T.setTimeout(()=>{N&&p.log("[Profiling] max profile duration elapsed, stopping profiling for:",A(e).description),o()},cu),s=e.end.bind(e);function a(){return e?(o().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),s()},()=>{s()}),e):s()}return e.end=a,e}var im="BrowserProfiling",zb=()=>({name:im,setupOnce(){},setup(e){let n=$().getTransaction();if(n&&Ts(n)&&Ro(n)&&bs(n),typeof e.on!="function"){p.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{Ro(r)&&bs(r)}),e.on("beforeEnvelope",r=>{if(!nm())return;let o=Zp(r);if(!o.length)return;let i=[];for(let s of o){let a=s&&s.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){N&&p.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;let l=rm(c);if(!l){N&&p.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}let d=tm(c,u,l,s);d&&i.push(d)}Xp(r,i)})}}),sm=zb,qb=X(im,sm);var am={};T.Sentry&&T.Sentry.Integrations&&(am=T.Sentry.Integrations);var lM={...am,...fd,...hc};function Yb(e){let t={...e};eo(t,"react"),mc(t)}var Em=Lt(Co()),Mt=Lt(Do());var mu="ui.react.render",ym="ui.react.update",hu="ui.react.mount";var Sm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",sI="unknown",ko=class extends Mt.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);let{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Ke({name:`<${n}>`,onlyIfParent:!0,op:hu,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){let r=Object.keys(t).filter(o=>t[o]!==this.props.updateProps[o]);if(r.length>0){let o=de();this._updateSpan=jr(this._mountSpan,()=>Ke({name:`<${this.props.name}>`,onlyIfParent:!0,op:ym,origin:"auto.ui.react.profiler",startTimestamp:o,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){let t=de(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){let o=A(this._mountSpan).timestamp;jr(this._mountSpan,()=>{let i=Ke({onlyIfParent:!0,name:`<${n}>`,op:mu,origin:"auto.ui.react.profiler",startTimestamp:o,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}};ko.__initStatic();function aI(e,t){let n=t&&t.name||e.displayName||e.name||sI,r=o=>Mt.createElement(ko,{...t,name:n,updateProps:o,__self:this,__source:{fileName:Sm,lineNumber:159}},Mt.createElement(e,{...o,__self:this,__source:{fileName:Sm,lineNumber:160}}));return r.displayName=`profiler(${n})`,(0,Em.default)(r,e),r}function cI(e,t={disabled:!1,hasRenderSpan:!0}){let[n]=Mt.useState(()=>{if(!(t&&t.disabled))return Ke({name:`<${e}>`,onlyIfParent:!0,op:hu,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});Mt.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){let r=A(n).timestamp,o=de(),i=Ke({name:`<${e}>`,onlyIfParent:!0,op:mu,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});i&&i.end(o)}}),[])}var Im=Lt(Co()),Dt=Lt(Do());var Ao=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Tm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function uI(e){let t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}var lI="unknown",bm={componentStack:null,error:null,eventId:null};function dI(e,t){let n=new WeakMap;function r(o,i){if(!n.has(o)){if(o.cause)return n.set(o,!0),r(o.cause,i);o.cause=i}}r(e,t)}var Ms=class e extends Dt.Component{constructor(t){super(t),e.prototype.__init.call(this),this.state=bm,this._openFallbackReportDialog=!0;let n=I();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&qi({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){let{beforeCapture:r,onError:o,showDialog:i,dialogOptions:s}=this.props;ze(a=>{if(uI(Dt.version)&&Qt(t)){let u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,dI(t,u)}r&&r(a,t,n);let c=Ct(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});o&&o(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&qi({...s,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){let{onMount:t}=this.props;t&&t()}componentWillUnmount(){let{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:o}=this.props;o&&o(t,n,r)}__init(){this.resetErrorBoundary=()=>{let{onReset:t}=this.props,{error:n,componentStack:r,eventId:o}=this.state;t&&t(n,r,o),this.setState(bm)}}render(){let{fallback:t,children:n}=this.props,r=this.state;if(r.error){let o;return typeof t=="function"?o=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):o=t,Dt.isValidElement(o)?o:(t&&Ao&&p.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}};function fI(e,t){let n=e.displayName||e.name||lI,r=o=>Dt.createElement(Ms,{...t,__self:this,__source:{fileName:Tm,lineNumber:240}},Dt.createElement(e,{...o,__self:this,__source:{fileName:Tm,lineNumber:241}}));return r.displayName=`errorBoundary(${n})`,(0,Im.default)(r,e),r}var pI="redux.action",mI="info",hI={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function gI(e){let t={...hI,...e};return n=>(r,o)=>(t.attachReduxState&&Gr().addEventProcessor((s,a)=>{try{s.type===void 0&&s.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(s.contexts.state.state.value)}])}catch{}return s}),n((s,a)=>{let c=r(s,a),u=$(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:pI,data:l,type:mI});let d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){let m=I(),h=m&&m.getOptions(),_=h&&h.normalizeDepth||3,y={state:{type:"redux",value:d}};Re(y,"__sentry_override_normalization_depth__",3+_),u.setContext("state",y)}else u.setContext("state",null);let{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},o))}function _I(e){let t=At({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:o,instrumentPageLoad:i=!0,instrumentNavigation:s=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);let c=d=>{Tt(a,d)},u=d=>{bt(a,d)},l=xm(n,r,o);l(c,i,!1),l(u,!1,s)}}}function xm(e,t,n){return(r,o=!0,i=!0)=>{let s,a;o&&T&&T.location&&vm(t,T.location,n,(c,u="url")=>{a=c,s=r({name:a,attributes:{[ye]:"pageload",[ue]:"auto.pageload.react.reactrouter_v3",[z]:u}})}),i&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(s&&s.end(),vm(t,c,n,(u,l="url")=>{a=u;let d={[ye]:"navigation",[ue]:"auto.navigation.react.reactrouter_v3",[z]:l};s=r({name:a,attributes:d})}))})}}function vm(e,t,n,r){let o=t.pathname;n({location:t,routes:e},(i,s,a)=>{if(i||!a)return r(o);let c=yI(a.routes||[]);return c.length===0||c==="/*"?r(o):(o=c,r(o,"route"))})}function yI(e){if(!Array.isArray(e)||e.length===0)return"";let t=e.filter(r=>!!r.path),n=-1;for(let r=t.length-1;r>=0;r--){let o=t[r];if(o.path&&o.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}var wm=Lt(Co()),Rm=Lt(Do()),SI="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx",pr;function EI(e){let t=At({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o,instrumentPageLoad:i=!0,instrumentNavigation:s=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);let c=d=>{Tt(a,d)},u=d=>{bt(a,d)},l=Cm(n,r,o);l(c,i,!1),l(u,!1,s)}}}function TI(e){let t=At({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:o}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i);let s=u=>{Tt(i,u)},a=u=>{bt(i,u)},c=km(n,r,o);c(s,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function Cm(e,t,n){return Am(e,"reactrouter_v4",t,n)}function km(e,t,n){return Am(e,"reactrouter_v5",t,n)}function Am(e,t,n=[],r){function o(){if(e&&e.location)return e.location.pathname;if(T&&T.location)return T.location.pathname}function i(s){if(n.length===0||!r)return[s,"url"];let a=Om(n,s,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[s,"url"]}return(s,a=!0,c=!0)=>{let u=o();if(a&&u){let[l,d]=i(u);pr=s({name:l,attributes:{[ye]:"pageload",[ue]:`auto.pageload.react.${t}`,[z]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){pr&&pr.end();let[f,m]=i(l.pathname);pr=s({name:f,attributes:{[ye]:"navigation",[ue]:`auto.navigation.react.${t}`,[z]:m}})}})}}function Om(e,t,n,r=[]){return e.some(o=>{let i=o.path?n(t,o):r.length?r[r.length-1].match:bI(t);return i&&(r.push({route:o,match:i}),o.routes&&Om(o.routes,t,n,r)),!!i}),r}function bI(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function II(e){let t=e.displayName||e.name,n=vI(),r=o=>(n&&o&&o.computedMatch&&o.computedMatch.isExact&&(n.updateName(o.computedMatch.path),n.setAttribute(z,"route")),Rm.createElement(e,{...o,__self:this,__source:{fileName:SI,lineNumber:277}}));return r.displayName=`sentryRoute(${t})`,(0,wm.default)(r,e),r}function vI(){if(pr)return pr;let e=Je(),t=e?qe(e):void 0;if(!t)return;let n=A(t).op;return n==="navigation"||n==="pageload"?t:void 0}var Nm=Lt(Co()),_u=Lt(Do());var Mm="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx",mr,xn,wn,Rn,Oo,Cn,hr,Ds,vn=!1;function xI(e){let t=At({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:s,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);let d=m=>{bt(l,m)},f=T&&T.location&&T.location.pathname;c&&f&&Tt(l,{name:f,attributes:{[z]:"url",[ye]:"pageload",[ue]:"auto.pageload.react.reactrouter_v6"}}),xn=n,wn=r,Rn=o,Cn=s,Oo=i,vn=a||!1,hr=d,Ds=u}}}function wI(e,t,n,r,o,i){return(s,a=!0,c=!0)=>{let u=T&&T.location&&T.location.pathname;a&&u&&(mr=s({name:u,attributes:{[z]:"url",[ye]:"pageload",[ue]:"auto.pageload.react.reactrouter_v6"}})),xn=e,wn=t,Rn=n,Cn=o,Oo=r,vn=i||!1,hr=s,Ds=c}}function gu(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Dm(e,t,n,r=""){if(!e||e.length===0)return[vn?gu(t.pathname,r):t.pathname,"url"];let o="";if(n)for(let i=0;i<n.length;i++){let s=n[i],a=s.route;if(a){if(a.index)return[vn?gu(s.pathname,r):s.pathname,"route"];let c=a.path;if(c){let u=c[0]==="/"||o[o.length-1]==="/"?c:`/${c}`;if(o+=u,r+s.pathname===t.pathname)return Xo(o)!==Xo(s.pathname)&&o.slice(-2)!=="/*"?[(vn?"":r)+u,"route"]:[(vn?"":r)+o,"route"]}}}return[vn?gu(t.pathname,r):t.pathname,"url"]}function yu(e,t,n,r,o){let i=Array.isArray(r)?r:Cn(n,t,o);if(e&&i){let[s,a]=Dm(n,t,i,o);e.updateName(s),e.setAttribute(z,a)}}function Su(e,t,n,r,o){let i=Array.isArray(r)?r:Cn(t,e,o);if(Ds&&(n==="PUSH"||n==="POP")&&i){mr&&mr.end();let[s,a]=Dm(t,e,i,o);mr=hr({name:s,attributes:{[z]:a,[ye]:"navigation",[ue]:"auto.navigation.react.reactrouter_v6"}})}}function RI(e){if(!xn||!wn||!Rn||!Oo||!Cn||!hr)return Ao&&p.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${xn}. useLocation: ${wn}. useNavigationType: ${Rn}.
      createRoutesFromChildren: ${Oo}. matchRoutes: ${Cn}. customStartTransaction: ${hr}.`),e;let t=!0,n=r=>{let o=wn(),i=Rn();return xn(()=>{let s=Oo(r.children);t?(yu(Eu(),o,s),t=!1):Su(o,s,i)},[o,i]),_u.createElement(e,{...r,__self:this,__source:{fileName:Mm,lineNumber:329}})};return(0,Nm.default)(n,e),n}function CI(e){if(!xn||!wn||!Rn||!Cn||!hr)return Ao&&p.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0,n=r=>{let{routes:o,locationArg:i}=r,s=e(o,i),a=wn(),c=Rn(),u=typeof i=="string"||i&&i.pathname?i:a;return xn(()=>{let l=typeof u=="string"?{pathname:u}:u;t?(yu(Eu(),l,o),t=!1):Su(l,o,c)},[c,u]),s};return(r,o)=>_u.createElement(n,{routes:r,locationArg:o,__self:this,__source:{fileName:Mm,lineNumber:386}})}function kI(e){return function(t,n){let r=e(t,n),o=n&&n.basename,i=Eu();return r.state.historyAction==="POP"&&i&&yu(i,r.state.location,t,void 0,o),r.subscribe(s=>{let a=s.location;Ds&&(s.historyAction==="PUSH"||s.historyAction==="POP")&&Su(a,t,s.historyAction,void 0,o)}),r}}function Eu(){if(mr)return mr;let e=Je(),t=e?qe(e):void 0;if(!t)return;let n=A(t).op;return n==="navigation"||n==="pageload"?t:void 0}export{cc as Breadcrumbs,ao as BrowserClient,qb as BrowserProfilingIntegration,Pi as BrowserTracing,uc as Dedupe,Ms as ErrorBoundary,xo as Feedback,bi as FunctionToString,lc as GlobalHandlers,dc as HttpContext,$n as Hub,Ti as InboundFilters,lM as Integrations,fc as LinkedErrors,nd as ModuleMetadata,ko as Profiler,To as Replay,VT as ReplayCanvas,hn as SDK_VERSION,ye as SEMANTIC_ATTRIBUTE_SENTRY_OP,ue as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,ht as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,z as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,at as Scope,pc as TryCatch,T as WINDOW,je as addBreadcrumb,Si as addEventProcessor,ti as addGlobalEventProcessor,Dl as addIntegration,zn as addTracingExtensions,Hi as breadcrumbsIntegration,zi as browserApiErrorsIntegration,sm as browserProfilingIntegration,At as browserTracingIntegration,Wr as captureEvent,Ct as captureException,nl as captureMessage,qr as captureSession,Iy as captureUserFeedback,Yd as chromeStackLineParser,fl as close,rl as configureScope,xl as continueTrace,gI as createReduxEnhancer,Yn as createTransport,oc as createUserFeedbackEnvelope,$i as dedupeIntegration,pf as defaultIntegrations,Gt as defaultRequestInstrumentationOptions,Jd as defaultStackLineParsers,ac as defaultStackParser,si as endSession,nc as eventFromException,rc as eventFromMessage,Fi as exceptionFromError,yl as extractTraceparentData,xb as feedbackIntegration,dl as flush,Sy as forceLoad,no as functionToStringIntegration,Vd as geckoStackLineParser,Je as getActiveSpan,_e as getActiveTransaction,I as getClient,B as getCurrentHub,$ as getCurrentScope,mf as getDefaultIntegrations,Vr as getHubFromCarrier,LT as getReplay,ci as getSpanStatusFromHttpCode,Gi as globalHandlersIntegration,Wi as httpContextIntegration,to as inboundFiltersIntegration,Yb as init,Xn as instrumentOutgoingRequests,ml as isInitialized,pl as lastEventId,ji as linkedErrorsIntegration,Ob as makeBrowserOfflineTransport,ic as makeFetchTransport,ai as makeMain,Vl as makeMultiplexedTransport,sc as makeXHRTransport,dd as metrics,Ua as moduleMetadataIntegration,Ey as onLoad,jb as onProfilingStartRouteTransaction,G_ as opera10StackLineParser,z_ as opera11StackLineParser,Jl as parameterize,_I as reactRouterV3BrowserTracingIntegration,xm as reactRouterV3Instrumentation,EI as reactRouterV4BrowserTracingIntegration,Cm as reactRouterV4Instrumentation,TI as reactRouterV5BrowserTracingIntegration,km as reactRouterV5Instrumentation,xI as reactRouterV6BrowserTracingIntegration,wI as reactRouterV6Instrumentation,Op as replayCanvasIntegration,MT as replayIntegration,$p as sendFeedback,ii as setContext,Da as setCurrentClient,il as setExtra,ol as setExtras,Ut as setHttpStatus,mi as setMeasurement,al as setTag,sl as setTags,cl as setUser,qi as showReportDialog,Tl as spanStatusfromHttpCode,bt as startBrowserTracingNavigationSpan,Tt as startBrowserTracingPageLoadSpan,Ke as startInactiveSpan,zr as startSession,Il as startSpan,vl as startSpanManual,ll as startTransaction,bl as trace,cI as useProfiler,Kd as winjsStackLineParser,jr as withActiveSpan,fI as withErrorBoundary,ul as withIsolationScope,aI as withProfiler,ze as withScope,RI as withSentryReactRouterV6Routing,II as withSentryRouting,Ty as wrap,kI as wrapCreateBrowserRouter,CI as wrapUseRoutes};
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=esm-URLASF3C.js.map
